(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();function LE(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Oh={exports:{}},Sl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function vS(){if(Q_)return Sl;Q_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(n,o,a){var c=null;if(a!==void 0&&(c=""+a),o.key!==void 0&&(c=""+o.key),"key"in o){a={};for(var h in o)h!=="key"&&(a[h]=o[h])}else a=o;return o=a.ref,{$$typeof:r,type:n,key:c,ref:o!==void 0?o:null,props:a}}return Sl.Fragment=e,Sl.jsx=t,Sl.jsxs=t,Sl}var J_;function TS(){return J_||(J_=1,Oh.exports=vS()),Oh.exports}var O=TS(),Bh={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function ES(){if(Z_)return be;Z_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),S=Symbol.iterator;function w(k){return k===null||typeof k!="object"?null:(k=S&&k[S]||k["@@iterator"],typeof k=="function"?k:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q=Object.assign,$={};function re(k,X,se){this.props=k,this.context=X,this.refs=$,this.updater=se||P}re.prototype.isReactComponent={},re.prototype.setState=function(k,X){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,X,"setState")},re.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function ne(){}ne.prototype=re.prototype;function ie(k,X,se){this.props=k,this.context=X,this.refs=$,this.updater=se||P}var ue=ie.prototype=new ne;ue.constructor=ie,q(ue,re.prototype),ue.isPureReactComponent=!0;var _e=Array.isArray;function fe(){}var b={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function M(k,X,se){var pe=se.ref;return{$$typeof:r,type:k,key:X,ref:pe!==void 0?pe:null,props:se}}function V(k,X){return M(k.type,X,k.props)}function L(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function F(k){var X={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(se){return X[se]})}var N=/\/+/g;function it(k,X){return typeof k=="object"&&k!==null&&k.key!=null?F(""+k.key):X.toString(36)}function St(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(fe,fe):(k.status="pending",k.then(function(X){k.status==="pending"&&(k.status="fulfilled",k.value=X)},function(X){k.status==="pending"&&(k.status="rejected",k.reason=X)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Z(k,X,se,pe,Se){var Ue=typeof k;(Ue==="undefined"||Ue==="boolean")&&(k=null);var qe=!1;if(k===null)qe=!0;else switch(Ue){case"bigint":case"string":case"number":qe=!0;break;case"object":switch(k.$$typeof){case r:case e:qe=!0;break;case v:return qe=k._init,Z(qe(k._payload),X,se,pe,Se)}}if(qe)return Se=Se(k),qe=pe===""?"."+it(k,0):pe,_e(Se)?(se="",qe!=null&&(se=qe.replace(N,"$&/")+"/"),Z(Se,X,se,"",function(ci){return ci})):Se!=null&&(L(Se)&&(Se=V(Se,se+(Se.key==null||k&&k.key===Se.key?"":(""+Se.key).replace(N,"$&/")+"/")+qe)),X.push(Se)),1;qe=0;var Kt=pe===""?".":pe+":";if(_e(k))for(var _t=0;_t<k.length;_t++)pe=k[_t],Ue=Kt+it(pe,_t),qe+=Z(pe,X,se,Ue,Se);else if(_t=w(k),typeof _t=="function")for(k=_t.call(k),_t=0;!(pe=k.next()).done;)pe=pe.value,Ue=Kt+it(pe,_t++),qe+=Z(pe,X,se,Ue,Se);else if(Ue==="object"){if(typeof k.then=="function")return Z(St(k),X,se,pe,Se);throw X=String(k),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return qe}function le(k,X,se){if(k==null)return k;var pe=[],Se=0;return Z(k,pe,"","",function(Ue){return X.call(se,Ue,Se++)}),pe}function Ee(k){if(k._status===-1){var X=k._result;X=X(),X.then(function(se){(k._status===0||k._status===-1)&&(k._status=1,k._result=se)},function(se){(k._status===0||k._status===-1)&&(k._status=2,k._result=se)}),k._status===-1&&(k._status=0,k._result=X)}if(k._status===1)return k._result.default;throw k._result}var Qe=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},et={map:le,forEach:function(k,X,se){le(k,function(){X.apply(this,arguments)},se)},count:function(k){var X=0;return le(k,function(){X++}),X},toArray:function(k){return le(k,function(X){return X})||[]},only:function(k){if(!L(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return be.Activity=C,be.Children=et,be.Component=re,be.Fragment=t,be.Profiler=o,be.PureComponent=ie,be.StrictMode=n,be.Suspense=y,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=b,be.__COMPILER_RUNTIME={__proto__:null,c:function(k){return b.H.useMemoCache(k)}},be.cache=function(k){return function(){return k.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(k,X,se){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var pe=q({},k.props),Se=k.key;if(X!=null)for(Ue in X.key!==void 0&&(Se=""+X.key),X)!I.call(X,Ue)||Ue==="key"||Ue==="__self"||Ue==="__source"||Ue==="ref"&&X.ref===void 0||(pe[Ue]=X[Ue]);var Ue=arguments.length-2;if(Ue===1)pe.children=se;else if(1<Ue){for(var qe=Array(Ue),Kt=0;Kt<Ue;Kt++)qe[Kt]=arguments[Kt+2];pe.children=qe}return M(k.type,Se,pe)},be.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:a,_context:k},k},be.createElement=function(k,X,se){var pe,Se={},Ue=null;if(X!=null)for(pe in X.key!==void 0&&(Ue=""+X.key),X)I.call(X,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(Se[pe]=X[pe]);var qe=arguments.length-2;if(qe===1)Se.children=se;else if(1<qe){for(var Kt=Array(qe),_t=0;_t<qe;_t++)Kt[_t]=arguments[_t+2];Se.children=Kt}if(k&&k.defaultProps)for(pe in qe=k.defaultProps,qe)Se[pe]===void 0&&(Se[pe]=qe[pe]);return M(k,Ue,Se)},be.createRef=function(){return{current:null}},be.forwardRef=function(k){return{$$typeof:h,render:k}},be.isValidElement=L,be.lazy=function(k){return{$$typeof:v,_payload:{_status:-1,_result:k},_init:Ee}},be.memo=function(k,X){return{$$typeof:g,type:k,compare:X===void 0?null:X}},be.startTransition=function(k){var X=b.T,se={};b.T=se;try{var pe=k(),Se=b.S;Se!==null&&Se(se,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(fe,Qe)}catch(Ue){Qe(Ue)}finally{X!==null&&se.types!==null&&(X.types=se.types),b.T=X}},be.unstable_useCacheRefresh=function(){return b.H.useCacheRefresh()},be.use=function(k){return b.H.use(k)},be.useActionState=function(k,X,se){return b.H.useActionState(k,X,se)},be.useCallback=function(k,X){return b.H.useCallback(k,X)},be.useContext=function(k){return b.H.useContext(k)},be.useDebugValue=function(){},be.useDeferredValue=function(k,X){return b.H.useDeferredValue(k,X)},be.useEffect=function(k,X){return b.H.useEffect(k,X)},be.useEffectEvent=function(k){return b.H.useEffectEvent(k)},be.useId=function(){return b.H.useId()},be.useImperativeHandle=function(k,X,se){return b.H.useImperativeHandle(k,X,se)},be.useInsertionEffect=function(k,X){return b.H.useInsertionEffect(k,X)},be.useLayoutEffect=function(k,X){return b.H.useLayoutEffect(k,X)},be.useMemo=function(k,X){return b.H.useMemo(k,X)},be.useOptimistic=function(k,X){return b.H.useOptimistic(k,X)},be.useReducer=function(k,X,se){return b.H.useReducer(k,X,se)},be.useRef=function(k){return b.H.useRef(k)},be.useState=function(k){return b.H.useState(k)},be.useSyncExternalStore=function(k,X,se){return b.H.useSyncExternalStore(k,X,se)},be.useTransition=function(){return b.H.useTransition()},be.version="19.2.4",be}var X_;function Fm(){return X_||(X_=1,Bh.exports=ES()),Bh.exports}var cn=Fm();const CS=LE(cn);var Fh={exports:{}},Rl={},zh={exports:{}},qh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function AS(){return W_||(W_=1,(function(r){function e(Z,le){var Ee=Z.length;Z.push(le);e:for(;0<Ee;){var Qe=Ee-1>>>1,et=Z[Qe];if(0<o(et,le))Z[Qe]=le,Z[Ee]=et,Ee=Qe;else break e}}function t(Z){return Z.length===0?null:Z[0]}function n(Z){if(Z.length===0)return null;var le=Z[0],Ee=Z.pop();if(Ee!==le){Z[0]=Ee;e:for(var Qe=0,et=Z.length,k=et>>>1;Qe<k;){var X=2*(Qe+1)-1,se=Z[X],pe=X+1,Se=Z[pe];if(0>o(se,Ee))pe<et&&0>o(Se,se)?(Z[Qe]=Se,Z[pe]=Ee,Qe=pe):(Z[Qe]=se,Z[X]=Ee,Qe=X);else if(pe<et&&0>o(Se,Ee))Z[Qe]=Se,Z[pe]=Ee,Qe=pe;else break e}}return le}function o(Z,le){var Ee=Z.sortIndex-le.sortIndex;return Ee!==0?Ee:Z.id-le.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var c=Date,h=c.now();r.unstable_now=function(){return c.now()-h}}var y=[],g=[],v=1,C=null,S=3,w=!1,P=!1,q=!1,$=!1,re=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function ue(Z){for(var le=t(g);le!==null;){if(le.callback===null)n(g);else if(le.startTime<=Z)n(g),le.sortIndex=le.expirationTime,e(y,le);else break;le=t(g)}}function _e(Z){if(q=!1,ue(Z),!P)if(t(y)!==null)P=!0,fe||(fe=!0,F());else{var le=t(g);le!==null&&St(_e,le.startTime-Z)}}var fe=!1,b=-1,I=5,M=-1;function V(){return $?!0:!(r.unstable_now()-M<I)}function L(){if($=!1,fe){var Z=r.unstable_now();M=Z;var le=!0;try{e:{P=!1,q&&(q=!1,ne(b),b=-1),w=!0;var Ee=S;try{t:{for(ue(Z),C=t(y);C!==null&&!(C.expirationTime>Z&&V());){var Qe=C.callback;if(typeof Qe=="function"){C.callback=null,S=C.priorityLevel;var et=Qe(C.expirationTime<=Z);if(Z=r.unstable_now(),typeof et=="function"){C.callback=et,ue(Z),le=!0;break t}C===t(y)&&n(y),ue(Z)}else n(y);C=t(y)}if(C!==null)le=!0;else{var k=t(g);k!==null&&St(_e,k.startTime-Z),le=!1}}break e}finally{C=null,S=Ee,w=!1}le=void 0}}finally{le?F():fe=!1}}}var F;if(typeof ie=="function")F=function(){ie(L)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,it=N.port2;N.port1.onmessage=L,F=function(){it.postMessage(null)}}else F=function(){re(L,0)};function St(Z,le){b=re(function(){Z(r.unstable_now())},le)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Z){Z.callback=null},r.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Z?Math.floor(1e3/Z):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_next=function(Z){switch(S){case 1:case 2:case 3:var le=3;break;default:le=S}var Ee=S;S=le;try{return Z()}finally{S=Ee}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(Z,le){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var Ee=S;S=Z;try{return le()}finally{S=Ee}},r.unstable_scheduleCallback=function(Z,le,Ee){var Qe=r.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?Qe+Ee:Qe):Ee=Qe,Z){case 1:var et=-1;break;case 2:et=250;break;case 5:et=1073741823;break;case 4:et=1e4;break;default:et=5e3}return et=Ee+et,Z={id:v++,callback:le,priorityLevel:Z,startTime:Ee,expirationTime:et,sortIndex:-1},Ee>Qe?(Z.sortIndex=Ee,e(g,Z),t(y)===null&&Z===t(g)&&(q?(ne(b),b=-1):q=!0,St(_e,Ee-Qe))):(Z.sortIndex=et,e(y,Z),P||w||(P=!0,fe||(fe=!0,F()))),Z},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(Z){var le=S;return function(){var Ee=S;S=le;try{return Z.apply(this,arguments)}finally{S=Ee}}}})(qh)),qh}var j_;function SS(){return j_||(j_=1,zh.exports=AS()),zh.exports}var Gh={exports:{}},an={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function RS(){if(ev)return an;ev=1;var r=Fm();function e(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var n={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function a(y,g,v){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:C==null?null:""+C,children:y,containerInfo:g,implementation:v}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,an.createPortal=function(y,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return a(y,g,null,v)},an.flushSync=function(y){var g=c.T,v=n.p;try{if(c.T=null,n.p=2,y)return y()}finally{c.T=g,n.p=v,n.d.f()}},an.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,n.d.C(y,g))},an.prefetchDNS=function(y){typeof y=="string"&&n.d.D(y)},an.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var v=g.as,C=h(v,g.crossOrigin),S=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?n.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:C,integrity:S,fetchPriority:w}):v==="script"&&n.d.X(y,{crossOrigin:C,integrity:S,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},an.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=h(g.as,g.crossOrigin);n.d.M(y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&n.d.M(y)},an.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,C=h(v,g.crossOrigin);n.d.L(y,v,{crossOrigin:C,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},an.preloadModule=function(y,g){if(typeof y=="string")if(g){var v=h(g.as,g.crossOrigin);n.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else n.d.m(y)},an.requestFormReset=function(y){n.d.r(y)},an.unstable_batchedUpdates=function(y,g){return y(g)},an.useFormState=function(y,g,v){return c.H.useFormState(y,g,v)},an.useFormStatus=function(){return c.H.useHostTransitionStatus()},an.version="19.2.4",an}var tv;function xS(){if(tv)return Gh.exports;tv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Gh.exports=RS(),Gh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function wS(){if(nv)return Rl;nv=1;var r=SS(),e=Fm(),t=xS();function n(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function a(i){var s=i,l=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(l=s.return),i=s.return;while(i)}return s.tag===3?l:null}function c(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(i.tag===31){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function y(i){if(a(i)!==i)throw Error(n(188))}function g(i){var s=i.alternate;if(!s){if(s=a(i),s===null)throw Error(n(188));return s!==i?null:i}for(var l=i,u=s;;){var p=l.return;if(p===null)break;var _=p.alternate;if(_===null){if(u=p.return,u!==null){l=u;continue}break}if(p.child===_.child){for(_=p.child;_;){if(_===l)return y(p),i;if(_===u)return y(p),s;_=_.sibling}throw Error(n(188))}if(l.return!==u.return)l=p,u=_;else{for(var E=!1,R=p.child;R;){if(R===l){E=!0,l=p,u=_;break}if(R===u){E=!0,u=p,l=_;break}R=R.sibling}if(!E){for(R=_.child;R;){if(R===l){E=!0,l=_,u=p;break}if(R===u){E=!0,u=_,l=p;break}R=R.sibling}if(!E)throw Error(n(189))}}if(l.alternate!==u)throw Error(n(190))}if(l.tag!==3)throw Error(n(188));return l.stateNode.current===l?i:s}function v(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=v(i),s!==null)return s;i=i.sibling}return null}var C=Object.assign,S=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),P=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),_e=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=L&&i[L]||i["@@iterator"],typeof i=="function"?i:null)}var N=Symbol.for("react.client.reference");function it(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===N?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case q:return"Fragment";case re:return"Profiler";case $:return"StrictMode";case _e:return"Suspense";case fe:return"SuspenseList";case M:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case P:return"Portal";case ie:return i.displayName||"Context";case ne:return(i._context.displayName||"Context")+".Consumer";case ue:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case b:return s=i.displayName||null,s!==null?s:it(i.type)||"Memo";case I:s=i._payload,i=i._init;try{return it(i(s))}catch{}}return null}var St=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},Qe=[],et=-1;function k(i){return{current:i}}function X(i){0>et||(i.current=Qe[et],Qe[et]=null,et--)}function se(i,s){et++,Qe[et]=i.current,i.current=s}var pe=k(null),Se=k(null),Ue=k(null),qe=k(null);function Kt(i,s){switch(se(Ue,s),se(Se,i),se(pe,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?y_(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=y_(s),i=__(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}X(pe),se(pe,i)}function _t(){X(pe),X(Se),X(Ue)}function ci(i){i.memoizedState!==null&&se(qe,i);var s=pe.current,l=__(s,i.type);s!==l&&(se(Se,i),se(pe,l))}function Ni(i){Se.current===i&&(X(pe),X(Se)),qe.current===i&&(X(qe),Tl._currentValue=Ee)}var ms,no;function ei(i){if(ms===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);ms=s&&s[1]||"",no=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ms+i+no}var ps=!1;function io(i,s){if(!i||ps)return"";ps=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var j=function(){throw Error()};if(Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(K){var Y=K}Reflect.construct(i,[],j)}else{try{j.call()}catch(K){Y=K}i.call(j.prototype)}}else{try{throw Error()}catch(K){Y=K}(j=i())&&typeof j.catch=="function"&&j.catch(function(){})}}catch(K){if(K&&Y&&typeof K.stack=="string")return[K.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=u.DetermineComponentFrameRoot(),E=_[0],R=_[1];if(E&&R){var D=E.split(`
`),H=R.split(`
`);for(p=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;p<H.length&&!H[p].includes("DetermineComponentFrameRoot");)p++;if(u===D.length||p===H.length)for(u=D.length-1,p=H.length-1;1<=u&&0<=p&&D[u]!==H[p];)p--;for(;1<=u&&0<=p;u--,p--)if(D[u]!==H[p]){if(u!==1||p!==1)do if(u--,p--,0>p||D[u]!==H[p]){var J=`
`+D[u].replace(" at new "," at ");return i.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",i.displayName)),J}while(1<=u&&0<=p);break}}}finally{ps=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?ei(l):""}function Uf(i,s){switch(i.tag){case 26:case 27:case 5:return ei(i.type);case 16:return ei("Lazy");case 13:return i.child!==s&&s!==null?ei("Suspense Fallback"):ei("Suspense");case 19:return ei("SuspenseList");case 0:case 15:return io(i.type,!1);case 11:return io(i.type.render,!1);case 1:return io(i.type,!0);case 31:return ei("Activity");default:return""}}function iu(i){try{var s="",l=null;do s+=Uf(i,l),l=i,i=i.return;while(i);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var ro=Object.prototype.hasOwnProperty,gs=r.unstable_scheduleCallback,so=r.unstable_cancelCallback,Lf=r.unstable_shouldYield,Aa=r.unstable_requestPaint,Qt=r.unstable_now,ru=r.unstable_getCurrentPriorityLevel,kt=r.unstable_ImmediatePriority,Ft=r.unstable_UserBlockingPriority,Vi=r.unstable_NormalPriority,su=r.unstable_LowPriority,Sa=r.unstable_IdlePriority,kf=r.log,ys=r.unstable_setDisableYieldValue,ur=null,sn=null;function Fn(i){if(typeof kf=="function"&&ys(i),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode(ur,i)}catch{}}var dn=Math.clz32?Math.clz32:ou,Of=Math.log,Ra=Math.LN2;function ou(i){return i>>>=0,i===0?32:31-(Of(i)/Ra|0)|0}var _s=256,fi=262144,cr=4194304;function ti(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function zn(i,s,l){var u=i.pendingLanes;if(u===0)return 0;var p=0,_=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var R=u&134217727;return R!==0?(u=R&~_,u!==0?p=ti(u):(E&=R,E!==0?p=ti(E):l||(l=R&~i,l!==0&&(p=ti(l))))):(R=u&~_,R!==0?p=ti(R):E!==0?p=ti(E):l||(l=u&~i,l!==0&&(p=ti(l)))),p===0?0:s!==0&&s!==p&&(s&_)===0&&(_=p&-p,l=s&-s,_>=l||_===32&&(l&4194048)!==0)?s:p}function fr(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function oo(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xa(){var i=cr;return cr<<=1,(cr&62914560)===0&&(cr=4194304),i}function Pi(i){for(var s=[],l=0;31>l;l++)s.push(i);return s}function dr(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Jt(i,s,l,u,p,_){var E=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var R=i.entanglements,D=i.expirationTimes,H=i.hiddenUpdates;for(l=E&~l;0<l;){var J=31-dn(l),j=1<<J;R[J]=0,D[J]=-1;var Y=H[J];if(Y!==null)for(H[J]=null,J=0;J<Y.length;J++){var K=Y[J];K!==null&&(K.lane&=-536870913)}l&=~j}u!==0&&wa(i,u,0),_!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=_&~(E&~s))}function wa(i,s,l){i.pendingLanes|=s,i.suspendedLanes&=~s;var u=31-dn(s);i.entangledLanes|=s,i.entanglements[u]=i.entanglements[u]|1073741824|l&261930}function hr(i,s){var l=i.entangledLanes|=s;for(i=i.entanglements;l;){var u=31-dn(l),p=1<<u;p&s|i[u]&s&&(i[u]|=s),l&=~p}}function mr(i,s){var l=s&-s;return l=(l&42)!==0?1:Ia(l),(l&(i.suspendedLanes|s))!==0?0:l}function Ia(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ma(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ui(){var i=le.p;return i!==0?i:(i=window.event,i===void 0?32:z_(i.type))}function au(i,s){var l=le.p;try{return le.p=i,s()}finally{le.p=l}}var di=Math.random().toString(36).slice(2),Tt="__reactFiber$"+di,Zt="__reactProps$"+di,hi="__reactContainer$"+di,pr="__reactEvents$"+di,mi="__reactListeners$"+di,lu="__reactHandles$"+di,ba="__reactResources$"+di,Li="__reactMarker$"+di;function vs(i){delete i[Tt],delete i[Zt],delete i[pr],delete i[mi],delete i[lu]}function ki(i){var s=i[Tt];if(s)return s;for(var l=i.parentNode;l;){if(s=l[hi]||l[Tt]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(i=R_(i);i!==null;){if(l=i[Tt])return l;i=R_(i)}return s}i=l,l=i.parentNode}return null}function Oi(i){if(i=i[Tt]||i[hi]){var s=i.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return i}return null}function Ts(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(n(33))}function ni(i){var s=i[ba];return s||(s=i[ba]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Rt(i){i[Li]=!0}var ao=new Set,gr={};function hn(i,s){pi(i,s),pi(i+"Capture",s)}function pi(i,s){for(gr[i]=s,i=0;i<s.length;i++)ao.add(s[i])}var Bf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Da={},Na={};function uu(i){return ro.call(Na,i)?!0:ro.call(Da,i)?!1:Bf.test(i)?Na[i]=!0:(Da[i]=!0,!1)}function yr(i,s,l){if(uu(s))if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+l)}}function _r(i,s,l){if(l===null)i.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+l)}}function qn(i,s,l,u){if(u===null)i.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(s,l,""+u)}}function mn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function cu(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ff(i,s,l){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s);if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var p=u.get,_=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(E){l=""+E,_.call(this,E)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function lo(i){if(!i._valueTracker){var s=cu(i)?"checked":"value";i._valueTracker=Ff(i,s,""+i[s])}}function Va(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return i&&(u=cu(i)?i.checked?"true":"false":i.value),i=u,i!==l?(s.setValue(i),!0):!1}function uo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Bi=/[\n"\\]/g;function Et(i){return i.replace(Bi,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function vr(i,s,l,u,p,_,E,R){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),s!=null?E==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+mn(s)):i.value!==""+mn(s)&&(i.value=""+mn(s)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),s!=null?co(i,E,mn(s)):l!=null?co(i,E,mn(l)):u!=null&&i.removeAttribute("value"),p==null&&_!=null&&(i.defaultChecked=!!_),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.name=""+mn(R):i.removeAttribute("name")}function Es(i,s,l,u,p,_,E,R){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),s!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){lo(i);return}l=l!=null?""+mn(l):"",s=s!=null?""+mn(s):l,R||s===i.value||(i.value=s),i.defaultValue=s}u=u??p,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=R?i.checked:!!u,i.defaultChecked=!!u,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E),lo(i)}function co(i,s,l){s==="number"&&uo(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function Je(i,s,l,u){if(i=i.options,s){s={};for(var p=0;p<l.length;p++)s["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=s.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&u&&(i[l].defaultSelected=!0)}else{for(l=""+mn(l),s=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,u&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function Cs(i,s,l){if(s!=null&&(s=""+mn(s),s!==i.value&&(i.value=s),l==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=l!=null?""+mn(l):""}function Tr(i,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(n(92));if(St(u)){if(1<u.length)throw Error(n(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=mn(s),i.defaultValue=l,u=i.textContent,u===l&&u!==""&&u!==null&&(i.value=u),lo(i)}function Gn(i,s){if(s){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=s;return}}i.textContent=s}var zf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pa(i,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":u?i.setProperty(s,l):typeof l!="number"||l===0||zf.has(s)?s==="float"?i.cssFloat=l:i[s]=(""+l).trim():i[s]=l+"px"}function fu(i,s,l){if(s!=null&&typeof s!="object")throw Error(n(62));if(i=i.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var p in s)u=s[p],s.hasOwnProperty(p)&&l[p]!==u&&Pa(i,p,u)}else for(var _ in s)s.hasOwnProperty(_)&&Pa(i,_,s[_])}function Ua(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function gi(i){return Gf.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function zt(){}var fo=null;function ho(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Fi=null,bn=null;function du(i){var s=Oi(i);if(s&&(i=s.stateNode)){var l=i[Zt]||null;e:switch(i=s.stateNode,s.type){case"input":if(vr(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Et(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==i&&u.form===i.form){var p=u[Zt]||null;if(!p)throw Error(n(90));vr(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===i.form&&Va(u)}break e;case"textarea":Cs(i,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&Je(i,!!l.multiple,s,!1)}}}var La=!1;function hu(i,s,l){if(La)return i(s,l);La=!0;try{var u=i(s);return u}finally{if(La=!1,(Fi!==null||bn!==null)&&(uc(),Fi&&(s=Fi,i=bn,bn=Fi=null,du(s),i)))for(s=0;s<i.length;s++)du(i[s])}}function Tn(i,s){var l=i.stateNode;if(l===null)return null;var u=l[Zt]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(n(231,s,typeof l));return l}var ii=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ka=!1;if(ii)try{var yi={};Object.defineProperty(yi,"passive",{get:function(){ka=!0}}),window.addEventListener("test",yi,yi),window.removeEventListener("test",yi,yi)}catch{ka=!1}var Dn=null,mo=null,_i=null;function Er(){if(_i)return _i;var i,s=mo,l=s.length,u,p="value"in Dn?Dn.value:Dn.textContent,_=p.length;for(i=0;i<l&&s[i]===p[i];i++);var E=l-i;for(u=1;u<=E&&s[l-u]===p[_-u];u++);return _i=p.slice(i,1<u?1-u:void 0)}function As(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Cr(){return!0}function ft(){return!1}function on(i){function s(l,u,p,_,E){this._reactName=l,this._targetInst=p,this.type=u,this.nativeEvent=_,this.target=E,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(l=i[R],this[R]=l?l(_):_[R]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Cr:ft,this.isPropagationStopped=ft,this}return C(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Cr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Cr)},persist:function(){},isPersistent:Cr}),s}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ss=on(zi),Ar=C({},zi,{view:0,detail:0}),mu=on(Ar),Sr,po,pn,Rs=C({},Ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xr,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==pn&&(pn&&i.type==="mousemove"?(Sr=i.screenX-pn.screenX,po=i.screenY-pn.screenY):po=Sr=0,pn=i),Sr)},movementY:function(i){return"movementY"in i?i.movementY:po}}),pu=on(Rs),xs=C({},Rs,{dataTransfer:0}),gu=on(xs),Oa=C({},Ar,{relatedTarget:0}),Rr=on(Oa),yu=C({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),go=on(yu),Hf=C({},zi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),_u=on(Hf),ws=C({},zi,{data:0}),Ba=on(ws),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fa={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},za={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=za[i])?!!s[i]:!1}function xr(){return Tu}var Eu=C({},Ar,{key:function(i){if(i.key){var s=vu[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=As(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Fa[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xr,charCode:function(i){return i.type==="keypress"?As(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?As(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Cu=on(Eu),qi=C({},Rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qa=on(qi),Au=C({},Ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xr}),Su=on(Au),Ru=C({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),yo=on(Ru),gn=C({},Rs,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),xu=on(gn),wu=C({},zi,{newState:0,oldState:0}),wr=on(wu),m=[9,13,27,32],T=ii&&"CompositionEvent"in window,A=null;ii&&"documentMode"in document&&(A=document.documentMode);var x=ii&&"TextEvent"in window&&!A,z=ii&&(!T||A&&8<A&&11>=A),Q=" ",ae=!1;function tt(i,s){switch(i){case"keyup":return m.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mt(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Le=!1;function qt(i,s){switch(i){case"compositionend":return Mt(s);case"keypress":return s.which!==32?null:(ae=!0,Q);case"textInput":return i=s.data,i===Q&&ae?null:i;default:return null}}function Gt(i,s){if(Le)return i==="compositionend"||!T&&tt(i,s)?(i=Er(),_i=mo=Dn=null,Le=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return z&&s.locale!=="ko"?null:s.data;default:return null}}var Ir={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function En(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Ir[i.type]:s==="textarea"}function Is(i,s,l,u){Fi?bn?bn.push(u):bn=[u]:Fi=u,s=gc(s,"onChange"),0<s.length&&(l=new Ss("onChange","change",null,l,u),i.push({event:l,listeners:s}))}var Gi=null,Ga=null;function $C(i){f_(i,0)}function Iu(i){var s=Ts(i);if(Va(s))return i}function bp(i,s){if(i==="change")return s}var Dp=!1;if(ii){var Yf;if(ii){var $f="oninput"in document;if(!$f){var Np=document.createElement("div");Np.setAttribute("oninput","return;"),$f=typeof Np.oninput=="function"}Yf=$f}else Yf=!1;Dp=Yf&&(!document.documentMode||9<document.documentMode)}function Vp(){Gi&&(Gi.detachEvent("onpropertychange",Pp),Ga=Gi=null)}function Pp(i){if(i.propertyName==="value"&&Iu(Ga)){var s=[];Is(s,Ga,i,ho(i)),hu($C,s)}}function KC(i,s,l){i==="focusin"?(Vp(),Gi=s,Ga=l,Gi.attachEvent("onpropertychange",Pp)):i==="focusout"&&Vp()}function QC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Iu(Ga)}function JC(i,s){if(i==="click")return Iu(s)}function ZC(i,s){if(i==="input"||i==="change")return Iu(s)}function XC(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Nn=typeof Object.is=="function"?Object.is:XC;function Ha(i,s){if(Nn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var l=Object.keys(i),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var p=l[u];if(!ro.call(s,p)||!Nn(i[p],s[p]))return!1}return!0}function Up(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Lp(i,s){var l=Up(i);i=0;for(var u;l;){if(l.nodeType===3){if(u=i+l.textContent.length,i<=s&&u>=s)return{node:l,offset:s-i};i=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Up(l)}}function kp(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?kp(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function Op(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=uo(i.document);s instanceof i.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)i=s.contentWindow;else break;s=uo(i.document)}return s}function Kf(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var WC=ii&&"documentMode"in document&&11>=document.documentMode,_o=null,Qf=null,Ya=null,Jf=!1;function Bp(i,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Jf||_o==null||_o!==uo(u)||(u=_o,"selectionStart"in u&&Kf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Ya&&Ha(Ya,u)||(Ya=u,u=gc(Qf,"onSelect"),0<u.length&&(s=new Ss("onSelect","select",null,s,l),i.push({event:s,listeners:u}),s.target=_o)))}function Ms(i,s){var l={};return l[i.toLowerCase()]=s.toLowerCase(),l["Webkit"+i]="webkit"+s,l["Moz"+i]="moz"+s,l}var vo={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionrun:Ms("Transition","TransitionRun"),transitionstart:Ms("Transition","TransitionStart"),transitioncancel:Ms("Transition","TransitionCancel"),transitionend:Ms("Transition","TransitionEnd")},Zf={},Fp={};ii&&(Fp=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function bs(i){if(Zf[i])return Zf[i];if(!vo[i])return i;var s=vo[i],l;for(l in s)if(s.hasOwnProperty(l)&&l in Fp)return Zf[i]=s[l];return i}var zp=bs("animationend"),qp=bs("animationiteration"),Gp=bs("animationstart"),jC=bs("transitionrun"),eA=bs("transitionstart"),tA=bs("transitioncancel"),Hp=bs("transitionend"),Yp=new Map,Xf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xf.push("scrollEnd");function ri(i,s){Yp.set(i,s),hn(s,[i])}var Mu=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Hn=[],To=0,Wf=0;function bu(){for(var i=To,s=Wf=To=0;s<i;){var l=Hn[s];Hn[s++]=null;var u=Hn[s];Hn[s++]=null;var p=Hn[s];Hn[s++]=null;var _=Hn[s];if(Hn[s++]=null,u!==null&&p!==null){var E=u.pending;E===null?p.next=p:(p.next=E.next,E.next=p),u.pending=p}_!==0&&$p(l,p,_)}}function Du(i,s,l,u){Hn[To++]=i,Hn[To++]=s,Hn[To++]=l,Hn[To++]=u,Wf|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function jf(i,s,l,u){return Du(i,s,l,u),Nu(i)}function Ds(i,s){return Du(i,null,null,s),Nu(i)}function $p(i,s,l){i.lanes|=l;var u=i.alternate;u!==null&&(u.lanes|=l);for(var p=!1,_=i.return;_!==null;)_.childLanes|=l,u=_.alternate,u!==null&&(u.childLanes|=l),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(p=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,p&&s!==null&&(p=31-dn(l),i=_.hiddenUpdates,u=i[p],u===null?i[p]=[s]:u.push(s),s.lane=l|536870912),_):null}function Nu(i){if(50<hl)throw hl=0,lh=null,Error(n(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Eo={};function nA(i,s,l,u){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(i,s,l,u){return new nA(i,s,l,u)}function ed(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Hi(i,s){var l=i.alternate;return l===null?(l=Vn(i.tag,s,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=s,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,s=i.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function Kp(i,s){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,s=l.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Vu(i,s,l,u,p,_){var E=0;if(u=i,typeof i=="function")ed(i)&&(E=1);else if(typeof i=="string")E=aS(i,l,pe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case M:return i=Vn(31,l,s,p),i.elementType=M,i.lanes=_,i;case q:return Ns(l.children,p,_,s);case $:E=8,p|=24;break;case re:return i=Vn(12,l,s,p|2),i.elementType=re,i.lanes=_,i;case _e:return i=Vn(13,l,s,p),i.elementType=_e,i.lanes=_,i;case fe:return i=Vn(19,l,s,p),i.elementType=fe,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ie:E=10;break e;case ne:E=9;break e;case ue:E=11;break e;case b:E=14;break e;case I:E=16,u=null;break e}E=29,l=Error(n(130,i===null?"null":typeof i,"")),u=null}return s=Vn(E,l,s,p),s.elementType=i,s.type=u,s.lanes=_,s}function Ns(i,s,l,u){return i=Vn(7,i,u,s),i.lanes=l,i}function td(i,s,l){return i=Vn(6,i,null,s),i.lanes=l,i}function Qp(i){var s=Vn(18,null,null,0);return s.stateNode=i,s}function nd(i,s,l){return s=Vn(4,i.children!==null?i.children:[],i.key,s),s.lanes=l,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Jp=new WeakMap;function Yn(i,s){if(typeof i=="object"&&i!==null){var l=Jp.get(i);return l!==void 0?l:(s={value:i,source:s,stack:iu(s)},Jp.set(i,s),s)}return{value:i,source:s,stack:iu(s)}}var Co=[],Ao=0,Pu=null,$a=0,$n=[],Kn=0,Mr=null,vi=1,Ti="";function Yi(i,s){Co[Ao++]=$a,Co[Ao++]=Pu,Pu=i,$a=s}function Zp(i,s,l){$n[Kn++]=vi,$n[Kn++]=Ti,$n[Kn++]=Mr,Mr=i;var u=vi;i=Ti;var p=32-dn(u)-1;u&=~(1<<p),l+=1;var _=32-dn(s)+p;if(30<_){var E=p-p%5;_=(u&(1<<E)-1).toString(32),u>>=E,p-=E,vi=1<<32-dn(s)+p|l<<p|u,Ti=_+i}else vi=1<<_|l<<p|u,Ti=i}function id(i){i.return!==null&&(Yi(i,1),Zp(i,1,0))}function rd(i){for(;i===Pu;)Pu=Co[--Ao],Co[Ao]=null,$a=Co[--Ao],Co[Ao]=null;for(;i===Mr;)Mr=$n[--Kn],$n[Kn]=null,Ti=$n[--Kn],$n[Kn]=null,vi=$n[--Kn],$n[Kn]=null}function Xp(i,s){$n[Kn++]=vi,$n[Kn++]=Ti,$n[Kn++]=Mr,vi=s.id,Ti=s.overflow,Mr=i}var Xt=null,dt=null,Ge=!1,br=null,Qn=!1,sd=Error(n(519));function Dr(i){var s=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ka(Yn(s,i)),sd}function Wp(i){var s=i.stateNode,l=i.type,u=i.memoizedProps;switch(s[Tt]=i,s[Zt]=u,l){case"dialog":Oe("cancel",s),Oe("close",s);break;case"iframe":case"object":case"embed":Oe("load",s);break;case"video":case"audio":for(l=0;l<pl.length;l++)Oe(pl[l],s);break;case"source":Oe("error",s);break;case"img":case"image":case"link":Oe("error",s),Oe("load",s);break;case"details":Oe("toggle",s);break;case"input":Oe("invalid",s),Es(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Oe("invalid",s);break;case"textarea":Oe("invalid",s),Tr(s,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||p_(s.textContent,l)?(u.popover!=null&&(Oe("beforetoggle",s),Oe("toggle",s)),u.onScroll!=null&&Oe("scroll",s),u.onScrollEnd!=null&&Oe("scrollend",s),u.onClick!=null&&(s.onclick=zt),s=!0):s=!1,s||Dr(i,!0)}function jp(i){for(Xt=i.return;Xt;)switch(Xt.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Xt=Xt.return}}function So(i){if(i!==Xt)return!1;if(!Ge)return jp(i),Ge=!0,!1;var s=i.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||Ah(i.type,i.memoizedProps)),l=!l),l&&dt&&Dr(i),jp(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));dt=S_(i)}else if(s===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));dt=S_(i)}else s===27?(s=dt,Yr(i.type)?(i=Ih,Ih=null,dt=i):dt=s):dt=Xt?Zn(i.stateNode.nextSibling):null;return!0}function Vs(){dt=Xt=null,Ge=!1}function od(){var i=br;return i!==null&&(Rn===null?Rn=i:Rn.push.apply(Rn,i),br=null),i}function Ka(i){br===null?br=[i]:br.push(i)}var ad=k(null),Ps=null,$i=null;function Nr(i,s,l){se(ad,s._currentValue),s._currentValue=l}function Ki(i){i._currentValue=ad.current,X(ad)}function ld(i,s,l){for(;i!==null;){var u=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),i===l)break;i=i.return}}function ud(i,s,l,u){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var _=p.dependencies;if(_!==null){var E=p.child;_=_.firstContext;e:for(;_!==null;){var R=_;_=p;for(var D=0;D<s.length;D++)if(R.context===s[D]){_.lanes|=l,R=_.alternate,R!==null&&(R.lanes|=l),ld(_.return,l,i),u||(E=null);break e}_=R.next}}else if(p.tag===18){if(E=p.return,E===null)throw Error(n(341));E.lanes|=l,_=E.alternate,_!==null&&(_.lanes|=l),ld(E,l,i),E=null}else E=p.child;if(E!==null)E.return=p;else for(E=p;E!==null;){if(E===i){E=null;break}if(p=E.sibling,p!==null){p.return=E.return,E=p;break}E=E.return}p=E}}function Ro(i,s,l,u){i=null;for(var p=s,_=!1;p!==null;){if(!_){if((p.flags&524288)!==0)_=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var E=p.alternate;if(E===null)throw Error(n(387));if(E=E.memoizedProps,E!==null){var R=p.type;Nn(p.pendingProps.value,E.value)||(i!==null?i.push(R):i=[R])}}else if(p===qe.current){if(E=p.alternate,E===null)throw Error(n(387));E.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Tl):i=[Tl])}p=p.return}i!==null&&ud(s,i,l,u),s.flags|=262144}function Uu(i){for(i=i.firstContext;i!==null;){if(!Nn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Us(i){Ps=i,$i=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Wt(i){return eg(Ps,i)}function Lu(i,s){return Ps===null&&Us(i),eg(i,s)}function eg(i,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},$i===null){if(i===null)throw Error(n(308));$i=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else $i=$i.next=s;return l}var iA=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(l,u){i.push(u)}};this.abort=function(){s.aborted=!0,i.forEach(function(l){return l()})}},rA=r.unstable_scheduleCallback,sA=r.unstable_NormalPriority,bt={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function cd(){return{controller:new iA,data:new Map,refCount:0}}function Qa(i){i.refCount--,i.refCount===0&&rA(sA,function(){i.controller.abort()})}var Ja=null,fd=0,xo=0,wo=null;function oA(i,s){if(Ja===null){var l=Ja=[];fd=0,xo=mh(),wo={status:"pending",value:void 0,then:function(u){l.push(u)}}}return fd++,s.then(tg,tg),s}function tg(){if(--fd===0&&Ja!==null){wo!==null&&(wo.status="fulfilled");var i=Ja;Ja=null,xo=0,wo=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function aA(i,s){var l=[],u={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){u.status="fulfilled",u.value=s;for(var p=0;p<l.length;p++)(0,l[p])(s)},function(p){for(u.status="rejected",u.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),u}var ng=Z.S;Z.S=function(i,s){By=Qt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&oA(i,s),ng!==null&&ng(i,s)};var Ls=k(null);function dd(){var i=Ls.current;return i!==null?i:ut.pooledCache}function ku(i,s){s===null?se(Ls,Ls.current):se(Ls,s.pool)}function ig(){var i=dd();return i===null?null:{parent:bt._currentValue,pool:i}}var Io=Error(n(460)),hd=Error(n(474)),Ou=Error(n(542)),Bu={then:function(){}};function rg(i){return i=i.status,i==="fulfilled"||i==="rejected"}function sg(i,s,l){switch(l=i[l],l===void 0?i.push(s):l!==s&&(s.then(zt,zt),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,ag(i),i;default:if(typeof s.status=="string")s.then(zt,zt);else{if(i=ut,i!==null&&100<i.shellSuspendCounter)throw Error(n(482));i=s,i.status="pending",i.then(function(u){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=u}},function(u){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,ag(i),i}throw Os=s,Io}}function ks(i){try{var s=i._init;return s(i._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Os=l,Io):l}}var Os=null;function og(){if(Os===null)throw Error(n(459));var i=Os;return Os=null,i}function ag(i){if(i===Io||i===Ou)throw Error(n(483))}var Mo=null,Za=0;function Fu(i){var s=Za;return Za+=1,Mo===null&&(Mo=[]),sg(Mo,i,s)}function Xa(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function zu(i,s){throw s.$$typeof===S?Error(n(525)):(i=Object.prototype.toString.call(s),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function lg(i){function s(B,U){if(i){var G=B.deletions;G===null?(B.deletions=[U],B.flags|=16):G.push(U)}}function l(B,U){if(!i)return null;for(;U!==null;)s(B,U),U=U.sibling;return null}function u(B){for(var U=new Map;B!==null;)B.key!==null?U.set(B.key,B):U.set(B.index,B),B=B.sibling;return U}function p(B,U){return B=Hi(B,U),B.index=0,B.sibling=null,B}function _(B,U,G){return B.index=G,i?(G=B.alternate,G!==null?(G=G.index,G<U?(B.flags|=67108866,U):G):(B.flags|=67108866,U)):(B.flags|=1048576,U)}function E(B){return i&&B.alternate===null&&(B.flags|=67108866),B}function R(B,U,G,W){return U===null||U.tag!==6?(U=td(G,B.mode,W),U.return=B,U):(U=p(U,G),U.return=B,U)}function D(B,U,G,W){var Te=G.type;return Te===q?J(B,U,G.props.children,W,G.key):U!==null&&(U.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===I&&ks(Te)===U.type)?(U=p(U,G.props),Xa(U,G),U.return=B,U):(U=Vu(G.type,G.key,G.props,null,B.mode,W),Xa(U,G),U.return=B,U)}function H(B,U,G,W){return U===null||U.tag!==4||U.stateNode.containerInfo!==G.containerInfo||U.stateNode.implementation!==G.implementation?(U=nd(G,B.mode,W),U.return=B,U):(U=p(U,G.children||[]),U.return=B,U)}function J(B,U,G,W,Te){return U===null||U.tag!==7?(U=Ns(G,B.mode,W,Te),U.return=B,U):(U=p(U,G),U.return=B,U)}function j(B,U,G){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=td(""+U,B.mode,G),U.return=B,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case w:return G=Vu(U.type,U.key,U.props,null,B.mode,G),Xa(G,U),G.return=B,G;case P:return U=nd(U,B.mode,G),U.return=B,U;case I:return U=ks(U),j(B,U,G)}if(St(U)||F(U))return U=Ns(U,B.mode,G,null),U.return=B,U;if(typeof U.then=="function")return j(B,Fu(U),G);if(U.$$typeof===ie)return j(B,Lu(B,U),G);zu(B,U)}return null}function Y(B,U,G,W){var Te=U!==null?U.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Te!==null?null:R(B,U,""+G,W);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case w:return G.key===Te?D(B,U,G,W):null;case P:return G.key===Te?H(B,U,G,W):null;case I:return G=ks(G),Y(B,U,G,W)}if(St(G)||F(G))return Te!==null?null:J(B,U,G,W,null);if(typeof G.then=="function")return Y(B,U,Fu(G),W);if(G.$$typeof===ie)return Y(B,U,Lu(B,G),W);zu(B,G)}return null}function K(B,U,G,W,Te){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return B=B.get(G)||null,R(U,B,""+W,Te);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case w:return B=B.get(W.key===null?G:W.key)||null,D(U,B,W,Te);case P:return B=B.get(W.key===null?G:W.key)||null,H(U,B,W,Te);case I:return W=ks(W),K(B,U,G,W,Te)}if(St(W)||F(W))return B=B.get(G)||null,J(U,B,W,Te,null);if(typeof W.then=="function")return K(B,U,G,Fu(W),Te);if(W.$$typeof===ie)return K(B,U,G,Lu(U,W),Te);zu(U,W)}return null}function he(B,U,G,W){for(var Te=null,Ze=null,ye=U,Ve=U=0,Fe=null;ye!==null&&Ve<G.length;Ve++){ye.index>Ve?(Fe=ye,ye=null):Fe=ye.sibling;var Xe=Y(B,ye,G[Ve],W);if(Xe===null){ye===null&&(ye=Fe);break}i&&ye&&Xe.alternate===null&&s(B,ye),U=_(Xe,U,Ve),Ze===null?Te=Xe:Ze.sibling=Xe,Ze=Xe,ye=Fe}if(Ve===G.length)return l(B,ye),Ge&&Yi(B,Ve),Te;if(ye===null){for(;Ve<G.length;Ve++)ye=j(B,G[Ve],W),ye!==null&&(U=_(ye,U,Ve),Ze===null?Te=ye:Ze.sibling=ye,Ze=ye);return Ge&&Yi(B,Ve),Te}for(ye=u(ye);Ve<G.length;Ve++)Fe=K(ye,B,Ve,G[Ve],W),Fe!==null&&(i&&Fe.alternate!==null&&ye.delete(Fe.key===null?Ve:Fe.key),U=_(Fe,U,Ve),Ze===null?Te=Fe:Ze.sibling=Fe,Ze=Fe);return i&&ye.forEach(function(Zr){return s(B,Zr)}),Ge&&Yi(B,Ve),Te}function Ae(B,U,G,W){if(G==null)throw Error(n(151));for(var Te=null,Ze=null,ye=U,Ve=U=0,Fe=null,Xe=G.next();ye!==null&&!Xe.done;Ve++,Xe=G.next()){ye.index>Ve?(Fe=ye,ye=null):Fe=ye.sibling;var Zr=Y(B,ye,Xe.value,W);if(Zr===null){ye===null&&(ye=Fe);break}i&&ye&&Zr.alternate===null&&s(B,ye),U=_(Zr,U,Ve),Ze===null?Te=Zr:Ze.sibling=Zr,Ze=Zr,ye=Fe}if(Xe.done)return l(B,ye),Ge&&Yi(B,Ve),Te;if(ye===null){for(;!Xe.done;Ve++,Xe=G.next())Xe=j(B,Xe.value,W),Xe!==null&&(U=_(Xe,U,Ve),Ze===null?Te=Xe:Ze.sibling=Xe,Ze=Xe);return Ge&&Yi(B,Ve),Te}for(ye=u(ye);!Xe.done;Ve++,Xe=G.next())Xe=K(ye,B,Ve,Xe.value,W),Xe!==null&&(i&&Xe.alternate!==null&&ye.delete(Xe.key===null?Ve:Xe.key),U=_(Xe,U,Ve),Ze===null?Te=Xe:Ze.sibling=Xe,Ze=Xe);return i&&ye.forEach(function(_S){return s(B,_S)}),Ge&&Yi(B,Ve),Te}function lt(B,U,G,W){if(typeof G=="object"&&G!==null&&G.type===q&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case w:e:{for(var Te=G.key;U!==null;){if(U.key===Te){if(Te=G.type,Te===q){if(U.tag===7){l(B,U.sibling),W=p(U,G.props.children),W.return=B,B=W;break e}}else if(U.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===I&&ks(Te)===U.type){l(B,U.sibling),W=p(U,G.props),Xa(W,G),W.return=B,B=W;break e}l(B,U);break}else s(B,U);U=U.sibling}G.type===q?(W=Ns(G.props.children,B.mode,W,G.key),W.return=B,B=W):(W=Vu(G.type,G.key,G.props,null,B.mode,W),Xa(W,G),W.return=B,B=W)}return E(B);case P:e:{for(Te=G.key;U!==null;){if(U.key===Te)if(U.tag===4&&U.stateNode.containerInfo===G.containerInfo&&U.stateNode.implementation===G.implementation){l(B,U.sibling),W=p(U,G.children||[]),W.return=B,B=W;break e}else{l(B,U);break}else s(B,U);U=U.sibling}W=nd(G,B.mode,W),W.return=B,B=W}return E(B);case I:return G=ks(G),lt(B,U,G,W)}if(St(G))return he(B,U,G,W);if(F(G)){if(Te=F(G),typeof Te!="function")throw Error(n(150));return G=Te.call(G),Ae(B,U,G,W)}if(typeof G.then=="function")return lt(B,U,Fu(G),W);if(G.$$typeof===ie)return lt(B,U,Lu(B,G),W);zu(B,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,U!==null&&U.tag===6?(l(B,U.sibling),W=p(U,G),W.return=B,B=W):(l(B,U),W=td(G,B.mode,W),W.return=B,B=W),E(B)):l(B,U)}return function(B,U,G,W){try{Za=0;var Te=lt(B,U,G,W);return Mo=null,Te}catch(ye){if(ye===Io||ye===Ou)throw ye;var Ze=Vn(29,ye,null,B.mode);return Ze.lanes=W,Ze.return=B,Ze}finally{}}}var Bs=lg(!0),ug=lg(!1),Vr=!1;function md(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function pd(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Pr(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ur(i,s,l){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(je&2)!==0){var p=u.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),u.pending=s,s=Nu(i),$p(i,null,l),s}return Du(i,u,s,l),Nu(i)}function Wa(i,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=i.pendingLanes,l|=u,s.lanes=l,hr(i,l)}}function gd(i,s){var l=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var p=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var E={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?p=_=E:_=_.next=E,l=l.next}while(l!==null);_===null?p=_=s:_=_.next=s}else p=_=s;l={baseState:u.baseState,firstBaseUpdate:p,lastBaseUpdate:_,shared:u.shared,callbacks:u.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=s:i.next=s,l.lastBaseUpdate=s}var yd=!1;function ja(){if(yd){var i=wo;if(i!==null)throw i}}function el(i,s,l,u){yd=!1;var p=i.updateQueue;Vr=!1;var _=p.firstBaseUpdate,E=p.lastBaseUpdate,R=p.shared.pending;if(R!==null){p.shared.pending=null;var D=R,H=D.next;D.next=null,E===null?_=H:E.next=H,E=D;var J=i.alternate;J!==null&&(J=J.updateQueue,R=J.lastBaseUpdate,R!==E&&(R===null?J.firstBaseUpdate=H:R.next=H,J.lastBaseUpdate=D))}if(_!==null){var j=p.baseState;E=0,J=H=D=null,R=_;do{var Y=R.lane&-536870913,K=Y!==R.lane;if(K?(Be&Y)===Y:(u&Y)===Y){Y!==0&&Y===xo&&(yd=!0),J!==null&&(J=J.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var he=i,Ae=R;Y=s;var lt=l;switch(Ae.tag){case 1:if(he=Ae.payload,typeof he=="function"){j=he.call(lt,j,Y);break e}j=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Ae.payload,Y=typeof he=="function"?he.call(lt,j,Y):he,Y==null)break e;j=C({},j,Y);break e;case 2:Vr=!0}}Y=R.callback,Y!==null&&(i.flags|=64,K&&(i.flags|=8192),K=p.callbacks,K===null?p.callbacks=[Y]:K.push(Y))}else K={lane:Y,tag:R.tag,payload:R.payload,callback:R.callback,next:null},J===null?(H=J=K,D=j):J=J.next=K,E|=Y;if(R=R.next,R===null){if(R=p.shared.pending,R===null)break;K=R,R=K.next,K.next=null,p.lastBaseUpdate=K,p.shared.pending=null}}while(!0);J===null&&(D=j),p.baseState=D,p.firstBaseUpdate=H,p.lastBaseUpdate=J,_===null&&(p.shared.lanes=0),Fr|=E,i.lanes=E,i.memoizedState=j}}function cg(i,s){if(typeof i!="function")throw Error(n(191,i));i.call(s)}function fg(i,s){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)cg(l[i],s)}var bo=k(null),qu=k(0);function dg(i,s){i=nr,se(qu,i),se(bo,s),nr=i|s.baseLanes}function _d(){se(qu,nr),se(bo,bo.current)}function vd(){nr=qu.current,X(bo),X(qu)}var Pn=k(null),Jn=null;function Lr(i){var s=i.alternate;se(xt,xt.current&1),se(Pn,i),Jn===null&&(s===null||bo.current!==null||s.memoizedState!==null)&&(Jn=i)}function Td(i){se(xt,xt.current),se(Pn,i),Jn===null&&(Jn=i)}function hg(i){i.tag===22?(se(xt,xt.current),se(Pn,i),Jn===null&&(Jn=i)):kr()}function kr(){se(xt,xt.current),se(Pn,Pn.current)}function Un(i){X(Pn),Jn===i&&(Jn=null),X(xt)}var xt=k(0);function Gu(i){for(var s=i;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||xh(l)||wh(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Qi=0,Ne=null,ot=null,Dt=null,Hu=!1,Do=!1,Fs=!1,Yu=0,tl=0,No=null,lA=0;function Ct(){throw Error(n(321))}function Ed(i,s){if(s===null)return!1;for(var l=0;l<s.length&&l<i.length;l++)if(!Nn(i[l],s[l]))return!1;return!0}function Cd(i,s,l,u,p,_){return Qi=_,Ne=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=i===null||i.memoizedState===null?Zg:kd,Fs=!1,_=l(u,p),Fs=!1,Do&&(_=pg(s,l,u,p)),mg(i),_}function mg(i){Z.H=rl;var s=ot!==null&&ot.next!==null;if(Qi=0,Dt=ot=Ne=null,Hu=!1,tl=0,No=null,s)throw Error(n(300));i===null||Nt||(i=i.dependencies,i!==null&&Uu(i)&&(Nt=!0))}function pg(i,s,l,u){Ne=i;var p=0;do{if(Do&&(No=null),tl=0,Do=!1,25<=p)throw Error(n(301));if(p+=1,Dt=ot=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}Z.H=Xg,_=s(l,u)}while(Do);return _}function uA(){var i=Z.H,s=i.useState()[0];return s=typeof s.then=="function"?nl(s):s,i=i.useState()[0],(ot!==null?ot.memoizedState:null)!==i&&(Ne.flags|=1024),s}function Ad(){var i=Yu!==0;return Yu=0,i}function Sd(i,s,l){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~l}function Rd(i){if(Hu){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Hu=!1}Qi=0,Dt=ot=Ne=null,Do=!1,tl=Yu=0,No=null}function yn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?Ne.memoizedState=Dt=i:Dt=Dt.next=i,Dt}function wt(){if(ot===null){var i=Ne.alternate;i=i!==null?i.memoizedState:null}else i=ot.next;var s=Dt===null?Ne.memoizedState:Dt.next;if(s!==null)Dt=s,ot=i;else{if(i===null)throw Ne.alternate===null?Error(n(467)):Error(n(310));ot=i,i={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},Dt===null?Ne.memoizedState=Dt=i:Dt=Dt.next=i}return Dt}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nl(i){var s=tl;return tl+=1,No===null&&(No=[]),i=sg(No,i,s),s=Ne,(Dt===null?s.memoizedState:Dt.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?Zg:kd),i}function Ku(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return nl(i);if(i.$$typeof===ie)return Wt(i)}throw Error(n(438,String(i)))}function xd(i){var s=null,l=Ne.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=Ne.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=$u(),Ne.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(i),u=0;u<i;u++)l[u]=V;return s.index++,l}function Ji(i,s){return typeof s=="function"?s(i):s}function Qu(i){var s=wt();return wd(s,ot,i)}function wd(i,s,l){var u=i.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=l;var p=i.baseQueue,_=u.pending;if(_!==null){if(p!==null){var E=p.next;p.next=_.next,_.next=E}s.baseQueue=p=_,u.pending=null}if(_=i.baseState,p===null)i.memoizedState=_;else{s=p.next;var R=E=null,D=null,H=s,J=!1;do{var j=H.lane&-536870913;if(j!==H.lane?(Be&j)===j:(Qi&j)===j){var Y=H.revertLane;if(Y===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),j===xo&&(J=!0);else if((Qi&Y)===Y){H=H.next,Y===xo&&(J=!0);continue}else j={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(R=D=j,E=_):D=D.next=j,Ne.lanes|=Y,Fr|=Y;j=H.action,Fs&&l(_,j),_=H.hasEagerState?H.eagerState:l(_,j)}else Y={lane:j,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},D===null?(R=D=Y,E=_):D=D.next=Y,Ne.lanes|=j,Fr|=j;H=H.next}while(H!==null&&H!==s);if(D===null?E=_:D.next=R,!Nn(_,i.memoizedState)&&(Nt=!0,J&&(l=wo,l!==null)))throw l;i.memoizedState=_,i.baseState=E,i.baseQueue=D,u.lastRenderedState=_}return p===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function Id(i){var s=wt(),l=s.queue;if(l===null)throw Error(n(311));l.lastRenderedReducer=i;var u=l.dispatch,p=l.pending,_=s.memoizedState;if(p!==null){l.pending=null;var E=p=p.next;do _=i(_,E.action),E=E.next;while(E!==p);Nn(_,s.memoizedState)||(Nt=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,u]}function gg(i,s,l){var u=Ne,p=wt(),_=Ge;if(_){if(l===void 0)throw Error(n(407));l=l()}else l=s();var E=!Nn((ot||p).memoizedState,l);if(E&&(p.memoizedState=l,Nt=!0),p=p.queue,Dd(vg.bind(null,u,p,i),[i]),p.getSnapshot!==s||E||Dt!==null&&Dt.memoizedState.tag&1){if(u.flags|=2048,Vo(9,{destroy:void 0},_g.bind(null,u,p,l,s),null),ut===null)throw Error(n(349));_||(Qi&127)!==0||yg(u,s,l)}return l}function yg(i,s,l){i.flags|=16384,i={getSnapshot:s,value:l},s=Ne.updateQueue,s===null?(s=$u(),Ne.updateQueue=s,s.stores=[i]):(l=s.stores,l===null?s.stores=[i]:l.push(i))}function _g(i,s,l,u){s.value=l,s.getSnapshot=u,Tg(s)&&Eg(i)}function vg(i,s,l){return l(function(){Tg(s)&&Eg(i)})}function Tg(i){var s=i.getSnapshot;i=i.value;try{var l=s();return!Nn(i,l)}catch{return!0}}function Eg(i){var s=Ds(i,2);s!==null&&xn(s,i,2)}function Md(i){var s=yn();if(typeof i=="function"){var l=i;if(i=l(),Fs){Fn(!0);try{l()}finally{Fn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:i},s}function Cg(i,s,l,u){return i.baseState=l,wd(i,ot,typeof u=="function"?u:Ji)}function cA(i,s,l,u,p){if(Xu(i))throw Error(n(485));if(i=s.action,i!==null){var _={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){_.listeners.push(E)}};Z.T!==null?l(!0):_.isTransition=!1,u(_),l=s.pending,l===null?(_.next=s.pending=_,Ag(s,_)):(_.next=l.next,s.pending=l.next=_)}}function Ag(i,s){var l=s.action,u=s.payload,p=i.state;if(s.isTransition){var _=Z.T,E={};Z.T=E;try{var R=l(p,u),D=Z.S;D!==null&&D(E,R),Sg(i,s,R)}catch(H){bd(i,s,H)}finally{_!==null&&E.types!==null&&(_.types=E.types),Z.T=_}}else try{_=l(p,u),Sg(i,s,_)}catch(H){bd(i,s,H)}}function Sg(i,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Rg(i,s,u)},function(u){return bd(i,s,u)}):Rg(i,s,l)}function Rg(i,s,l){s.status="fulfilled",s.value=l,xg(s),i.state=l,s=i.pending,s!==null&&(l=s.next,l===s?i.pending=null:(l=l.next,s.next=l,Ag(i,l)))}function bd(i,s,l){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,xg(s),s=s.next;while(s!==u)}i.action=null}function xg(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function wg(i,s){return s}function Ig(i,s){if(Ge){var l=ut.formState;if(l!==null){e:{var u=Ne;if(Ge){if(dt){t:{for(var p=dt,_=Qn;p.nodeType!==8;){if(!_){p=null;break t}if(p=Zn(p.nextSibling),p===null){p=null;break t}}_=p.data,p=_==="F!"||_==="F"?p:null}if(p){dt=Zn(p.nextSibling),u=p.data==="F!";break e}}Dr(u)}u=!1}u&&(s=l[0])}}return l=yn(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wg,lastRenderedState:s},l.queue=u,l=Kg.bind(null,Ne,u),u.dispatch=l,u=Md(!1),_=Ld.bind(null,Ne,!1,u.queue),u=yn(),p={state:s,dispatch:null,action:i,pending:null},u.queue=p,l=cA.bind(null,Ne,p,_,l),p.dispatch=l,u.memoizedState=i,[s,l,!1]}function Mg(i){var s=wt();return bg(s,ot,i)}function bg(i,s,l){if(s=wd(i,s,wg)[0],i=Qu(Ji)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=nl(s)}catch(E){throw E===Io?Ou:E}else u=s;s=wt();var p=s.queue,_=p.dispatch;return l!==s.memoizedState&&(Ne.flags|=2048,Vo(9,{destroy:void 0},fA.bind(null,p,l),null)),[u,_,i]}function fA(i,s){i.action=s}function Dg(i){var s=wt(),l=ot;if(l!==null)return bg(s,l,i);wt(),s=s.memoizedState,l=wt();var u=l.queue.dispatch;return l.memoizedState=i,[s,u,!1]}function Vo(i,s,l,u){return i={tag:i,create:l,deps:u,inst:s,next:null},s=Ne.updateQueue,s===null&&(s=$u(),Ne.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=i.next=i:(u=l.next,l.next=i,i.next=u,s.lastEffect=i),i}function Ng(){return wt().memoizedState}function Ju(i,s,l,u){var p=yn();Ne.flags|=i,p.memoizedState=Vo(1|s,{destroy:void 0},l,u===void 0?null:u)}function Zu(i,s,l,u){var p=wt();u=u===void 0?null:u;var _=p.memoizedState.inst;ot!==null&&u!==null&&Ed(u,ot.memoizedState.deps)?p.memoizedState=Vo(s,_,l,u):(Ne.flags|=i,p.memoizedState=Vo(1|s,_,l,u))}function Vg(i,s){Ju(8390656,8,i,s)}function Dd(i,s){Zu(2048,8,i,s)}function dA(i){Ne.flags|=4;var s=Ne.updateQueue;if(s===null)s=$u(),Ne.updateQueue=s,s.events=[i];else{var l=s.events;l===null?s.events=[i]:l.push(i)}}function Pg(i){var s=wt().memoizedState;return dA({ref:s,nextImpl:i}),function(){if((je&2)!==0)throw Error(n(440));return s.impl.apply(void 0,arguments)}}function Ug(i,s){return Zu(4,2,i,s)}function Lg(i,s){return Zu(4,4,i,s)}function kg(i,s){if(typeof s=="function"){i=i();var l=s(i);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Og(i,s,l){l=l!=null?l.concat([i]):null,Zu(4,4,kg.bind(null,s,i),l)}function Nd(){}function Bg(i,s){var l=wt();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&Ed(s,u[1])?u[0]:(l.memoizedState=[i,s],i)}function Fg(i,s){var l=wt();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&Ed(s,u[1]))return u[0];if(u=i(),Fs){Fn(!0);try{i()}finally{Fn(!1)}}return l.memoizedState=[u,s],u}function Vd(i,s,l){return l===void 0||(Qi&1073741824)!==0&&(Be&261930)===0?i.memoizedState=s:(i.memoizedState=l,i=zy(),Ne.lanes|=i,Fr|=i,l)}function zg(i,s,l,u){return Nn(l,s)?l:bo.current!==null?(i=Vd(i,l,u),Nn(i,s)||(Nt=!0),i):(Qi&42)===0||(Qi&1073741824)!==0&&(Be&261930)===0?(Nt=!0,i.memoizedState=l):(i=zy(),Ne.lanes|=i,Fr|=i,s)}function qg(i,s,l,u,p){var _=le.p;le.p=_!==0&&8>_?_:8;var E=Z.T,R={};Z.T=R,Ld(i,!1,s,l);try{var D=p(),H=Z.S;if(H!==null&&H(R,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var J=aA(D,u);il(i,s,J,On(i))}else il(i,s,u,On(i))}catch(j){il(i,s,{then:function(){},status:"rejected",reason:j},On())}finally{le.p=_,E!==null&&R.types!==null&&(E.types=R.types),Z.T=E}}function hA(){}function Pd(i,s,l,u){if(i.tag!==5)throw Error(n(476));var p=Gg(i).queue;qg(i,p,s,Ee,l===null?hA:function(){return Hg(i),l(u)})}function Gg(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:Ee},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:l},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Hg(i){var s=Gg(i);s.next===null&&(s=i.alternate.memoizedState),il(i,s.next.queue,{},On())}function Ud(){return Wt(Tl)}function Yg(){return wt().memoizedState}function $g(){return wt().memoizedState}function mA(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var l=On();i=Pr(l);var u=Ur(s,i,l);u!==null&&(xn(u,s,l),Wa(u,s,l)),s={cache:cd()},i.payload=s;return}s=s.return}}function pA(i,s,l){var u=On();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Xu(i)?Qg(s,l):(l=jf(i,s,l,u),l!==null&&(xn(l,i,u),Jg(l,s,u)))}function Kg(i,s,l){var u=On();il(i,s,l,u)}function il(i,s,l,u){var p={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Xu(i))Qg(s,p);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var E=s.lastRenderedState,R=_(E,l);if(p.hasEagerState=!0,p.eagerState=R,Nn(R,E))return Du(i,s,p,0),ut===null&&bu(),!1}catch{}finally{}if(l=jf(i,s,p,u),l!==null)return xn(l,i,u),Jg(l,s,u),!0}return!1}function Ld(i,s,l,u){if(u={lane:2,revertLane:mh(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Xu(i)){if(s)throw Error(n(479))}else s=jf(i,l,u,2),s!==null&&xn(s,i,2)}function Xu(i){var s=i.alternate;return i===Ne||s!==null&&s===Ne}function Qg(i,s){Do=Hu=!0;var l=i.pending;l===null?s.next=s:(s.next=l.next,l.next=s),i.pending=s}function Jg(i,s,l){if((l&4194048)!==0){var u=s.lanes;u&=i.pendingLanes,l|=u,s.lanes=l,hr(i,l)}}var rl={readContext:Wt,use:Ku,useCallback:Ct,useContext:Ct,useEffect:Ct,useImperativeHandle:Ct,useLayoutEffect:Ct,useInsertionEffect:Ct,useMemo:Ct,useReducer:Ct,useRef:Ct,useState:Ct,useDebugValue:Ct,useDeferredValue:Ct,useTransition:Ct,useSyncExternalStore:Ct,useId:Ct,useHostTransitionStatus:Ct,useFormState:Ct,useActionState:Ct,useOptimistic:Ct,useMemoCache:Ct,useCacheRefresh:Ct};rl.useEffectEvent=Ct;var Zg={readContext:Wt,use:Ku,useCallback:function(i,s){return yn().memoizedState=[i,s===void 0?null:s],i},useContext:Wt,useEffect:Vg,useImperativeHandle:function(i,s,l){l=l!=null?l.concat([i]):null,Ju(4194308,4,kg.bind(null,s,i),l)},useLayoutEffect:function(i,s){return Ju(4194308,4,i,s)},useInsertionEffect:function(i,s){Ju(4,2,i,s)},useMemo:function(i,s){var l=yn();s=s===void 0?null:s;var u=i();if(Fs){Fn(!0);try{i()}finally{Fn(!1)}}return l.memoizedState=[u,s],u},useReducer:function(i,s,l){var u=yn();if(l!==void 0){var p=l(s);if(Fs){Fn(!0);try{l(s)}finally{Fn(!1)}}}else p=s;return u.memoizedState=u.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},u.queue=i,i=i.dispatch=pA.bind(null,Ne,i),[u.memoizedState,i]},useRef:function(i){var s=yn();return i={current:i},s.memoizedState=i},useState:function(i){i=Md(i);var s=i.queue,l=Kg.bind(null,Ne,s);return s.dispatch=l,[i.memoizedState,l]},useDebugValue:Nd,useDeferredValue:function(i,s){var l=yn();return Vd(l,i,s)},useTransition:function(){var i=Md(!1);return i=qg.bind(null,Ne,i.queue,!0,!1),yn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,l){var u=Ne,p=yn();if(Ge){if(l===void 0)throw Error(n(407));l=l()}else{if(l=s(),ut===null)throw Error(n(349));(Be&127)!==0||yg(u,s,l)}p.memoizedState=l;var _={value:l,getSnapshot:s};return p.queue=_,Vg(vg.bind(null,u,_,i),[i]),u.flags|=2048,Vo(9,{destroy:void 0},_g.bind(null,u,_,l,s),null),l},useId:function(){var i=yn(),s=ut.identifierPrefix;if(Ge){var l=Ti,u=vi;l=(u&~(1<<32-dn(u)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Yu++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=lA++,s="_"+s+"r_"+l.toString(32)+"_";return i.memoizedState=s},useHostTransitionStatus:Ud,useFormState:Ig,useActionState:Ig,useOptimistic:function(i){var s=yn();s.memoizedState=s.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Ld.bind(null,Ne,!0,l),l.dispatch=s,[i,s]},useMemoCache:xd,useCacheRefresh:function(){return yn().memoizedState=mA.bind(null,Ne)},useEffectEvent:function(i){var s=yn(),l={impl:i};return s.memoizedState=l,function(){if((je&2)!==0)throw Error(n(440));return l.impl.apply(void 0,arguments)}}},kd={readContext:Wt,use:Ku,useCallback:Bg,useContext:Wt,useEffect:Dd,useImperativeHandle:Og,useInsertionEffect:Ug,useLayoutEffect:Lg,useMemo:Fg,useReducer:Qu,useRef:Ng,useState:function(){return Qu(Ji)},useDebugValue:Nd,useDeferredValue:function(i,s){var l=wt();return zg(l,ot.memoizedState,i,s)},useTransition:function(){var i=Qu(Ji)[0],s=wt().memoizedState;return[typeof i=="boolean"?i:nl(i),s]},useSyncExternalStore:gg,useId:Yg,useHostTransitionStatus:Ud,useFormState:Mg,useActionState:Mg,useOptimistic:function(i,s){var l=wt();return Cg(l,ot,i,s)},useMemoCache:xd,useCacheRefresh:$g};kd.useEffectEvent=Pg;var Xg={readContext:Wt,use:Ku,useCallback:Bg,useContext:Wt,useEffect:Dd,useImperativeHandle:Og,useInsertionEffect:Ug,useLayoutEffect:Lg,useMemo:Fg,useReducer:Id,useRef:Ng,useState:function(){return Id(Ji)},useDebugValue:Nd,useDeferredValue:function(i,s){var l=wt();return ot===null?Vd(l,i,s):zg(l,ot.memoizedState,i,s)},useTransition:function(){var i=Id(Ji)[0],s=wt().memoizedState;return[typeof i=="boolean"?i:nl(i),s]},useSyncExternalStore:gg,useId:Yg,useHostTransitionStatus:Ud,useFormState:Dg,useActionState:Dg,useOptimistic:function(i,s){var l=wt();return ot!==null?Cg(l,ot,i,s):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:xd,useCacheRefresh:$g};Xg.useEffectEvent=Pg;function Od(i,s,l,u){s=i.memoizedState,l=l(u,s),l=l==null?s:C({},s,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Bd={enqueueSetState:function(i,s,l){i=i._reactInternals;var u=On(),p=Pr(u);p.payload=s,l!=null&&(p.callback=l),s=Ur(i,p,u),s!==null&&(xn(s,i,u),Wa(s,i,u))},enqueueReplaceState:function(i,s,l){i=i._reactInternals;var u=On(),p=Pr(u);p.tag=1,p.payload=s,l!=null&&(p.callback=l),s=Ur(i,p,u),s!==null&&(xn(s,i,u),Wa(s,i,u))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var l=On(),u=Pr(l);u.tag=2,s!=null&&(u.callback=s),s=Ur(i,u,l),s!==null&&(xn(s,i,l),Wa(s,i,l))}};function Wg(i,s,l,u,p,_,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,_,E):s.prototype&&s.prototype.isPureReactComponent?!Ha(l,u)||!Ha(p,_):!0}function jg(i,s,l,u){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==i&&Bd.enqueueReplaceState(s,s.state,null)}function zs(i,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(i=i.defaultProps){l===s&&(l=C({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}function ey(i){Mu(i)}function ty(i){console.error(i)}function ny(i){Mu(i)}function Wu(i,s){try{var l=i.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function iy(i,s,l){try{var u=i.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Fd(i,s,l){return l=Pr(l),l.tag=3,l.payload={element:null},l.callback=function(){Wu(i,s)},l}function ry(i){return i=Pr(i),i.tag=3,i}function sy(i,s,l,u){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var _=u.value;i.payload=function(){return p(_)},i.callback=function(){iy(s,l,u)}}var E=l.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){iy(s,l,u),typeof p!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})})}function gA(i,s,l,u,p){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&Ro(s,l,p,!0),l=Pn.current,l!==null){switch(l.tag){case 31:case 13:return Jn===null?cc():l.alternate===null&&At===0&&(At=3),l.flags&=-257,l.flags|=65536,l.lanes=p,u===Bu?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),fh(i,u,p)),!1;case 22:return l.flags|=65536,u===Bu?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),fh(i,u,p)),!1}throw Error(n(435,l.tag))}return fh(i,u,p),cc(),!1}if(Ge)return s=Pn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,u!==sd&&(i=Error(n(422),{cause:u}),Ka(Yn(i,l)))):(u!==sd&&(s=Error(n(423),{cause:u}),Ka(Yn(s,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,u=Yn(u,l),p=Fd(i.stateNode,u,p),gd(i,p),At!==4&&(At=2)),!1;var _=Error(n(520),{cause:u});if(_=Yn(_,l),dl===null?dl=[_]:dl.push(_),At!==4&&(At=2),s===null)return!0;u=Yn(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=Fd(l.stateNode,u,i),gd(l,i),!1;case 1:if(s=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(zr===null||!zr.has(_))))return l.flags|=65536,p&=-p,l.lanes|=p,p=ry(p),sy(p,i,l,u),gd(l,p),!1}l=l.return}while(l!==null);return!1}var zd=Error(n(461)),Nt=!1;function jt(i,s,l,u){s.child=i===null?ug(s,null,l,u):Bs(s,i.child,l,u)}function oy(i,s,l,u,p){l=l.render;var _=s.ref;if("ref"in u){var E={};for(var R in u)R!=="ref"&&(E[R]=u[R])}else E=u;return Us(s),u=Cd(i,s,l,E,_,p),R=Ad(),i!==null&&!Nt?(Sd(i,s,p),Zi(i,s,p)):(Ge&&R&&id(s),s.flags|=1,jt(i,s,u,p),s.child)}function ay(i,s,l,u,p){if(i===null){var _=l.type;return typeof _=="function"&&!ed(_)&&_.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=_,ly(i,s,_,u,p)):(i=Vu(l.type,null,u,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(_=i.child,!Jd(i,p)){var E=_.memoizedProps;if(l=l.compare,l=l!==null?l:Ha,l(E,u)&&i.ref===s.ref)return Zi(i,s,p)}return s.flags|=1,i=Hi(_,u),i.ref=s.ref,i.return=s,s.child=i}function ly(i,s,l,u,p){if(i!==null){var _=i.memoizedProps;if(Ha(_,u)&&i.ref===s.ref)if(Nt=!1,s.pendingProps=u=_,Jd(i,p))(i.flags&131072)!==0&&(Nt=!0);else return s.lanes=i.lanes,Zi(i,s,p)}return qd(i,s,l,u,p)}function uy(i,s,l,u){var p=u.children,_=i!==null?i.memoizedState:null;if(i===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|l:l,i!==null){for(u=s.child=i.child,p=0;u!==null;)p=p|u.lanes|u.childLanes,u=u.sibling;u=p&~_}else u=0,s.child=null;return cy(i,s,_,l,u)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&ku(s,_!==null?_.cachePool:null),_!==null?dg(s,_):_d(),hg(s);else return u=s.lanes=536870912,cy(i,s,_!==null?_.baseLanes|l:l,l,u)}else _!==null?(ku(s,_.cachePool),dg(s,_),kr(),s.memoizedState=null):(i!==null&&ku(s,null),_d(),kr());return jt(i,s,p,l),s.child}function sl(i,s){return i!==null&&i.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function cy(i,s,l,u,p){var _=dd();return _=_===null?null:{parent:bt._currentValue,pool:_},s.memoizedState={baseLanes:l,cachePool:_},i!==null&&ku(s,null),_d(),hg(s),i!==null&&Ro(i,s,u,!0),s.childLanes=p,null}function ju(i,s){return s=tc({mode:s.mode,children:s.children},i.mode),s.ref=i.ref,i.child=s,s.return=i,s}function fy(i,s,l){return Bs(s,i.child,null,l),i=ju(s,s.pendingProps),i.flags|=2,Un(s),s.memoizedState=null,i}function yA(i,s,l){var u=s.pendingProps,p=(s.flags&128)!==0;if(s.flags&=-129,i===null){if(Ge){if(u.mode==="hidden")return i=ju(s,u),s.lanes=536870912,sl(null,i);if(Td(s),(i=dt)?(i=A_(i,Qn),i=i!==null&&i.data==="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Mr!==null?{id:vi,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},l=Qp(i),l.return=s,s.child=l,Xt=s,dt=null)):i=null,i===null)throw Dr(s);return s.lanes=536870912,null}return ju(s,u)}var _=i.memoizedState;if(_!==null){var E=_.dehydrated;if(Td(s),p)if(s.flags&256)s.flags&=-257,s=fy(i,s,l);else if(s.memoizedState!==null)s.child=i.child,s.flags|=128,s=null;else throw Error(n(558));else if(Nt||Ro(i,s,l,!1),p=(l&i.childLanes)!==0,Nt||p){if(u=ut,u!==null&&(E=mr(u,l),E!==0&&E!==_.retryLane))throw _.retryLane=E,Ds(i,E),xn(u,i,E),zd;cc(),s=fy(i,s,l)}else i=_.treeContext,dt=Zn(E.nextSibling),Xt=s,Ge=!0,br=null,Qn=!1,i!==null&&Xp(s,i),s=ju(s,u),s.flags|=4096;return s}return i=Hi(i.child,{mode:u.mode,children:u.children}),i.ref=s.ref,s.child=i,i.return=s,i}function ec(i,s){var l=s.ref;if(l===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(n(284));(i===null||i.ref!==l)&&(s.flags|=4194816)}}function qd(i,s,l,u,p){return Us(s),l=Cd(i,s,l,u,void 0,p),u=Ad(),i!==null&&!Nt?(Sd(i,s,p),Zi(i,s,p)):(Ge&&u&&id(s),s.flags|=1,jt(i,s,l,p),s.child)}function dy(i,s,l,u,p,_){return Us(s),s.updateQueue=null,l=pg(s,u,l,p),mg(i),u=Ad(),i!==null&&!Nt?(Sd(i,s,_),Zi(i,s,_)):(Ge&&u&&id(s),s.flags|=1,jt(i,s,l,_),s.child)}function hy(i,s,l,u,p){if(Us(s),s.stateNode===null){var _=Eo,E=l.contextType;typeof E=="object"&&E!==null&&(_=Wt(E)),_=new l(u,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Bd,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=u,_.state=s.memoizedState,_.refs={},md(s),E=l.contextType,_.context=typeof E=="object"&&E!==null?Wt(E):Eo,_.state=s.memoizedState,E=l.getDerivedStateFromProps,typeof E=="function"&&(Od(s,l,E,u),_.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(E=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),E!==_.state&&Bd.enqueueReplaceState(_,_.state,null),el(s,u,_,p),ja(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(i===null){_=s.stateNode;var R=s.memoizedProps,D=zs(l,R);_.props=D;var H=_.context,J=l.contextType;E=Eo,typeof J=="object"&&J!==null&&(E=Wt(J));var j=l.getDerivedStateFromProps;J=typeof j=="function"||typeof _.getSnapshotBeforeUpdate=="function",R=s.pendingProps!==R,J||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R||H!==E)&&jg(s,_,u,E),Vr=!1;var Y=s.memoizedState;_.state=Y,el(s,u,_,p),ja(),H=s.memoizedState,R||Y!==H||Vr?(typeof j=="function"&&(Od(s,l,j,u),H=s.memoizedState),(D=Vr||Wg(s,l,D,u,Y,H,E))?(J||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=H),_.props=u,_.state=H,_.context=E,u=D):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{_=s.stateNode,pd(i,s),E=s.memoizedProps,J=zs(l,E),_.props=J,j=s.pendingProps,Y=_.context,H=l.contextType,D=Eo,typeof H=="object"&&H!==null&&(D=Wt(H)),R=l.getDerivedStateFromProps,(H=typeof R=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(E!==j||Y!==D)&&jg(s,_,u,D),Vr=!1,Y=s.memoizedState,_.state=Y,el(s,u,_,p),ja();var K=s.memoizedState;E!==j||Y!==K||Vr||i!==null&&i.dependencies!==null&&Uu(i.dependencies)?(typeof R=="function"&&(Od(s,l,R,u),K=s.memoizedState),(J=Vr||Wg(s,l,J,u,Y,K,D)||i!==null&&i.dependencies!==null&&Uu(i.dependencies))?(H||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,K,D),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,K,D)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=K),_.props=u,_.state=K,_.context=D,u=J):(typeof _.componentDidUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Y===i.memoizedState||(s.flags|=1024),u=!1)}return _=u,ec(i,s),u=(s.flags&128)!==0,_||u?(_=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,i!==null&&u?(s.child=Bs(s,i.child,null,p),s.child=Bs(s,null,l,p)):jt(i,s,l,p),s.memoizedState=_.state,i=s.child):i=Zi(i,s,p),i}function my(i,s,l,u){return Vs(),s.flags|=256,jt(i,s,l,u),s.child}var Gd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hd(i){return{baseLanes:i,cachePool:ig()}}function Yd(i,s,l){return i=i!==null?i.childLanes&~l:0,s&&(i|=kn),i}function py(i,s,l){var u=s.pendingProps,p=!1,_=(s.flags&128)!==0,E;if((E=_)||(E=i!==null&&i.memoizedState===null?!1:(xt.current&2)!==0),E&&(p=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,i===null){if(Ge){if(p?Lr(s):kr(),(i=dt)?(i=A_(i,Qn),i=i!==null&&i.data!=="&"?i:null,i!==null&&(s.memoizedState={dehydrated:i,treeContext:Mr!==null?{id:vi,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},l=Qp(i),l.return=s,s.child=l,Xt=s,dt=null)):i=null,i===null)throw Dr(s);return wh(i)?s.lanes=32:s.lanes=536870912,null}var R=u.children;return u=u.fallback,p?(kr(),p=s.mode,R=tc({mode:"hidden",children:R},p),u=Ns(u,p,l,null),R.return=s,u.return=s,R.sibling=u,s.child=R,u=s.child,u.memoizedState=Hd(l),u.childLanes=Yd(i,E,l),s.memoizedState=Gd,sl(null,u)):(Lr(s),$d(s,R))}var D=i.memoizedState;if(D!==null&&(R=D.dehydrated,R!==null)){if(_)s.flags&256?(Lr(s),s.flags&=-257,s=Kd(i,s,l)):s.memoizedState!==null?(kr(),s.child=i.child,s.flags|=128,s=null):(kr(),R=u.fallback,p=s.mode,u=tc({mode:"visible",children:u.children},p),R=Ns(R,p,l,null),R.flags|=2,u.return=s,R.return=s,u.sibling=R,s.child=u,Bs(s,i.child,null,l),u=s.child,u.memoizedState=Hd(l),u.childLanes=Yd(i,E,l),s.memoizedState=Gd,s=sl(null,u));else if(Lr(s),wh(R)){if(E=R.nextSibling&&R.nextSibling.dataset,E)var H=E.dgst;E=H,u=Error(n(419)),u.stack="",u.digest=E,Ka({value:u,source:null,stack:null}),s=Kd(i,s,l)}else if(Nt||Ro(i,s,l,!1),E=(l&i.childLanes)!==0,Nt||E){if(E=ut,E!==null&&(u=mr(E,l),u!==0&&u!==D.retryLane))throw D.retryLane=u,Ds(i,u),xn(E,i,u),zd;xh(R)||cc(),s=Kd(i,s,l)}else xh(R)?(s.flags|=192,s.child=i.child,s=null):(i=D.treeContext,dt=Zn(R.nextSibling),Xt=s,Ge=!0,br=null,Qn=!1,i!==null&&Xp(s,i),s=$d(s,u.children),s.flags|=4096);return s}return p?(kr(),R=u.fallback,p=s.mode,D=i.child,H=D.sibling,u=Hi(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&65011712,H!==null?R=Hi(H,R):(R=Ns(R,p,l,null),R.flags|=2),R.return=s,u.return=s,u.sibling=R,s.child=u,sl(null,u),u=s.child,R=i.child.memoizedState,R===null?R=Hd(l):(p=R.cachePool,p!==null?(D=bt._currentValue,p=p.parent!==D?{parent:D,pool:D}:p):p=ig(),R={baseLanes:R.baseLanes|l,cachePool:p}),u.memoizedState=R,u.childLanes=Yd(i,E,l),s.memoizedState=Gd,sl(i.child,u)):(Lr(s),l=i.child,i=l.sibling,l=Hi(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,i!==null&&(E=s.deletions,E===null?(s.deletions=[i],s.flags|=16):E.push(i)),s.child=l,s.memoizedState=null,l)}function $d(i,s){return s=tc({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function tc(i,s){return i=Vn(22,i,null,s),i.lanes=0,i}function Kd(i,s,l){return Bs(s,i.child,null,l),i=$d(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function gy(i,s,l){i.lanes|=s;var u=i.alternate;u!==null&&(u.lanes|=s),ld(i.return,s,l)}function Qd(i,s,l,u,p,_){var E=i.memoizedState;E===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:p,treeForkCount:_}:(E.isBackwards=s,E.rendering=null,E.renderingStartTime=0,E.last=u,E.tail=l,E.tailMode=p,E.treeForkCount=_)}function yy(i,s,l){var u=s.pendingProps,p=u.revealOrder,_=u.tail;u=u.children;var E=xt.current,R=(E&2)!==0;if(R?(E=E&1|2,s.flags|=128):E&=1,se(xt,E),jt(i,s,u,l),u=Ge?$a:0,!R&&i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&gy(i,l,s);else if(i.tag===19)gy(i,l,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(p){case"forwards":for(l=s.child,p=null;l!==null;)i=l.alternate,i!==null&&Gu(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=s.child,s.child=null):(p=l.sibling,l.sibling=null),Qd(s,!1,p,l,_,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&Gu(i)===null){s.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}Qd(s,!0,l,null,_,u);break;case"together":Qd(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function Zi(i,s,l){if(i!==null&&(s.dependencies=i.dependencies),Fr|=s.lanes,(l&s.childLanes)===0)if(i!==null){if(Ro(i,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(n(153));if(s.child!==null){for(i=s.child,l=Hi(i,i.pendingProps),s.child=l,l.return=s;i.sibling!==null;)i=i.sibling,l=l.sibling=Hi(i,i.pendingProps),l.return=s;l.sibling=null}return s.child}function Jd(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Uu(i)))}function _A(i,s,l){switch(s.tag){case 3:Kt(s,s.stateNode.containerInfo),Nr(s,bt,i.memoizedState.cache),Vs();break;case 27:case 5:ci(s);break;case 4:Kt(s,s.stateNode.containerInfo);break;case 10:Nr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Td(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Lr(s),s.flags|=128,null):(l&s.child.childLanes)!==0?py(i,s,l):(Lr(s),i=Zi(i,s,l),i!==null?i.sibling:null);Lr(s);break;case 19:var p=(i.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(Ro(i,s,l,!1),u=(l&s.childLanes)!==0),p){if(u)return yy(i,s,l);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),se(xt,xt.current),u)break;return null;case 22:return s.lanes=0,uy(i,s,l,s.pendingProps);case 24:Nr(s,bt,i.memoizedState.cache)}return Zi(i,s,l)}function _y(i,s,l){if(i!==null)if(i.memoizedProps!==s.pendingProps)Nt=!0;else{if(!Jd(i,l)&&(s.flags&128)===0)return Nt=!1,_A(i,s,l);Nt=(i.flags&131072)!==0}else Nt=!1,Ge&&(s.flags&1048576)!==0&&Zp(s,$a,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(i=ks(s.elementType),s.type=i,typeof i=="function")ed(i)?(u=zs(i,u),s.tag=1,s=hy(null,s,i,u,l)):(s.tag=0,s=qd(null,s,i,u,l));else{if(i!=null){var p=i.$$typeof;if(p===ue){s.tag=11,s=oy(null,s,i,u,l);break e}else if(p===b){s.tag=14,s=ay(null,s,i,u,l);break e}}throw s=it(i)||i,Error(n(306,s,""))}}return s;case 0:return qd(i,s,s.type,s.pendingProps,l);case 1:return u=s.type,p=zs(u,s.pendingProps),hy(i,s,u,p,l);case 3:e:{if(Kt(s,s.stateNode.containerInfo),i===null)throw Error(n(387));u=s.pendingProps;var _=s.memoizedState;p=_.element,pd(i,s),el(s,u,null,l);var E=s.memoizedState;if(u=E.cache,Nr(s,bt,u),u!==_.cache&&ud(s,[bt],l,!0),ja(),u=E.element,_.isDehydrated)if(_={element:u,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=my(i,s,u,l);break e}else if(u!==p){p=Yn(Error(n(424)),s),Ka(p),s=my(i,s,u,l);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(dt=Zn(i.firstChild),Xt=s,Ge=!0,br=null,Qn=!0,l=ug(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Vs(),u===p){s=Zi(i,s,l);break e}jt(i,s,u,l)}s=s.child}return s;case 26:return ec(i,s),i===null?(l=M_(s.type,null,s.pendingProps,null))?s.memoizedState=l:Ge||(l=s.type,i=s.pendingProps,u=yc(Ue.current).createElement(l),u[Tt]=s,u[Zt]=i,en(u,l,i),Rt(u),s.stateNode=u):s.memoizedState=M_(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return ci(s),i===null&&Ge&&(u=s.stateNode=x_(s.type,s.pendingProps,Ue.current),Xt=s,Qn=!0,p=dt,Yr(s.type)?(Ih=p,dt=Zn(u.firstChild)):dt=p),jt(i,s,s.pendingProps.children,l),ec(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&Ge&&((p=u=dt)&&(u=QA(u,s.type,s.pendingProps,Qn),u!==null?(s.stateNode=u,Xt=s,dt=Zn(u.firstChild),Qn=!1,p=!0):p=!1),p||Dr(s)),ci(s),p=s.type,_=s.pendingProps,E=i!==null?i.memoizedProps:null,u=_.children,Ah(p,_)?u=null:E!==null&&Ah(p,E)&&(s.flags|=32),s.memoizedState!==null&&(p=Cd(i,s,uA,null,null,l),Tl._currentValue=p),ec(i,s),jt(i,s,u,l),s.child;case 6:return i===null&&Ge&&((i=l=dt)&&(l=JA(l,s.pendingProps,Qn),l!==null?(s.stateNode=l,Xt=s,dt=null,i=!0):i=!1),i||Dr(s)),null;case 13:return py(i,s,l);case 4:return Kt(s,s.stateNode.containerInfo),u=s.pendingProps,i===null?s.child=Bs(s,null,u,l):jt(i,s,u,l),s.child;case 11:return oy(i,s,s.type,s.pendingProps,l);case 7:return jt(i,s,s.pendingProps,l),s.child;case 8:return jt(i,s,s.pendingProps.children,l),s.child;case 12:return jt(i,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,Nr(s,s.type,u.value),jt(i,s,u.children,l),s.child;case 9:return p=s.type._context,u=s.pendingProps.children,Us(s),p=Wt(p),u=u(p),s.flags|=1,jt(i,s,u,l),s.child;case 14:return ay(i,s,s.type,s.pendingProps,l);case 15:return ly(i,s,s.type,s.pendingProps,l);case 19:return yy(i,s,l);case 31:return yA(i,s,l);case 22:return uy(i,s,l,s.pendingProps);case 24:return Us(s),u=Wt(bt),i===null?(p=dd(),p===null&&(p=ut,_=cd(),p.pooledCache=_,_.refCount++,_!==null&&(p.pooledCacheLanes|=l),p=_),s.memoizedState={parent:u,cache:p},md(s),Nr(s,bt,p)):((i.lanes&l)!==0&&(pd(i,s),el(s,null,null,l),ja()),p=i.memoizedState,_=s.memoizedState,p.parent!==u?(p={parent:u,cache:u},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),Nr(s,bt,u)):(u=_.cache,Nr(s,bt,u),u!==p.cache&&ud(s,[bt],l,!0))),jt(i,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(n(156,s.tag))}function Xi(i){i.flags|=4}function Zd(i,s,l,u,p){if((s=(i.mode&32)!==0)&&(s=!1),s){if(i.flags|=16777216,(p&335544128)===p)if(i.stateNode.complete)i.flags|=8192;else if(Yy())i.flags|=8192;else throw Os=Bu,hd}else i.flags&=-16777217}function vy(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!P_(s))if(Yy())i.flags|=8192;else throw Os=Bu,hd}function nc(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?xa():536870912,i.lanes|=s,ko|=s)}function ol(i,s){if(!Ge)switch(i.tailMode){case"hidden":s=i.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ht(i){var s=i.alternate!==null&&i.alternate.child===i.child,l=0,u=0;if(s)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags&65011712,u|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,u|=p.subtreeFlags,u|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=u,i.childLanes=l,s}function vA(i,s,l){var u=s.pendingProps;switch(rd(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(s),null;case 1:return ht(s),null;case 3:return l=s.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Ki(bt),_t(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(So(s)?Xi(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,od())),ht(s),null;case 26:var p=s.type,_=s.memoizedState;return i===null?(Xi(s),_!==null?(ht(s),vy(s,_)):(ht(s),Zd(s,p,null,u,l))):_?_!==i.memoizedState?(Xi(s),ht(s),vy(s,_)):(ht(s),s.flags&=-16777217):(i=i.memoizedProps,i!==u&&Xi(s),ht(s),Zd(s,p,i,u,l)),null;case 27:if(Ni(s),l=Ue.current,p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&Xi(s);else{if(!u){if(s.stateNode===null)throw Error(n(166));return ht(s),null}i=pe.current,So(s)?Wp(s):(i=x_(p,u,l),s.stateNode=i,Xi(s))}return ht(s),null;case 5:if(Ni(s),p=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==u&&Xi(s);else{if(!u){if(s.stateNode===null)throw Error(n(166));return ht(s),null}if(_=pe.current,So(s))Wp(s);else{var E=yc(Ue.current);switch(_){case 1:_=E.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:_=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":_=E.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":_=E.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":_=E.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof u.is=="string"?E.createElement("select",{is:u.is}):E.createElement("select"),u.multiple?_.multiple=!0:u.size&&(_.size=u.size);break;default:_=typeof u.is=="string"?E.createElement(p,{is:u.is}):E.createElement(p)}}_[Tt]=s,_[Zt]=u;e:for(E=s.child;E!==null;){if(E.tag===5||E.tag===6)_.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===s)break e;for(;E.sibling===null;){if(E.return===null||E.return===s)break e;E=E.return}E.sibling.return=E.return,E=E.sibling}s.stateNode=_;e:switch(en(_,p,u),p){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Xi(s)}}return ht(s),Zd(s,s.type,i===null?null:i.memoizedProps,s.pendingProps,l),null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==u&&Xi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(n(166));if(i=Ue.current,So(s)){if(i=s.stateNode,l=s.memoizedProps,u=null,p=Xt,p!==null)switch(p.tag){case 27:case 5:u=p.memoizedProps}i[Tt]=s,i=!!(i.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||p_(i.nodeValue,l)),i||Dr(s,!0)}else i=yc(i).createTextNode(u),i[Tt]=s,s.stateNode=i}return ht(s),null;case 31:if(l=s.memoizedState,i===null||i.memoizedState!==null){if(u=So(s),l!==null){if(i===null){if(!u)throw Error(n(318));if(i=s.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(557));i[Tt]=s}else Vs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ht(s),i=!1}else l=od(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=l),i=!0;if(!i)return s.flags&256?(Un(s),s):(Un(s),null);if((s.flags&128)!==0)throw Error(n(558))}return ht(s),null;case 13:if(u=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=So(s),u!==null&&u.dehydrated!==null){if(i===null){if(!p)throw Error(n(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[Tt]=s}else Vs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ht(s),p=!1}else p=od(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Un(s),s):(Un(s),null)}return Un(s),(s.flags&128)!==0?(s.lanes=l,s):(l=u!==null,i=i!==null&&i.memoizedState!==null,l&&(u=s.child,p=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(p=u.alternate.memoizedState.cachePool.pool),_=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(_=u.memoizedState.cachePool.pool),_!==p&&(u.flags|=2048)),l!==i&&l&&(s.child.flags|=8192),nc(s,s.updateQueue),ht(s),null);case 4:return _t(),i===null&&_h(s.stateNode.containerInfo),ht(s),null;case 10:return Ki(s.type),ht(s),null;case 19:if(X(xt),u=s.memoizedState,u===null)return ht(s),null;if(p=(s.flags&128)!==0,_=u.rendering,_===null)if(p)ol(u,!1);else{if(At!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(_=Gu(i),_!==null){for(s.flags|=128,ol(u,!1),i=_.updateQueue,s.updateQueue=i,nc(s,i),s.subtreeFlags=0,i=l,l=s.child;l!==null;)Kp(l,i),l=l.sibling;return se(xt,xt.current&1|2),Ge&&Yi(s,u.treeForkCount),s.child}i=i.sibling}u.tail!==null&&Qt()>ac&&(s.flags|=128,p=!0,ol(u,!1),s.lanes=4194304)}else{if(!p)if(i=Gu(_),i!==null){if(s.flags|=128,p=!0,i=i.updateQueue,s.updateQueue=i,nc(s,i),ol(u,!0),u.tail===null&&u.tailMode==="hidden"&&!_.alternate&&!Ge)return ht(s),null}else 2*Qt()-u.renderingStartTime>ac&&l!==536870912&&(s.flags|=128,p=!0,ol(u,!1),s.lanes=4194304);u.isBackwards?(_.sibling=s.child,s.child=_):(i=u.last,i!==null?i.sibling=_:s.child=_,u.last=_)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=Qt(),i.sibling=null,l=xt.current,se(xt,p?l&1|2:l&1),Ge&&Yi(s,u.treeForkCount),i):(ht(s),null);case 22:case 23:return Un(s),vd(),u=s.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(ht(s),s.subtreeFlags&6&&(s.flags|=8192)):ht(s),l=s.updateQueue,l!==null&&nc(s,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),i!==null&&X(Ls),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Ki(bt),ht(s),null;case 25:return null;case 30:return null}throw Error(n(156,s.tag))}function TA(i,s){switch(rd(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ki(bt),_t(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return Ni(s),null;case 31:if(s.memoizedState!==null){if(Un(s),s.alternate===null)throw Error(n(340));Vs()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 13:if(Un(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(n(340));Vs()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return X(xt),null;case 4:return _t(),null;case 10:return Ki(s.type),null;case 22:case 23:return Un(s),vd(),i!==null&&X(Ls),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ki(bt),null;case 25:return null;default:return null}}function Ty(i,s){switch(rd(s),s.tag){case 3:Ki(bt),_t();break;case 26:case 27:case 5:Ni(s);break;case 4:_t();break;case 31:s.memoizedState!==null&&Un(s);break;case 13:Un(s);break;case 19:X(xt);break;case 10:Ki(s.type);break;case 22:case 23:Un(s),vd(),i!==null&&X(Ls);break;case 24:Ki(bt)}}function al(i,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var p=u.next;l=p;do{if((l.tag&i)===i){u=void 0;var _=l.create,E=l.inst;u=_(),E.destroy=u}l=l.next}while(l!==p)}}catch(R){st(s,s.return,R)}}function Or(i,s,l){try{var u=s.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var _=p.next;u=_;do{if((u.tag&i)===i){var E=u.inst,R=E.destroy;if(R!==void 0){E.destroy=void 0,p=s;var D=l,H=R;try{H()}catch(J){st(p,D,J)}}}u=u.next}while(u!==_)}}catch(J){st(s,s.return,J)}}function Ey(i){var s=i.updateQueue;if(s!==null){var l=i.stateNode;try{fg(s,l)}catch(u){st(i,i.return,u)}}}function Cy(i,s,l){l.props=zs(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(u){st(i,s,u)}}function ll(i,s){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof l=="function"?i.refCleanup=l(u):l.current=u}}catch(p){st(i,s,p)}}function Ei(i,s){var l=i.ref,u=i.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(p){st(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){st(i,s,p)}else l.current=null}function Ay(i){var s=i.type,l=i.memoizedProps,u=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(p){st(i,i.return,p)}}function Xd(i,s,l){try{var u=i.stateNode;qA(u,i.type,l,s),u[Zt]=s}catch(p){st(i,i.return,p)}}function Sy(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Yr(i.type)||i.tag===4}function Wd(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Sy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Yr(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function jd(i,s,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(i),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=zt));else if(u!==4&&(u===27&&Yr(i.type)&&(l=i.stateNode,s=null),i=i.child,i!==null))for(jd(i,s,l),i=i.sibling;i!==null;)jd(i,s,l),i=i.sibling}function ic(i,s,l){var u=i.tag;if(u===5||u===6)i=i.stateNode,s?l.insertBefore(i,s):l.appendChild(i);else if(u!==4&&(u===27&&Yr(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(ic(i,s,l),i=i.sibling;i!==null;)ic(i,s,l),i=i.sibling}function Ry(i){var s=i.stateNode,l=i.memoizedProps;try{for(var u=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);en(s,u,l),s[Tt]=i,s[Zt]=l}catch(_){st(i,i.return,_)}}var Wi=!1,Vt=!1,eh=!1,xy=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function EA(i,s){if(i=i.containerInfo,Eh=Sc,i=Op(i),Kf(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var p=u.anchorOffset,_=u.focusNode;u=u.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var E=0,R=-1,D=-1,H=0,J=0,j=i,Y=null;t:for(;;){for(var K;j!==l||p!==0&&j.nodeType!==3||(R=E+p),j!==_||u!==0&&j.nodeType!==3||(D=E+u),j.nodeType===3&&(E+=j.nodeValue.length),(K=j.firstChild)!==null;)Y=j,j=K;for(;;){if(j===i)break t;if(Y===l&&++H===p&&(R=E),Y===_&&++J===u&&(D=E),(K=j.nextSibling)!==null)break;j=Y,Y=j.parentNode}j=K}l=R===-1||D===-1?null:{start:R,end:D}}else l=null}l=l||{start:0,end:0}}else l=null;for(Ch={focusedElem:i,selectionRange:l},Sc=!1,Ht=s;Ht!==null;)if(s=Ht,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,Ht=i;else for(;Ht!==null;){switch(s=Ht,_=s.alternate,i=s.flags,s.tag){case 0:if((i&4)!==0&&(i=s.updateQueue,i=i!==null?i.events:null,i!==null))for(l=0;l<i.length;l++)p=i[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,l=s,p=_.memoizedProps,_=_.memoizedState,u=l.stateNode;try{var he=zs(l.type,p);i=u.getSnapshotBeforeUpdate(he,_),u.__reactInternalSnapshotBeforeUpdate=i}catch(Ae){st(l,l.return,Ae)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,l=i.nodeType,l===9)Rh(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Rh(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(n(163))}if(i=s.sibling,i!==null){i.return=s.return,Ht=i;break}Ht=s.return}}function wy(i,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:er(i,l),u&4&&al(5,l);break;case 1:if(er(i,l),u&4)if(i=l.stateNode,s===null)try{i.componentDidMount()}catch(E){st(l,l.return,E)}else{var p=zs(l.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(E){st(l,l.return,E)}}u&64&&Ey(l),u&512&&ll(l,l.return);break;case 3:if(er(i,l),u&64&&(i=l.updateQueue,i!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{fg(i,s)}catch(E){st(l,l.return,E)}}break;case 27:s===null&&u&4&&Ry(l);case 26:case 5:er(i,l),s===null&&u&4&&Ay(l),u&512&&ll(l,l.return);break;case 12:er(i,l);break;case 31:er(i,l),u&4&&by(i,l);break;case 13:er(i,l),u&4&&Dy(i,l),u&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=bA.bind(null,l),ZA(i,l))));break;case 22:if(u=l.memoizedState!==null||Wi,!u){s=s!==null&&s.memoizedState!==null||Vt,p=Wi;var _=Vt;Wi=u,(Vt=s)&&!_?tr(i,l,(l.subtreeFlags&8772)!==0):er(i,l),Wi=p,Vt=_}break;case 30:break;default:er(i,l)}}function Iy(i){var s=i.alternate;s!==null&&(i.alternate=null,Iy(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&vs(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var yt=null,Cn=!1;function ji(i,s,l){for(l=l.child;l!==null;)My(i,s,l),l=l.sibling}function My(i,s,l){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(ur,l)}catch{}switch(l.tag){case 26:Vt||Ei(l,s),ji(i,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Vt||Ei(l,s);var u=yt,p=Cn;Yr(l.type)&&(yt=l.stateNode,Cn=!1),ji(i,s,l),yl(l.stateNode),yt=u,Cn=p;break;case 5:Vt||Ei(l,s);case 6:if(u=yt,p=Cn,yt=null,ji(i,s,l),yt=u,Cn=p,yt!==null)if(Cn)try{(yt.nodeType===9?yt.body:yt.nodeName==="HTML"?yt.ownerDocument.body:yt).removeChild(l.stateNode)}catch(_){st(l,s,_)}else try{yt.removeChild(l.stateNode)}catch(_){st(l,s,_)}break;case 18:yt!==null&&(Cn?(i=yt,E_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),Yo(i)):E_(yt,l.stateNode));break;case 4:u=yt,p=Cn,yt=l.stateNode.containerInfo,Cn=!0,ji(i,s,l),yt=u,Cn=p;break;case 0:case 11:case 14:case 15:Or(2,l,s),Vt||Or(4,l,s),ji(i,s,l);break;case 1:Vt||(Ei(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Cy(l,s,u)),ji(i,s,l);break;case 21:ji(i,s,l);break;case 22:Vt=(u=Vt)||l.memoizedState!==null,ji(i,s,l),Vt=u;break;default:ji(i,s,l)}}function by(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Yo(i)}catch(l){st(s,s.return,l)}}}function Dy(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Yo(i)}catch(l){st(s,s.return,l)}}function CA(i){switch(i.tag){case 31:case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new xy),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new xy),s;default:throw Error(n(435,i.tag))}}function rc(i,s){var l=CA(i);s.forEach(function(u){if(!l.has(u)){l.add(u);var p=DA.bind(null,i,u);u.then(p,p)}})}function An(i,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var p=l[u],_=i,E=s,R=E;e:for(;R!==null;){switch(R.tag){case 27:if(Yr(R.type)){yt=R.stateNode,Cn=!1;break e}break;case 5:yt=R.stateNode,Cn=!1;break e;case 3:case 4:yt=R.stateNode.containerInfo,Cn=!0;break e}R=R.return}if(yt===null)throw Error(n(160));My(_,E,p),yt=null,Cn=!1,_=p.alternate,_!==null&&(_.return=null),p.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)Ny(s,i),s=s.sibling}var si=null;function Ny(i,s){var l=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:An(s,i),Sn(i),u&4&&(Or(3,i,i.return),al(3,i),Or(5,i,i.return));break;case 1:An(s,i),Sn(i),u&512&&(Vt||l===null||Ei(l,l.return)),u&64&&Wi&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var p=si;if(An(s,i),Sn(i),u&512&&(Vt||l===null||Ei(l,l.return)),u&4){var _=l!==null?l.memoizedState:null;if(u=i.memoizedState,l===null)if(u===null)if(i.stateNode===null){e:{u=i.type,l=i.memoizedProps,p=p.ownerDocument||p;t:switch(u){case"title":_=p.getElementsByTagName("title")[0],(!_||_[Li]||_[Tt]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=p.createElement(u),p.head.insertBefore(_,p.querySelector("head > title"))),en(_,u,l),_[Tt]=i,Rt(_),u=_;break e;case"link":var E=N_("link","href",p).get(u+(l.href||""));if(E){for(var R=0;R<E.length;R++)if(_=E[R],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){E.splice(R,1);break t}}_=p.createElement(u),en(_,u,l),p.head.appendChild(_);break;case"meta":if(E=N_("meta","content",p).get(u+(l.content||""))){for(R=0;R<E.length;R++)if(_=E[R],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){E.splice(R,1);break t}}_=p.createElement(u),en(_,u,l),p.head.appendChild(_);break;default:throw Error(n(468,u))}_[Tt]=i,Rt(_),u=_}i.stateNode=u}else V_(p,i.type,i.stateNode);else i.stateNode=D_(p,u,i.memoizedProps);else _!==u?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,u===null?V_(p,i.type,i.stateNode):D_(p,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Xd(i,i.memoizedProps,l.memoizedProps)}break;case 27:An(s,i),Sn(i),u&512&&(Vt||l===null||Ei(l,l.return)),l!==null&&u&4&&Xd(i,i.memoizedProps,l.memoizedProps);break;case 5:if(An(s,i),Sn(i),u&512&&(Vt||l===null||Ei(l,l.return)),i.flags&32){p=i.stateNode;try{Gn(p,"")}catch(he){st(i,i.return,he)}}u&4&&i.stateNode!=null&&(p=i.memoizedProps,Xd(i,p,l!==null?l.memoizedProps:p)),u&1024&&(eh=!0);break;case 6:if(An(s,i),Sn(i),u&4){if(i.stateNode===null)throw Error(n(162));u=i.memoizedProps,l=i.stateNode;try{l.nodeValue=u}catch(he){st(i,i.return,he)}}break;case 3:if(Tc=null,p=si,si=_c(s.containerInfo),An(s,i),si=p,Sn(i),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Yo(s.containerInfo)}catch(he){st(i,i.return,he)}eh&&(eh=!1,Vy(i));break;case 4:u=si,si=_c(i.stateNode.containerInfo),An(s,i),Sn(i),si=u;break;case 12:An(s,i),Sn(i);break;case 31:An(s,i),Sn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,rc(i,u)));break;case 13:An(s,i),Sn(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(oc=Qt()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,rc(i,u)));break;case 22:p=i.memoizedState!==null;var D=l!==null&&l.memoizedState!==null,H=Wi,J=Vt;if(Wi=H||p,Vt=J||D,An(s,i),Vt=J,Wi=H,Sn(i),u&8192)e:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(l===null||D||Wi||Vt||qs(i)),l=null,s=i;;){if(s.tag===5||s.tag===26){if(l===null){D=l=s;try{if(_=D.stateNode,p)E=_.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{R=D.stateNode;var j=D.memoizedProps.style,Y=j!=null&&j.hasOwnProperty("display")?j.display:null;R.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(he){st(D,D.return,he)}}}else if(s.tag===6){if(l===null){D=s;try{D.stateNode.nodeValue=p?"":D.memoizedProps}catch(he){st(D,D.return,he)}}}else if(s.tag===18){if(l===null){D=s;try{var K=D.stateNode;p?C_(K,!0):C_(D.stateNode,!1)}catch(he){st(D,D.return,he)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=i.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,rc(i,l))));break;case 19:An(s,i),Sn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,rc(i,u)));break;case 30:break;case 21:break;default:An(s,i),Sn(i)}}function Sn(i){var s=i.flags;if(s&2){try{for(var l,u=i.return;u!==null;){if(Sy(u)){l=u;break}u=u.return}if(l==null)throw Error(n(160));switch(l.tag){case 27:var p=l.stateNode,_=Wd(i);ic(i,_,p);break;case 5:var E=l.stateNode;l.flags&32&&(Gn(E,""),l.flags&=-33);var R=Wd(i);ic(i,R,E);break;case 3:case 4:var D=l.stateNode.containerInfo,H=Wd(i);jd(i,H,D);break;default:throw Error(n(161))}}catch(J){st(i,i.return,J)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Vy(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;Vy(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function er(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)wy(i,s.alternate,s),s=s.sibling}function qs(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Or(4,s,s.return),qs(s);break;case 1:Ei(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&Cy(s,s.return,l),qs(s);break;case 27:yl(s.stateNode);case 26:case 5:Ei(s,s.return),qs(s);break;case 22:s.memoizedState===null&&qs(s);break;case 30:qs(s);break;default:qs(s)}i=i.sibling}}function tr(i,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,p=i,_=s,E=_.flags;switch(_.tag){case 0:case 11:case 15:tr(p,_,l),al(4,_);break;case 1:if(tr(p,_,l),u=_,p=u.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(H){st(u,u.return,H)}if(u=_,p=u.updateQueue,p!==null){var R=u.stateNode;try{var D=p.shared.hiddenCallbacks;if(D!==null)for(p.shared.hiddenCallbacks=null,p=0;p<D.length;p++)cg(D[p],R)}catch(H){st(u,u.return,H)}}l&&E&64&&Ey(_),ll(_,_.return);break;case 27:Ry(_);case 26:case 5:tr(p,_,l),l&&u===null&&E&4&&Ay(_),ll(_,_.return);break;case 12:tr(p,_,l);break;case 31:tr(p,_,l),l&&E&4&&by(p,_);break;case 13:tr(p,_,l),l&&E&4&&Dy(p,_);break;case 22:_.memoizedState===null&&tr(p,_,l),ll(_,_.return);break;case 30:break;default:tr(p,_,l)}s=s.sibling}}function th(i,s){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&Qa(l))}function nh(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Qa(i))}function oi(i,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Py(i,s,l,u),s=s.sibling}function Py(i,s,l,u){var p=s.flags;switch(s.tag){case 0:case 11:case 15:oi(i,s,l,u),p&2048&&al(9,s);break;case 1:oi(i,s,l,u);break;case 3:oi(i,s,l,u),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&Qa(i)));break;case 12:if(p&2048){oi(i,s,l,u),i=s.stateNode;try{var _=s.memoizedProps,E=_.id,R=_.onPostCommit;typeof R=="function"&&R(E,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(D){st(s,s.return,D)}}else oi(i,s,l,u);break;case 31:oi(i,s,l,u);break;case 13:oi(i,s,l,u);break;case 23:break;case 22:_=s.stateNode,E=s.alternate,s.memoizedState!==null?_._visibility&2?oi(i,s,l,u):ul(i,s):_._visibility&2?oi(i,s,l,u):(_._visibility|=2,Po(i,s,l,u,(s.subtreeFlags&10256)!==0||!1)),p&2048&&th(E,s);break;case 24:oi(i,s,l,u),p&2048&&nh(s.alternate,s);break;default:oi(i,s,l,u)}}function Po(i,s,l,u,p){for(p=p&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=i,E=s,R=l,D=u,H=E.flags;switch(E.tag){case 0:case 11:case 15:Po(_,E,R,D,p),al(8,E);break;case 23:break;case 22:var J=E.stateNode;E.memoizedState!==null?J._visibility&2?Po(_,E,R,D,p):ul(_,E):(J._visibility|=2,Po(_,E,R,D,p)),p&&H&2048&&th(E.alternate,E);break;case 24:Po(_,E,R,D,p),p&&H&2048&&nh(E.alternate,E);break;default:Po(_,E,R,D,p)}s=s.sibling}}function ul(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=i,u=s,p=u.flags;switch(u.tag){case 22:ul(l,u),p&2048&&th(u.alternate,u);break;case 24:ul(l,u),p&2048&&nh(u.alternate,u);break;default:ul(l,u)}s=s.sibling}}var cl=8192;function Uo(i,s,l){if(i.subtreeFlags&cl)for(i=i.child;i!==null;)Uy(i,s,l),i=i.sibling}function Uy(i,s,l){switch(i.tag){case 26:Uo(i,s,l),i.flags&cl&&i.memoizedState!==null&&lS(l,si,i.memoizedState,i.memoizedProps);break;case 5:Uo(i,s,l);break;case 3:case 4:var u=si;si=_c(i.stateNode.containerInfo),Uo(i,s,l),si=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=cl,cl=16777216,Uo(i,s,l),cl=u):Uo(i,s,l));break;default:Uo(i,s,l)}}function Ly(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function fl(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];Ht=u,Oy(u,i)}Ly(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ky(i),i=i.sibling}function ky(i){switch(i.tag){case 0:case 11:case 15:fl(i),i.flags&2048&&Or(9,i,i.return);break;case 3:fl(i);break;case 12:fl(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,sc(i)):fl(i);break;default:fl(i)}}function sc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];Ht=u,Oy(u,i)}Ly(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Or(8,s,s.return),sc(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,sc(s));break;default:sc(s)}i=i.sibling}}function Oy(i,s){for(;Ht!==null;){var l=Ht;switch(l.tag){case 0:case 11:case 15:Or(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Qa(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Ht=u;else e:for(l=i;Ht!==null;){u=Ht;var p=u.sibling,_=u.return;if(Iy(u),u===l){Ht=null;break e}if(p!==null){p.return=_,Ht=p;break e}Ht=_}}}var AA={getCacheForType:function(i){var s=Wt(bt),l=s.data.get(i);return l===void 0&&(l=i(),s.data.set(i,l)),l},cacheSignal:function(){return Wt(bt).controller.signal}},SA=typeof WeakMap=="function"?WeakMap:Map,je=0,ut=null,ke=null,Be=0,rt=0,Ln=null,Br=!1,Lo=!1,ih=!1,nr=0,At=0,Fr=0,Gs=0,rh=0,kn=0,ko=0,dl=null,Rn=null,sh=!1,oc=0,By=0,ac=1/0,lc=null,zr=null,Ot=0,qr=null,Oo=null,ir=0,oh=0,ah=null,Fy=null,hl=0,lh=null;function On(){return(je&2)!==0&&Be!==0?Be&-Be:Z.T!==null?mh():Ui()}function zy(){if(kn===0)if((Be&536870912)===0||Ge){var i=fi;fi<<=1,(fi&3932160)===0&&(fi=262144),kn=i}else kn=536870912;return i=Pn.current,i!==null&&(i.flags|=32),kn}function xn(i,s,l){(i===ut&&(rt===2||rt===9)||i.cancelPendingCommit!==null)&&(Bo(i,0),Gr(i,Be,kn,!1)),dr(i,l),((je&2)===0||i!==ut)&&(i===ut&&((je&2)===0&&(Gs|=l),At===4&&Gr(i,Be,kn,!1)),Ci(i))}function qy(i,s,l){if((je&6)!==0)throw Error(n(327));var u=!l&&(s&127)===0&&(s&i.expiredLanes)===0||fr(i,s),p=u?wA(i,s):ch(i,s,!0),_=u;do{if(p===0){Lo&&!u&&Gr(i,s,0,!1);break}else{if(l=i.current.alternate,_&&!RA(l)){p=ch(i,s,!1),_=!1;continue}if(p===2){if(_=s,i.errorRecoveryDisabledLanes&_)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var R=i;p=dl;var D=R.current.memoizedState.isDehydrated;if(D&&(Bo(R,E).flags|=256),E=ch(R,E,!1),E!==2){if(ih&&!D){R.errorRecoveryDisabledLanes|=_,Gs|=_,p=4;break e}_=Rn,Rn=p,_!==null&&(Rn===null?Rn=_:Rn.push.apply(Rn,_))}p=E}if(_=!1,p!==2)continue}}if(p===1){Bo(i,0),Gr(i,s,0,!0);break}e:{switch(u=i,_=p,_){case 0:case 1:throw Error(n(345));case 4:if((s&4194048)!==s)break;case 6:Gr(u,s,kn,!Br);break e;case 2:Rn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((s&62914560)===s&&(p=oc+300-Qt(),10<p)){if(Gr(u,s,kn,!Br),zn(u,0,!0)!==0)break e;ir=s,u.timeoutHandle=v_(Gy.bind(null,u,l,Rn,lc,sh,s,kn,Gs,ko,Br,_,"Throttled",-0,0),p);break e}Gy(u,l,Rn,lc,sh,s,kn,Gs,ko,Br,_,null,-0,0)}}break}while(!0);Ci(i)}function Gy(i,s,l,u,p,_,E,R,D,H,J,j,Y,K){if(i.timeoutHandle=-1,j=s.subtreeFlags,j&8192||(j&16785408)===16785408){j={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:zt},Uy(s,_,j);var he=(_&62914560)===_?oc-Qt():(_&4194048)===_?By-Qt():0;if(he=uS(j,he),he!==null){ir=_,i.cancelPendingCommit=he(Xy.bind(null,i,s,_,l,u,p,E,R,D,J,j,null,Y,K)),Gr(i,_,E,!H);return}}Xy(i,s,_,l,u,p,E,R,D)}function RA(i){for(var s=i;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var p=l[u],_=p.getSnapshot;p=p.value;try{if(!Nn(_(),p))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Gr(i,s,l,u){s&=~rh,s&=~Gs,i.suspendedLanes|=s,i.pingedLanes&=~s,u&&(i.warmLanes|=s),u=i.expirationTimes;for(var p=s;0<p;){var _=31-dn(p),E=1<<_;u[_]=-1,p&=~E}l!==0&&wa(i,l,s)}function uc(){return(je&6)===0?(ml(0),!1):!0}function uh(){if(ke!==null){if(rt===0)var i=ke.return;else i=ke,$i=Ps=null,Rd(i),Mo=null,Za=0,i=ke;for(;i!==null;)Ty(i.alternate,i),i=i.return;ke=null}}function Bo(i,s){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,YA(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),ir=0,uh(),ut=i,ke=l=Hi(i.current,null),Be=s,rt=0,Ln=null,Br=!1,Lo=fr(i,s),ih=!1,ko=kn=rh=Gs=Fr=At=0,Rn=dl=null,sh=!1,(s&8)!==0&&(s|=s&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=s;0<u;){var p=31-dn(u),_=1<<p;s|=i[p],u&=~_}return nr=s,bu(),l}function Hy(i,s){Ne=null,Z.H=rl,s===Io||s===Ou?(s=og(),rt=3):s===hd?(s=og(),rt=4):rt=s===zd?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Ln=s,ke===null&&(At=1,Wu(i,Yn(s,i.current)))}function Yy(){var i=Pn.current;return i===null?!0:(Be&4194048)===Be?Jn===null:(Be&62914560)===Be||(Be&536870912)!==0?i===Jn:!1}function $y(){var i=Z.H;return Z.H=rl,i===null?rl:i}function Ky(){var i=Z.A;return Z.A=AA,i}function cc(){At=4,Br||(Be&4194048)!==Be&&Pn.current!==null||(Lo=!0),(Fr&134217727)===0&&(Gs&134217727)===0||ut===null||Gr(ut,Be,kn,!1)}function ch(i,s,l){var u=je;je|=2;var p=$y(),_=Ky();(ut!==i||Be!==s)&&(lc=null,Bo(i,s)),s=!1;var E=At;e:do try{if(rt!==0&&ke!==null){var R=ke,D=Ln;switch(rt){case 8:uh(),E=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(s=!0);var H=rt;if(rt=0,Ln=null,Fo(i,R,D,H),l&&Lo){E=0;break e}break;default:H=rt,rt=0,Ln=null,Fo(i,R,D,H)}}xA(),E=At;break}catch(J){Hy(i,J)}while(!0);return s&&i.shellSuspendCounter++,$i=Ps=null,je=u,Z.H=p,Z.A=_,ke===null&&(ut=null,Be=0,bu()),E}function xA(){for(;ke!==null;)Qy(ke)}function wA(i,s){var l=je;je|=2;var u=$y(),p=Ky();ut!==i||Be!==s?(lc=null,ac=Qt()+500,Bo(i,s)):Lo=fr(i,s);e:do try{if(rt!==0&&ke!==null){s=ke;var _=Ln;t:switch(rt){case 1:rt=0,Ln=null,Fo(i,s,_,1);break;case 2:case 9:if(rg(_)){rt=0,Ln=null,Jy(s);break}s=function(){rt!==2&&rt!==9||ut!==i||(rt=7),Ci(i)},_.then(s,s);break e;case 3:rt=7;break e;case 4:rt=5;break e;case 7:rg(_)?(rt=0,Ln=null,Jy(s)):(rt=0,Ln=null,Fo(i,s,_,7));break;case 5:var E=null;switch(ke.tag){case 26:E=ke.memoizedState;case 5:case 27:var R=ke;if(E?P_(E):R.stateNode.complete){rt=0,Ln=null;var D=R.sibling;if(D!==null)ke=D;else{var H=R.return;H!==null?(ke=H,fc(H)):ke=null}break t}}rt=0,Ln=null,Fo(i,s,_,5);break;case 6:rt=0,Ln=null,Fo(i,s,_,6);break;case 8:uh(),At=6;break e;default:throw Error(n(462))}}IA();break}catch(J){Hy(i,J)}while(!0);return $i=Ps=null,Z.H=u,Z.A=p,je=l,ke!==null?0:(ut=null,Be=0,bu(),At)}function IA(){for(;ke!==null&&!Lf();)Qy(ke)}function Qy(i){var s=_y(i.alternate,i,nr);i.memoizedProps=i.pendingProps,s===null?fc(i):ke=s}function Jy(i){var s=i,l=s.alternate;switch(s.tag){case 15:case 0:s=dy(l,s,s.pendingProps,s.type,void 0,Be);break;case 11:s=dy(l,s,s.pendingProps,s.type.render,s.ref,Be);break;case 5:Rd(s);default:Ty(l,s),s=ke=Kp(s,nr),s=_y(l,s,nr)}i.memoizedProps=i.pendingProps,s===null?fc(i):ke=s}function Fo(i,s,l,u){$i=Ps=null,Rd(s),Mo=null,Za=0;var p=s.return;try{if(gA(i,p,s,l,Be)){At=1,Wu(i,Yn(l,i.current)),ke=null;return}}catch(_){if(p!==null)throw ke=p,_;At=1,Wu(i,Yn(l,i.current)),ke=null;return}s.flags&32768?(Ge||u===1?i=!0:Lo||(Be&536870912)!==0?i=!1:(Br=i=!0,(u===2||u===9||u===3||u===6)&&(u=Pn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Zy(s,i)):fc(s)}function fc(i){var s=i;do{if((s.flags&32768)!==0){Zy(s,Br);return}i=s.return;var l=vA(s.alternate,s,nr);if(l!==null){ke=l;return}if(s=s.sibling,s!==null){ke=s;return}ke=s=i}while(s!==null);At===0&&(At=5)}function Zy(i,s){do{var l=TA(i.alternate,i);if(l!==null){l.flags&=32767,ke=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(i=i.sibling,i!==null)){ke=i;return}ke=i=l}while(i!==null);At=6,ke=null}function Xy(i,s,l,u,p,_,E,R,D){i.cancelPendingCommit=null;do dc();while(Ot!==0);if((je&6)!==0)throw Error(n(327));if(s!==null){if(s===i.current)throw Error(n(177));if(_=s.lanes|s.childLanes,_|=Wf,Jt(i,l,_,E,R,D),i===ut&&(ke=ut=null,Be=0),Oo=s,qr=i,ir=l,oh=_,ah=p,Fy=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,NA(Vi,function(){return n_(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,p=le.p,le.p=2,E=je,je|=4;try{EA(i,s,l)}finally{je=E,le.p=p,Z.T=u}}Ot=1,Wy(),jy(),e_()}}function Wy(){if(Ot===1){Ot=0;var i=qr,s=Oo,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null;var u=le.p;le.p=2;var p=je;je|=4;try{Ny(s,i);var _=Ch,E=Op(i.containerInfo),R=_.focusedElem,D=_.selectionRange;if(E!==R&&R&&R.ownerDocument&&kp(R.ownerDocument.documentElement,R)){if(D!==null&&Kf(R)){var H=D.start,J=D.end;if(J===void 0&&(J=H),"selectionStart"in R)R.selectionStart=H,R.selectionEnd=Math.min(J,R.value.length);else{var j=R.ownerDocument||document,Y=j&&j.defaultView||window;if(Y.getSelection){var K=Y.getSelection(),he=R.textContent.length,Ae=Math.min(D.start,he),lt=D.end===void 0?Ae:Math.min(D.end,he);!K.extend&&Ae>lt&&(E=lt,lt=Ae,Ae=E);var B=Lp(R,Ae),U=Lp(R,lt);if(B&&U&&(K.rangeCount!==1||K.anchorNode!==B.node||K.anchorOffset!==B.offset||K.focusNode!==U.node||K.focusOffset!==U.offset)){var G=j.createRange();G.setStart(B.node,B.offset),K.removeAllRanges(),Ae>lt?(K.addRange(G),K.extend(U.node,U.offset)):(G.setEnd(U.node,U.offset),K.addRange(G))}}}}for(j=[],K=R;K=K.parentNode;)K.nodeType===1&&j.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<j.length;R++){var W=j[R];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Sc=!!Eh,Ch=Eh=null}finally{je=p,le.p=u,Z.T=l}}i.current=s,Ot=2}}function jy(){if(Ot===2){Ot=0;var i=qr,s=Oo,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=Z.T,Z.T=null;var u=le.p;le.p=2;var p=je;je|=4;try{wy(i,s.alternate,s)}finally{je=p,le.p=u,Z.T=l}}Ot=3}}function e_(){if(Ot===4||Ot===3){Ot=0,Aa();var i=qr,s=Oo,l=ir,u=Fy;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ot=5:(Ot=0,Oo=qr=null,t_(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(zr=null),Ma(l),s=s.stateNode,sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(ur,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Z.T,p=le.p,le.p=2,Z.T=null;try{for(var _=i.onRecoverableError,E=0;E<u.length;E++){var R=u[E];_(R.value,{componentStack:R.stack})}}finally{Z.T=s,le.p=p}}(ir&3)!==0&&dc(),Ci(i),p=i.pendingLanes,(l&261930)!==0&&(p&42)!==0?i===lh?hl++:(hl=0,lh=i):hl=0,ml(0)}}function t_(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,Qa(s)))}function dc(){return Wy(),jy(),e_(),n_()}function n_(){if(Ot!==5)return!1;var i=qr,s=oh;oh=0;var l=Ma(ir),u=Z.T,p=le.p;try{le.p=32>l?32:l,Z.T=null,l=ah,ah=null;var _=qr,E=ir;if(Ot=0,Oo=qr=null,ir=0,(je&6)!==0)throw Error(n(331));var R=je;if(je|=4,ky(_.current),Py(_,_.current,E,l),je=R,ml(0,!1),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(ur,_)}catch{}return!0}finally{le.p=p,Z.T=u,t_(i,s)}}function i_(i,s,l){s=Yn(l,s),s=Fd(i.stateNode,s,2),i=Ur(i,s,2),i!==null&&(dr(i,2),Ci(i))}function st(i,s,l){if(i.tag===3)i_(i,i,l);else for(;s!==null;){if(s.tag===3){i_(s,i,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(zr===null||!zr.has(u))){i=Yn(l,i),l=ry(2),u=Ur(s,l,2),u!==null&&(sy(l,u,s,i),dr(u,2),Ci(u));break}}s=s.return}}function fh(i,s,l){var u=i.pingCache;if(u===null){u=i.pingCache=new SA;var p=new Set;u.set(s,p)}else p=u.get(s),p===void 0&&(p=new Set,u.set(s,p));p.has(l)||(ih=!0,p.add(l),i=MA.bind(null,i,s,l),s.then(i,i))}function MA(i,s,l){var u=i.pingCache;u!==null&&u.delete(s),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,ut===i&&(Be&l)===l&&(At===4||At===3&&(Be&62914560)===Be&&300>Qt()-oc?(je&2)===0&&Bo(i,0):rh|=l,ko===Be&&(ko=0)),Ci(i)}function r_(i,s){s===0&&(s=xa()),i=Ds(i,s),i!==null&&(dr(i,s),Ci(i))}function bA(i){var s=i.memoizedState,l=0;s!==null&&(l=s.retryLane),r_(i,l)}function DA(i,s){var l=0;switch(i.tag){case 31:case 13:var u=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(n(314))}u!==null&&u.delete(s),r_(i,l)}function NA(i,s){return gs(i,s)}var hc=null,zo=null,dh=!1,mc=!1,hh=!1,Hr=0;function Ci(i){i!==zo&&i.next===null&&(zo===null?hc=zo=i:zo=zo.next=i),mc=!0,dh||(dh=!0,PA())}function ml(i,s){if(!hh&&mc){hh=!0;do for(var l=!1,u=hc;u!==null;){if(i!==0){var p=u.pendingLanes;if(p===0)var _=0;else{var E=u.suspendedLanes,R=u.pingedLanes;_=(1<<31-dn(42|i)+1)-1,_&=p&~(E&~R),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,l_(u,_))}else _=Be,_=zn(u,u===ut?_:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(_&3)===0||fr(u,_)||(l=!0,l_(u,_));u=u.next}while(l);hh=!1}}function VA(){s_()}function s_(){mc=dh=!1;var i=0;Hr!==0&&HA()&&(i=Hr);for(var s=Qt(),l=null,u=hc;u!==null;){var p=u.next,_=o_(u,s);_===0?(u.next=null,l===null?hc=p:l.next=p,p===null&&(zo=l)):(l=u,(i!==0||(_&3)!==0)&&(mc=!0)),u=p}Ot!==0&&Ot!==5||ml(i),Hr!==0&&(Hr=0)}function o_(i,s){for(var l=i.suspendedLanes,u=i.pingedLanes,p=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var E=31-dn(_),R=1<<E,D=p[E];D===-1?((R&l)===0||(R&u)!==0)&&(p[E]=oo(R,s)):D<=s&&(i.expiredLanes|=R),_&=~R}if(s=ut,l=Be,l=zn(i,i===s?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,l===0||i===s&&(rt===2||rt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&so(u),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||fr(i,l)){if(s=l&-l,s===i.callbackPriority)return s;switch(u!==null&&so(u),Ma(l)){case 2:case 8:l=Ft;break;case 32:l=Vi;break;case 268435456:l=Sa;break;default:l=Vi}return u=a_.bind(null,i),l=gs(l,u),i.callbackPriority=s,i.callbackNode=l,s}return u!==null&&u!==null&&so(u),i.callbackPriority=2,i.callbackNode=null,2}function a_(i,s){if(Ot!==0&&Ot!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(dc()&&i.callbackNode!==l)return null;var u=Be;return u=zn(i,i===ut?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(qy(i,u,s),o_(i,Qt()),i.callbackNode!=null&&i.callbackNode===l?a_.bind(null,i):null)}function l_(i,s){if(dc())return null;qy(i,s,!0)}function PA(){$A(function(){(je&6)!==0?gs(kt,VA):s_()})}function mh(){if(Hr===0){var i=xo;i===0&&(i=_s,_s<<=1,(_s&261888)===0&&(_s=256)),Hr=i}return Hr}function u_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:gi(""+i)}function c_(i,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,i.id&&l.setAttribute("form",i.id),s.parentNode.insertBefore(l,s),i=new FormData(i),l.parentNode.removeChild(l),i}function UA(i,s,l,u,p){if(s==="submit"&&l&&l.stateNode===p){var _=u_((p[Zt]||null).action),E=u.submitter;E&&(s=(s=E[Zt]||null)?u_(s.formAction):E.getAttribute("formAction"),s!==null&&(_=s,E=null));var R=new Ss("action","action",null,u,p);i.push({event:R,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Hr!==0){var D=E?c_(p,E):new FormData(p);Pd(l,{pending:!0,data:D,method:p.method,action:_},null,D)}}else typeof _=="function"&&(R.preventDefault(),D=E?c_(p,E):new FormData(p),Pd(l,{pending:!0,data:D,method:p.method,action:_},_,D))},currentTarget:p}]})}}for(var ph=0;ph<Xf.length;ph++){var gh=Xf[ph],LA=gh.toLowerCase(),kA=gh[0].toUpperCase()+gh.slice(1);ri(LA,"on"+kA)}ri(zp,"onAnimationEnd"),ri(qp,"onAnimationIteration"),ri(Gp,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(jC,"onTransitionRun"),ri(eA,"onTransitionStart"),ri(tA,"onTransitionCancel"),ri(Hp,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hn("onBeforeInput",["compositionend","keypress","textInput","paste"]),hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function f_(i,s){s=(s&4)!==0;for(var l=0;l<i.length;l++){var u=i[l],p=u.event;u=u.listeners;e:{var _=void 0;if(s)for(var E=u.length-1;0<=E;E--){var R=u[E],D=R.instance,H=R.currentTarget;if(R=R.listener,D!==_&&p.isPropagationStopped())break e;_=R,p.currentTarget=H;try{_(p)}catch(J){Mu(J)}p.currentTarget=null,_=D}else for(E=0;E<u.length;E++){if(R=u[E],D=R.instance,H=R.currentTarget,R=R.listener,D!==_&&p.isPropagationStopped())break e;_=R,p.currentTarget=H;try{_(p)}catch(J){Mu(J)}p.currentTarget=null,_=D}}}}function Oe(i,s){var l=s[pr];l===void 0&&(l=s[pr]=new Set);var u=i+"__bubble";l.has(u)||(d_(s,i,2,!1),l.add(u))}function yh(i,s,l){var u=0;s&&(u|=4),d_(l,i,u,s)}var pc="_reactListening"+Math.random().toString(36).slice(2);function _h(i){if(!i[pc]){i[pc]=!0,ao.forEach(function(l){l!=="selectionchange"&&(OA.has(l)||yh(l,!1,i),yh(l,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[pc]||(s[pc]=!0,yh("selectionchange",!1,s))}}function d_(i,s,l,u){switch(z_(s)){case 2:var p=dS;break;case 8:p=hS;break;default:p=Vh}l=p.bind(null,s,l,i),p=void 0,!ka||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),u?p!==void 0?i.addEventListener(s,l,{capture:!0,passive:p}):i.addEventListener(s,l,!0):p!==void 0?i.addEventListener(s,l,{passive:p}):i.addEventListener(s,l,!1)}function vh(i,s,l,u,p){var _=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var E=u.tag;if(E===3||E===4){var R=u.stateNode.containerInfo;if(R===p)break;if(E===4)for(E=u.return;E!==null;){var D=E.tag;if((D===3||D===4)&&E.stateNode.containerInfo===p)return;E=E.return}for(;R!==null;){if(E=ki(R),E===null)return;if(D=E.tag,D===5||D===6||D===26||D===27){u=_=E;continue e}R=R.parentNode}}u=u.return}hu(function(){var H=_,J=ho(l),j=[];e:{var Y=Yp.get(i);if(Y!==void 0){var K=Ss,he=i;switch(i){case"keypress":if(As(l)===0)break e;case"keydown":case"keyup":K=Cu;break;case"focusin":he="focus",K=Rr;break;case"focusout":he="blur",K=Rr;break;case"beforeblur":case"afterblur":K=Rr;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=pu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Su;break;case zp:case qp:case Gp:K=go;break;case Hp:K=yo;break;case"scroll":case"scrollend":K=mu;break;case"wheel":K=xu;break;case"copy":case"cut":case"paste":K=_u;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=qa;break;case"toggle":case"beforetoggle":K=wr}var Ae=(s&4)!==0,lt=!Ae&&(i==="scroll"||i==="scrollend"),B=Ae?Y!==null?Y+"Capture":null:Y;Ae=[];for(var U=H,G;U!==null;){var W=U;if(G=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||G===null||B===null||(W=Tn(U,B),W!=null&&Ae.push(gl(U,W,G))),lt)break;U=U.return}0<Ae.length&&(Y=new K(Y,he,null,l,J),j.push({event:Y,listeners:Ae}))}}if((s&7)===0){e:{if(Y=i==="mouseover"||i==="pointerover",K=i==="mouseout"||i==="pointerout",Y&&l!==fo&&(he=l.relatedTarget||l.fromElement)&&(ki(he)||he[hi]))break e;if((K||Y)&&(Y=J.window===J?J:(Y=J.ownerDocument)?Y.defaultView||Y.parentWindow:window,K?(he=l.relatedTarget||l.toElement,K=H,he=he?ki(he):null,he!==null&&(lt=a(he),Ae=he.tag,he!==lt||Ae!==5&&Ae!==27&&Ae!==6)&&(he=null)):(K=null,he=H),K!==he)){if(Ae=pu,W="onMouseLeave",B="onMouseEnter",U="mouse",(i==="pointerout"||i==="pointerover")&&(Ae=qa,W="onPointerLeave",B="onPointerEnter",U="pointer"),lt=K==null?Y:Ts(K),G=he==null?Y:Ts(he),Y=new Ae(W,U+"leave",K,l,J),Y.target=lt,Y.relatedTarget=G,W=null,ki(J)===H&&(Ae=new Ae(B,U+"enter",he,l,J),Ae.target=G,Ae.relatedTarget=lt,W=Ae),lt=W,K&&he)t:{for(Ae=BA,B=K,U=he,G=0,W=B;W;W=Ae(W))G++;W=0;for(var Te=U;Te;Te=Ae(Te))W++;for(;0<G-W;)B=Ae(B),G--;for(;0<W-G;)U=Ae(U),W--;for(;G--;){if(B===U||U!==null&&B===U.alternate){Ae=B;break t}B=Ae(B),U=Ae(U)}Ae=null}else Ae=null;K!==null&&h_(j,Y,K,Ae,!1),he!==null&&lt!==null&&h_(j,lt,he,Ae,!0)}}e:{if(Y=H?Ts(H):window,K=Y.nodeName&&Y.nodeName.toLowerCase(),K==="select"||K==="input"&&Y.type==="file")var Ze=bp;else if(En(Y))if(Dp)Ze=ZC;else{Ze=QC;var ye=KC}else K=Y.nodeName,!K||K.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?H&&Ua(H.elementType)&&(Ze=bp):Ze=JC;if(Ze&&(Ze=Ze(i,H))){Is(j,Ze,l,J);break e}ye&&ye(i,Y,H),i==="focusout"&&H&&Y.type==="number"&&H.memoizedProps.value!=null&&co(Y,"number",Y.value)}switch(ye=H?Ts(H):window,i){case"focusin":(En(ye)||ye.contentEditable==="true")&&(_o=ye,Qf=H,Ya=null);break;case"focusout":Ya=Qf=_o=null;break;case"mousedown":Jf=!0;break;case"contextmenu":case"mouseup":case"dragend":Jf=!1,Bp(j,l,J);break;case"selectionchange":if(WC)break;case"keydown":case"keyup":Bp(j,l,J)}var Ve;if(T)e:{switch(i){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else Le?tt(i,l)&&(Fe="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Fe="onCompositionStart");Fe&&(z&&l.locale!=="ko"&&(Le||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&Le&&(Ve=Er()):(Dn=J,mo="value"in Dn?Dn.value:Dn.textContent,Le=!0)),ye=gc(H,Fe),0<ye.length&&(Fe=new Ba(Fe,i,null,l,J),j.push({event:Fe,listeners:ye}),Ve?Fe.data=Ve:(Ve=Mt(l),Ve!==null&&(Fe.data=Ve)))),(Ve=x?qt(i,l):Gt(i,l))&&(Fe=gc(H,"onBeforeInput"),0<Fe.length&&(ye=new Ba("onBeforeInput","beforeinput",null,l,J),j.push({event:ye,listeners:Fe}),ye.data=Ve)),UA(j,i,H,l,J)}f_(j,s)})}function gl(i,s,l){return{instance:i,listener:s,currentTarget:l}}function gc(i,s){for(var l=s+"Capture",u=[];i!==null;){var p=i,_=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||_===null||(p=Tn(i,l),p!=null&&u.unshift(gl(i,p,_)),p=Tn(i,s),p!=null&&u.push(gl(i,p,_))),i.tag===3)return u;i=i.return}return[]}function BA(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function h_(i,s,l,u,p){for(var _=s._reactName,E=[];l!==null&&l!==u;){var R=l,D=R.alternate,H=R.stateNode;if(R=R.tag,D!==null&&D===u)break;R!==5&&R!==26&&R!==27||H===null||(D=H,p?(H=Tn(l,_),H!=null&&E.unshift(gl(l,H,D))):p||(H=Tn(l,_),H!=null&&E.push(gl(l,H,D)))),l=l.return}E.length!==0&&i.push({event:s,listeners:E})}var FA=/\r\n?/g,zA=/\u0000|\uFFFD/g;function m_(i){return(typeof i=="string"?i:""+i).replace(FA,`
`).replace(zA,"")}function p_(i,s){return s=m_(s),m_(i)===s}function at(i,s,l,u,p,_){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Gn(i,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Gn(i,""+u);break;case"className":_r(i,"class",u);break;case"tabIndex":_r(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":_r(i,l,u);break;case"style":fu(i,u,_);break;case"data":if(s!=="object"){_r(i,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){i.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=gi(""+u),i.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(s!=="input"&&at(i,s,"name",p.name,p,null),at(i,s,"formEncType",p.formEncType,p,null),at(i,s,"formMethod",p.formMethod,p,null),at(i,s,"formTarget",p.formTarget,p,null)):(at(i,s,"encType",p.encType,p,null),at(i,s,"method",p.method,p,null),at(i,s,"target",p.target,p,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(l);break}u=gi(""+u),i.setAttribute(l,u);break;case"onClick":u!=null&&(i.onclick=zt);break;case"onScroll":u!=null&&Oe("scroll",i);break;case"onScrollEnd":u!=null&&Oe("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(n(60));i.innerHTML=l}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}l=gi(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""+u):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":u===!0?i.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(l,u):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(l,u):i.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(l):i.setAttribute(l,u);break;case"popover":Oe("beforetoggle",i),Oe("toggle",i),yr(i,"popover",u);break;case"xlinkActuate":qn(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":qn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":qn(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":qn(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":qn(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":qn(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":qn(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":qn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":qn(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":yr(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=qf.get(l)||l,yr(i,l,u))}}function Th(i,s,l,u,p,_){switch(l){case"style":fu(i,u,_);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(n(61));if(l=u.__html,l!=null){if(p.children!=null)throw Error(n(60));i.innerHTML=l}}break;case"children":typeof u=="string"?Gn(i,u):(typeof u=="number"||typeof u=="bigint")&&Gn(i,""+u);break;case"onScroll":u!=null&&Oe("scroll",i);break;case"onScrollEnd":u!=null&&Oe("scrollend",i);break;case"onClick":u!=null&&(i.onclick=zt);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!gr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),s=l.slice(2,p?l.length-7:void 0),_=i[Zt]||null,_=_!=null?_[l]:null,typeof _=="function"&&i.removeEventListener(s,_,p),typeof u=="function")){typeof _!="function"&&_!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(s,u,p);break e}l in i?i[l]=u:u===!0?i.setAttribute(l,""):yr(i,l,u)}}}function en(i,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",i),Oe("load",i);var u=!1,p=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var E=l[_];if(E!=null)switch(_){case"src":u=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:at(i,s,_,E,l,null)}}p&&at(i,s,"srcSet",l.srcSet,l,null),u&&at(i,s,"src",l.src,l,null);return;case"input":Oe("invalid",i);var R=_=E=p=null,D=null,H=null;for(u in l)if(l.hasOwnProperty(u)){var J=l[u];if(J!=null)switch(u){case"name":p=J;break;case"type":E=J;break;case"checked":D=J;break;case"defaultChecked":H=J;break;case"value":_=J;break;case"defaultValue":R=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(n(137,s));break;default:at(i,s,u,J,l,null)}}Es(i,_,R,D,H,E,p,!1);return;case"select":Oe("invalid",i),u=E=_=null;for(p in l)if(l.hasOwnProperty(p)&&(R=l[p],R!=null))switch(p){case"value":_=R;break;case"defaultValue":E=R;break;case"multiple":u=R;default:at(i,s,p,R,l,null)}s=_,l=E,i.multiple=!!u,s!=null?Je(i,!!u,s,!1):l!=null&&Je(i,!!u,l,!0);return;case"textarea":Oe("invalid",i),_=p=u=null;for(E in l)if(l.hasOwnProperty(E)&&(R=l[E],R!=null))switch(E){case"value":u=R;break;case"defaultValue":p=R;break;case"children":_=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(n(91));break;default:at(i,s,E,R,l,null)}Tr(i,u,p,_);return;case"option":for(D in l)if(l.hasOwnProperty(D)&&(u=l[D],u!=null))switch(D){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:at(i,s,D,u,l,null)}return;case"dialog":Oe("beforetoggle",i),Oe("toggle",i),Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":Oe("load",i);break;case"video":case"audio":for(u=0;u<pl.length;u++)Oe(pl[u],i);break;case"image":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"embed":case"source":case"link":Oe("error",i),Oe("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in l)if(l.hasOwnProperty(H)&&(u=l[H],u!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,s));default:at(i,s,H,u,l,null)}return;default:if(Ua(s)){for(J in l)l.hasOwnProperty(J)&&(u=l[J],u!==void 0&&Th(i,s,J,u,l,void 0));return}}for(R in l)l.hasOwnProperty(R)&&(u=l[R],u!=null&&at(i,s,R,u,l,null))}function qA(i,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,_=null,E=null,R=null,D=null,H=null,J=null;for(K in l){var j=l[K];if(l.hasOwnProperty(K)&&j!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":D=j;default:u.hasOwnProperty(K)||at(i,s,K,null,u,j)}}for(var Y in u){var K=u[Y];if(j=l[Y],u.hasOwnProperty(Y)&&(K!=null||j!=null))switch(Y){case"type":_=K;break;case"name":p=K;break;case"checked":H=K;break;case"defaultChecked":J=K;break;case"value":E=K;break;case"defaultValue":R=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(n(137,s));break;default:K!==j&&at(i,s,Y,K,u,j)}}vr(i,E,R,D,H,J,_,p);return;case"select":K=E=R=Y=null;for(_ in l)if(D=l[_],l.hasOwnProperty(_)&&D!=null)switch(_){case"value":break;case"multiple":K=D;default:u.hasOwnProperty(_)||at(i,s,_,null,u,D)}for(p in u)if(_=u[p],D=l[p],u.hasOwnProperty(p)&&(_!=null||D!=null))switch(p){case"value":Y=_;break;case"defaultValue":R=_;break;case"multiple":E=_;default:_!==D&&at(i,s,p,_,u,D)}s=R,l=E,u=K,Y!=null?Je(i,!!l,Y,!1):!!u!=!!l&&(s!=null?Je(i,!!l,s,!0):Je(i,!!l,l?[]:"",!1));return;case"textarea":K=Y=null;for(R in l)if(p=l[R],l.hasOwnProperty(R)&&p!=null&&!u.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:at(i,s,R,null,u,p)}for(E in u)if(p=u[E],_=l[E],u.hasOwnProperty(E)&&(p!=null||_!=null))switch(E){case"value":Y=p;break;case"defaultValue":K=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(n(91));break;default:p!==_&&at(i,s,E,p,u,_)}Cs(i,Y,K);return;case"option":for(var he in l)if(Y=l[he],l.hasOwnProperty(he)&&Y!=null&&!u.hasOwnProperty(he))switch(he){case"selected":i.selected=!1;break;default:at(i,s,he,null,u,Y)}for(D in u)if(Y=u[D],K=l[D],u.hasOwnProperty(D)&&Y!==K&&(Y!=null||K!=null))switch(D){case"selected":i.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:at(i,s,D,Y,u,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in l)Y=l[Ae],l.hasOwnProperty(Ae)&&Y!=null&&!u.hasOwnProperty(Ae)&&at(i,s,Ae,null,u,Y);for(H in u)if(Y=u[H],K=l[H],u.hasOwnProperty(H)&&Y!==K&&(Y!=null||K!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(n(137,s));break;default:at(i,s,H,Y,u,K)}return;default:if(Ua(s)){for(var lt in l)Y=l[lt],l.hasOwnProperty(lt)&&Y!==void 0&&!u.hasOwnProperty(lt)&&Th(i,s,lt,void 0,u,Y);for(J in u)Y=u[J],K=l[J],!u.hasOwnProperty(J)||Y===K||Y===void 0&&K===void 0||Th(i,s,J,Y,u,K);return}}for(var B in l)Y=l[B],l.hasOwnProperty(B)&&Y!=null&&!u.hasOwnProperty(B)&&at(i,s,B,null,u,Y);for(j in u)Y=u[j],K=l[j],!u.hasOwnProperty(j)||Y===K||Y==null&&K==null||at(i,s,j,Y,u,K)}function g_(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function GA(){if(typeof performance.getEntriesByType=="function"){for(var i=0,s=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var p=l[u],_=p.transferSize,E=p.initiatorType,R=p.duration;if(_&&R&&g_(E)){for(E=0,R=p.responseEnd,u+=1;u<l.length;u++){var D=l[u],H=D.startTime;if(H>R)break;var J=D.transferSize,j=D.initiatorType;J&&g_(j)&&(D=D.responseEnd,E+=J*(D<R?1:(R-H)/(D-H)))}if(--u,s+=8*(_+E)/(p.duration/1e3),i++,10<i)break}}if(0<i)return s/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var Eh=null,Ch=null;function yc(i){return i.nodeType===9?i:i.ownerDocument}function y_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function __(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Ah(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Sh=null;function HA(){var i=window.event;return i&&i.type==="popstate"?i===Sh?!1:(Sh=i,!0):(Sh=null,!1)}var v_=typeof setTimeout=="function"?setTimeout:void 0,YA=typeof clearTimeout=="function"?clearTimeout:void 0,T_=typeof Promise=="function"?Promise:void 0,$A=typeof queueMicrotask=="function"?queueMicrotask:typeof T_<"u"?function(i){return T_.resolve(null).then(i).catch(KA)}:v_;function KA(i){setTimeout(function(){throw i})}function Yr(i){return i==="head"}function E_(i,s){var l=s,u=0;do{var p=l.nextSibling;if(i.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(u===0){i.removeChild(p),Yo(s);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")yl(i.ownerDocument.documentElement);else if(l==="head"){l=i.ownerDocument.head,yl(l);for(var _=l.firstChild;_;){var E=_.nextSibling,R=_.nodeName;_[Li]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=E}}else l==="body"&&yl(i.ownerDocument.body);l=p}while(l);Yo(s)}function C_(i,s){var l=i;i=0;do{var u=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(i===0)break;i--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||i++;l=u}while(l)}function Rh(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Rh(l),vs(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function QA(i,s,l,u){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[Li])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var _=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=Zn(i.nextSibling),i===null)break}return null}function JA(i,s,l){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=Zn(i.nextSibling),i===null))return null;return i}function A_(i,s){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!s||(i=Zn(i.nextSibling),i===null))return null;return i}function xh(i){return i.data==="$?"||i.data==="$~"}function wh(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function ZA(i,s){var l=i.ownerDocument;if(i.data==="$~")i._reactRetry=s;else if(i.data!=="$?"||l.readyState!=="loading")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function Zn(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return i}var Ih=null;function S_(i){i=i.nextSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"||l==="/&"){if(s===0)return Zn(i.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}i=i.nextSibling}return null}function R_(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return i;s--}else l!=="/$"&&l!=="/&"||s++}i=i.previousSibling}return null}function x_(i,s,l){switch(s=yc(l),i){case"html":if(i=s.documentElement,!i)throw Error(n(452));return i;case"head":if(i=s.head,!i)throw Error(n(453));return i;case"body":if(i=s.body,!i)throw Error(n(454));return i;default:throw Error(n(451))}}function yl(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);vs(i)}var Xn=new Map,w_=new Set;function _c(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var rr=le.d;le.d={f:XA,r:WA,D:jA,C:eS,L:tS,m:nS,X:rS,S:iS,M:sS};function XA(){var i=rr.f(),s=uc();return i||s}function WA(i){var s=Oi(i);s!==null&&s.tag===5&&s.type==="form"?Hg(s):rr.r(i)}var qo=typeof document>"u"?null:document;function I_(i,s,l){var u=qo;if(u&&typeof s=="string"&&s){var p=Et(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),w_.has(p)||(w_.add(p),i={rel:i,crossOrigin:l,href:s},u.querySelector(p)===null&&(s=u.createElement("link"),en(s,"link",i),Rt(s),u.head.appendChild(s)))}}function jA(i){rr.D(i),I_("dns-prefetch",i,null)}function eS(i,s){rr.C(i,s),I_("preconnect",i,s)}function tS(i,s,l){rr.L(i,s,l);var u=qo;if(u&&i&&s){var p='link[rel="preload"][as="'+Et(s)+'"]';s==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+Et(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+Et(l.imageSizes)+'"]')):p+='[href="'+Et(i)+'"]';var _=p;switch(s){case"style":_=Go(i);break;case"script":_=Ho(i)}Xn.has(_)||(i=C({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:i,as:s},l),Xn.set(_,i),u.querySelector(p)!==null||s==="style"&&u.querySelector(_l(_))||s==="script"&&u.querySelector(vl(_))||(s=u.createElement("link"),en(s,"link",i),Rt(s),u.head.appendChild(s)))}}function nS(i,s){rr.m(i,s);var l=qo;if(l&&i){var u=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Et(u)+'"][href="'+Et(i)+'"]',_=p;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Ho(i)}if(!Xn.has(_)&&(i=C({rel:"modulepreload",href:i},s),Xn.set(_,i),l.querySelector(p)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(vl(_)))return}u=l.createElement("link"),en(u,"link",i),Rt(u),l.head.appendChild(u)}}}function iS(i,s,l){rr.S(i,s,l);var u=qo;if(u&&i){var p=ni(u).hoistableStyles,_=Go(i);s=s||"default";var E=p.get(_);if(!E){var R={loading:0,preload:null};if(E=u.querySelector(_l(_)))R.loading=5;else{i=C({rel:"stylesheet",href:i,"data-precedence":s},l),(l=Xn.get(_))&&Mh(i,l);var D=E=u.createElement("link");Rt(D),en(D,"link",i),D._p=new Promise(function(H,J){D.onload=H,D.onerror=J}),D.addEventListener("load",function(){R.loading|=1}),D.addEventListener("error",function(){R.loading|=2}),R.loading|=4,vc(E,s,u)}E={type:"stylesheet",instance:E,count:1,state:R},p.set(_,E)}}}function rS(i,s){rr.X(i,s);var l=qo;if(l&&i){var u=ni(l).hoistableScripts,p=Ho(i),_=u.get(p);_||(_=l.querySelector(vl(p)),_||(i=C({src:i,async:!0},s),(s=Xn.get(p))&&bh(i,s),_=l.createElement("script"),Rt(_),en(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(p,_))}}function sS(i,s){rr.M(i,s);var l=qo;if(l&&i){var u=ni(l).hoistableScripts,p=Ho(i),_=u.get(p);_||(_=l.querySelector(vl(p)),_||(i=C({src:i,async:!0,type:"module"},s),(s=Xn.get(p))&&bh(i,s),_=l.createElement("script"),Rt(_),en(_,"link",i),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(p,_))}}function M_(i,s,l,u){var p=(p=Ue.current)?_c(p):null;if(!p)throw Error(n(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=Go(l.href),l=ni(p).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Go(l.href);var _=ni(p).hoistableStyles,E=_.get(i);if(E||(p=p.ownerDocument||p,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,E),(_=p.querySelector(_l(i)))&&!_._p&&(E.instance=_,E.state.loading=5),Xn.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Xn.set(i,l),_||oS(p,i,l,E.state))),s&&u===null)throw Error(n(528,""));return E}if(s&&u!==null)throw Error(n(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ho(l),l=ni(p).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,i))}}function Go(i){return'href="'+Et(i)+'"'}function _l(i){return'link[rel="stylesheet"]['+i+"]"}function b_(i){return C({},i,{"data-precedence":i.precedence,precedence:null})}function oS(i,s,l,u){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=i.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),en(s,"link",l),Rt(s),i.head.appendChild(s))}function Ho(i){return'[src="'+Et(i)+'"]'}function vl(i){return"script[async]"+i}function D_(i,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=i.querySelector('style[data-href~="'+Et(l.href)+'"]');if(u)return s.instance=u,Rt(u),u;var p=C({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Rt(u),en(u,"style",p),vc(u,l.precedence,i),s.instance=u;case"stylesheet":p=Go(l.href);var _=i.querySelector(_l(p));if(_)return s.state.loading|=4,s.instance=_,Rt(_),_;u=b_(l),(p=Xn.get(p))&&Mh(u,p),_=(i.ownerDocument||i).createElement("link"),Rt(_);var E=_;return E._p=new Promise(function(R,D){E.onload=R,E.onerror=D}),en(_,"link",u),s.state.loading|=4,vc(_,l.precedence,i),s.instance=_;case"script":return _=Ho(l.src),(p=i.querySelector(vl(_)))?(s.instance=p,Rt(p),p):(u=l,(p=Xn.get(_))&&(u=C({},l),bh(u,p)),i=i.ownerDocument||i,p=i.createElement("script"),Rt(p),en(p,"link",u),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(n(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,vc(u,l.precedence,i));return s.instance}function vc(i,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=u.length?u[u.length-1]:null,_=p,E=0;E<u.length;E++){var R=u[E];if(R.dataset.precedence===s)_=R;else if(_!==p)break}_?_.parentNode.insertBefore(i,_.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(i,s.firstChild))}function Mh(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function bh(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Tc=null;function N_(i,s,l){if(Tc===null){var u=new Map,p=Tc=new Map;p.set(l,u)}else p=Tc,u=p.get(l),u||(u=new Map,p.set(l,u));if(u.has(i))return u;for(u.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var _=l[p];if(!(_[Li]||_[Tt]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var E=_.getAttribute(s)||"";E=i+E;var R=u.get(E);R?R.push(_):u.set(E,[_])}}return u}function V_(i,s,l){i=i.ownerDocument||i,i.head.insertBefore(l,s==="title"?i.querySelector("head > title"):null)}function aS(i,s,l){if(l===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function P_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function lS(i,s,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=Go(u.href),_=s.querySelector(_l(p));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(i.count++,i=Ec.bind(i),s.then(i,i)),l.state.loading|=4,l.instance=_,Rt(_);return}_=s.ownerDocument||s,u=b_(u),(p=Xn.get(p))&&Mh(u,p),_=_.createElement("link"),Rt(_);var E=_;E._p=new Promise(function(R,D){E.onload=R,E.onerror=D}),en(_,"link",u),l.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(i.count++,l=Ec.bind(i),s.addEventListener("load",l),s.addEventListener("error",l))}}var Dh=0;function uS(i,s){return i.stylesheets&&i.count===0&&Ac(i,i.stylesheets),0<i.count||0<i.imgCount?function(l){var u=setTimeout(function(){if(i.stylesheets&&Ac(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+s);0<i.imgBytes&&Dh===0&&(Dh=62500*GA());var p=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Ac(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>Dh?50:800)+s);return i.unsuspend=l,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(p)}}:null}function Ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ac(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Cc=null;function Ac(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Cc=new Map,s.forEach(cS,i),Cc=null,Ec.call(i))}function cS(i,s){if(!(s.state.loading&4)){var l=Cc.get(i);if(l)var u=l.get(null);else{l=new Map,Cc.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<p.length;_++){var E=p[_];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(l.set(E.dataset.precedence,E),u=E)}u&&l.set(null,u)}p=s.instance,E=p.getAttribute("data-precedence"),_=l.get(E)||u,_===u&&l.set(null,p),l.set(E,p),this.count++,u=Ec.bind(this),p.addEventListener("load",u),p.addEventListener("error",u),_?_.parentNode.insertBefore(p,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var Tl={$$typeof:ie,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function fS(i,s,l,u,p,_,E,R,D){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pi(0),this.hiddenUpdates=Pi(null),this.identifierPrefix=u,this.onUncaughtError=p,this.onCaughtError=_,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function U_(i,s,l,u,p,_,E,R,D,H,J,j){return i=new fS(i,s,l,E,D,H,J,j,R),s=1,_===!0&&(s|=24),_=Vn(3,null,null,s),i.current=_,_.stateNode=i,s=cd(),s.refCount++,i.pooledCache=s,s.refCount++,_.memoizedState={element:u,isDehydrated:l,cache:s},md(_),i}function L_(i){return i?(i=Eo,i):Eo}function k_(i,s,l,u,p,_){p=L_(p),u.context===null?u.context=p:u.pendingContext=p,u=Pr(s),u.payload={element:l},_=_===void 0?null:_,_!==null&&(u.callback=_),l=Ur(i,u,s),l!==null&&(xn(l,i,s),Wa(l,i,s))}function O_(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<s?l:s}}function Nh(i,s){O_(i,s),(i=i.alternate)&&O_(i,s)}function B_(i){if(i.tag===13||i.tag===31){var s=Ds(i,67108864);s!==null&&xn(s,i,67108864),Nh(i,67108864)}}function F_(i){if(i.tag===13||i.tag===31){var s=On();s=Ia(s);var l=Ds(i,s);l!==null&&xn(l,i,s),Nh(i,s)}}var Sc=!0;function dS(i,s,l,u){var p=Z.T;Z.T=null;var _=le.p;try{le.p=2,Vh(i,s,l,u)}finally{le.p=_,Z.T=p}}function hS(i,s,l,u){var p=Z.T;Z.T=null;var _=le.p;try{le.p=8,Vh(i,s,l,u)}finally{le.p=_,Z.T=p}}function Vh(i,s,l,u){if(Sc){var p=Ph(u);if(p===null)vh(i,s,u,Rc,l),q_(i,u);else if(pS(p,i,s,l,u))u.stopPropagation();else if(q_(i,u),s&4&&-1<mS.indexOf(i)){for(;p!==null;){var _=Oi(p);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var E=ti(_.pendingLanes);if(E!==0){var R=_;for(R.pendingLanes|=2,R.entangledLanes|=2;E;){var D=1<<31-dn(E);R.entanglements[1]|=D,E&=~D}Ci(_),(je&6)===0&&(ac=Qt()+500,ml(0))}}break;case 31:case 13:R=Ds(_,2),R!==null&&xn(R,_,2),uc(),Nh(_,2)}if(_=Ph(u),_===null&&vh(i,s,u,Rc,l),_===p)break;p=_}p!==null&&u.stopPropagation()}else vh(i,s,u,null,l)}}function Ph(i){return i=ho(i),Uh(i)}var Rc=null;function Uh(i){if(Rc=null,i=ki(i),i!==null){var s=a(i);if(s===null)i=null;else{var l=s.tag;if(l===13){if(i=c(s),i!==null)return i;i=null}else if(l===31){if(i=h(s),i!==null)return i;i=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Rc=i,null}function z_(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ru()){case kt:return 2;case Ft:return 8;case Vi:case su:return 32;case Sa:return 268435456;default:return 32}default:return 32}}var Lh=!1,$r=null,Kr=null,Qr=null,El=new Map,Cl=new Map,Jr=[],mS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q_(i,s){switch(i){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":El.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(s.pointerId)}}function Al(i,s,l,u,p,_){return i===null||i.nativeEvent!==_?(i={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:_,targetContainers:[p]},s!==null&&(s=Oi(s),s!==null&&B_(s)),i):(i.eventSystemFlags|=u,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function pS(i,s,l,u,p){switch(s){case"focusin":return $r=Al($r,i,s,l,u,p),!0;case"dragenter":return Kr=Al(Kr,i,s,l,u,p),!0;case"mouseover":return Qr=Al(Qr,i,s,l,u,p),!0;case"pointerover":var _=p.pointerId;return El.set(_,Al(El.get(_)||null,i,s,l,u,p)),!0;case"gotpointercapture":return _=p.pointerId,Cl.set(_,Al(Cl.get(_)||null,i,s,l,u,p)),!0}return!1}function G_(i){var s=ki(i.target);if(s!==null){var l=a(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){i.blockedOn=s,au(i.priority,function(){F_(l)});return}}else if(s===31){if(s=h(l),s!==null){i.blockedOn=s,au(i.priority,function(){F_(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function xc(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var l=Ph(i.nativeEvent);if(l===null){l=i.nativeEvent;var u=new l.constructor(l.type,l);fo=u,l.target.dispatchEvent(u),fo=null}else return s=Oi(l),s!==null&&B_(s),i.blockedOn=l,!1;s.shift()}return!0}function H_(i,s,l){xc(i)&&l.delete(s)}function gS(){Lh=!1,$r!==null&&xc($r)&&($r=null),Kr!==null&&xc(Kr)&&(Kr=null),Qr!==null&&xc(Qr)&&(Qr=null),El.forEach(H_),Cl.forEach(H_)}function wc(i,s){i.blockedOn===s&&(i.blockedOn=null,Lh||(Lh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,gS)))}var Ic=null;function Y_(i){Ic!==i&&(Ic=i,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Ic===i&&(Ic=null);for(var s=0;s<i.length;s+=3){var l=i[s],u=i[s+1],p=i[s+2];if(typeof u!="function"){if(Uh(u||l)===null)continue;break}var _=Oi(l);_!==null&&(i.splice(s,3),s-=3,Pd(_,{pending:!0,data:p,method:l.method,action:u},u,p))}}))}function Yo(i){function s(D){return wc(D,i)}$r!==null&&wc($r,i),Kr!==null&&wc(Kr,i),Qr!==null&&wc(Qr,i),El.forEach(s),Cl.forEach(s);for(var l=0;l<Jr.length;l++){var u=Jr[l];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Jr.length&&(l=Jr[0],l.blockedOn===null);)G_(l),l.blockedOn===null&&Jr.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var p=l[u],_=l[u+1],E=p[Zt]||null;if(typeof _=="function")E||Y_(l);else if(E){var R=null;if(_&&_.hasAttribute("formAction")){if(p=_,E=_[Zt]||null)R=E.formAction;else if(Uh(p)!==null)continue}else R=E.action;typeof R=="function"?l[u+1]=R:(l.splice(u,3),u-=3),Y_(l)}}}function $_(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(E){return p=E})},focusReset:"manual",scroll:"manual"})}function s(){p!==null&&(p(),p=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,p=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),p!==null&&(p(),p=null)}}}function kh(i){this._internalRoot=i}Mc.prototype.render=kh.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(n(409));var l=s.current,u=On();k_(l,u,i,s,null,null)},Mc.prototype.unmount=kh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;k_(i.current,2,null,i,null,null),uc(),s[hi]=null}};function Mc(i){this._internalRoot=i}Mc.prototype.unstable_scheduleHydration=function(i){if(i){var s=Ui();i={blockedOn:null,target:i,priority:s};for(var l=0;l<Jr.length&&s!==0&&s<Jr[l].priority;l++);Jr.splice(l,0,i),l===0&&G_(i)}};var K_=e.version;if(K_!=="19.2.4")throw Error(n(527,K_,"19.2.4"));le.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=g(s),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var yS={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{ur=bc.inject(yS),sn=bc}catch{}}return Rl.createRoot=function(i,s){if(!o(i))throw Error(n(299));var l=!1,u="",p=ey,_=ty,E=ny;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError)),s=U_(i,1,!1,null,null,l,u,null,p,_,E,$_),i[hi]=s.current,_h(i),new kh(s)},Rl.hydrateRoot=function(i,s,l){if(!o(i))throw Error(n(299));var u=!1,p="",_=ey,E=ty,R=ny,D=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(E=l.onCaughtError),l.onRecoverableError!==void 0&&(R=l.onRecoverableError),l.formState!==void 0&&(D=l.formState)),s=U_(i,1,!0,s,l??null,u,p,D,_,E,R,$_),s.context=L_(null),l=s.current,u=On(),u=Ia(u),p=Pr(u),p.callback=null,Ur(l,p,u),l=u,s.current.lanes=l,dr(s,l),Ci(s),i[hi]=s.current,_h(i),new Mc(s)},Rl.version="19.2.4",Rl}var iv;function IS(){if(iv)return Fh.exports;iv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Fh.exports=wS(),Fh.exports}var MS=IS();const bS=LE(MS),DS=({isLive:r=!0})=>O.jsx("header",{className:"bg-white/90 backdrop-blur-xl border-b border-slate-200 sticky top-0 z-50",children:O.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-3 flex items-center justify-between",children:[O.jsxs("div",{className:"flex items-center gap-3",children:[O.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-xl flex items-center justify-center text-white shadow-indigo-100 shadow-xl transition-transform hover:scale-105",children:O.jsx("i",{className:"fa-solid fa-hand-holding-heart"})}),O.jsxs("div",{children:[O.jsxs("h1",{className:"text-base font-black tracking-tight text-slate-900 leading-none",children:["Fund ",O.jsx("span",{className:"text-indigo-600",children:"CAMH"})]}),O.jsx("p",{className:"text-[9px] text-slate-400 font-bold mt-1 uppercase tracking-[0.15em]",children:"Don't fund me. Go fund CAMH."})]})]}),O.jsxs("div",{className:"flex items-center gap-3 md:gap-6",children:[O.jsxs("div",{className:"hidden sm:flex items-center gap-2 px-3 py-1.5 bg-slate-50 rounded-full border border-slate-100",children:[O.jsx("span",{className:`w-2 h-2 rounded-full ${r?"bg-green-500 animate-pulse":"bg-amber-400"}`}),O.jsx("span",{className:"text-[9px] font-bold uppercase tracking-widest text-slate-500",children:r?"Global Sync Active":"Local Preview"})]}),O.jsxs("a",{href:"https://give.camh.ca/site/Donation2?df_id=2463&2463.donation=form1",target:"_blank",rel:"noopener noreferrer",className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 md:px-6 py-2.5 rounded-xl font-bold transition-all shadow-lg shadow-indigo-200 hover:shadow-indigo-300 flex items-center gap-2 text-xs md:text-sm active:scale-95",children:[O.jsx("i",{className:"fa-solid fa-heart-pulse animate-pulse"}),"Donate Now"]})]})]})});var We;(function(r){r.assertEqual=o=>{};function e(o){}r.assertIs=e;function t(o){throw new Error}r.assertNever=t,r.arrayToEnum=o=>{const a={};for(const c of o)a[c]=c;return a},r.getValidEnumValues=o=>{const a=r.objectKeys(o).filter(h=>typeof o[o[h]]!="number"),c={};for(const h of a)c[h]=o[h];return r.objectValues(c)},r.objectValues=o=>r.objectKeys(o).map(function(a){return o[a]}),r.objectKeys=typeof Object.keys=="function"?o=>Object.keys(o):o=>{const a=[];for(const c in o)Object.prototype.hasOwnProperty.call(o,c)&&a.push(c);return a},r.find=(o,a)=>{for(const c of o)if(a(c))return c},r.isInteger=typeof Number.isInteger=="function"?o=>Number.isInteger(o):o=>typeof o=="number"&&Number.isFinite(o)&&Math.floor(o)===o;function n(o,a=" | "){return o.map(c=>typeof c=="string"?`'${c}'`:c).join(a)}r.joinValues=n,r.jsonStringifyReplacer=(o,a)=>typeof a=="bigint"?a.toString():a})(We||(We={}));var rv;(function(r){r.mergeShapes=(e,t)=>({...e,...t})})(rv||(rv={}));const ge=We.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Xr=r=>{switch(typeof r){case"undefined":return ge.undefined;case"string":return ge.string;case"number":return Number.isNaN(r)?ge.nan:ge.number;case"boolean":return ge.boolean;case"function":return ge.function;case"bigint":return ge.bigint;case"symbol":return ge.symbol;case"object":return Array.isArray(r)?ge.array:r===null?ge.null:r.then&&typeof r.then=="function"&&r.catch&&typeof r.catch=="function"?ge.promise:typeof Map<"u"&&r instanceof Map?ge.map:typeof Set<"u"&&r instanceof Set?ge.set:typeof Date<"u"&&r instanceof Date?ge.date:ge.object;default:return ge.unknown}},oe=We.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class sr extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}format(e){const t=e||function(a){return a.message},n={_errors:[]},o=a=>{for(const c of a.issues)if(c.code==="invalid_union")c.unionErrors.map(o);else if(c.code==="invalid_return_type")o(c.returnTypeError);else if(c.code==="invalid_arguments")o(c.argumentsError);else if(c.path.length===0)n._errors.push(t(c));else{let h=n,y=0;for(;y<c.path.length;){const g=c.path[y];y===c.path.length-1?(h[g]=h[g]||{_errors:[]},h[g]._errors.push(t(c))):h[g]=h[g]||{_errors:[]},h=h[g],y++}}};return o(this),n}static assert(e){if(!(e instanceof sr))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,We.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=t=>t.message){const t={},n=[];for(const o of this.issues)if(o.path.length>0){const a=o.path[0];t[a]=t[a]||[],t[a].push(e(o))}else n.push(e(o));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}sr.create=r=>new sr(r);const em=(r,e)=>{let t;switch(r.code){case oe.invalid_type:r.received===ge.undefined?t="Required":t=`Expected ${r.expected}, received ${r.received}`;break;case oe.invalid_literal:t=`Invalid literal value, expected ${JSON.stringify(r.expected,We.jsonStringifyReplacer)}`;break;case oe.unrecognized_keys:t=`Unrecognized key(s) in object: ${We.joinValues(r.keys,", ")}`;break;case oe.invalid_union:t="Invalid input";break;case oe.invalid_union_discriminator:t=`Invalid discriminator value. Expected ${We.joinValues(r.options)}`;break;case oe.invalid_enum_value:t=`Invalid enum value. Expected ${We.joinValues(r.options)}, received '${r.received}'`;break;case oe.invalid_arguments:t="Invalid function arguments";break;case oe.invalid_return_type:t="Invalid function return type";break;case oe.invalid_date:t="Invalid date";break;case oe.invalid_string:typeof r.validation=="object"?"includes"in r.validation?(t=`Invalid input: must include "${r.validation.includes}"`,typeof r.validation.position=="number"&&(t=`${t} at one or more positions greater than or equal to ${r.validation.position}`)):"startsWith"in r.validation?t=`Invalid input: must start with "${r.validation.startsWith}"`:"endsWith"in r.validation?t=`Invalid input: must end with "${r.validation.endsWith}"`:We.assertNever(r.validation):r.validation!=="regex"?t=`Invalid ${r.validation}`:t="Invalid";break;case oe.too_small:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at least":"more than"} ${r.minimum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at least":"over"} ${r.minimum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="bigint"?t=`Number must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${r.minimum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly equal to ":r.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(r.minimum))}`:t="Invalid input";break;case oe.too_big:r.type==="array"?t=`Array must contain ${r.exact?"exactly":r.inclusive?"at most":"less than"} ${r.maximum} element(s)`:r.type==="string"?t=`String must contain ${r.exact?"exactly":r.inclusive?"at most":"under"} ${r.maximum} character(s)`:r.type==="number"?t=`Number must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="bigint"?t=`BigInt must be ${r.exact?"exactly":r.inclusive?"less than or equal to":"less than"} ${r.maximum}`:r.type==="date"?t=`Date must be ${r.exact?"exactly":r.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(r.maximum))}`:t="Invalid input";break;case oe.custom:t="Invalid input";break;case oe.invalid_intersection_types:t="Intersection results could not be merged";break;case oe.not_multiple_of:t=`Number must be a multiple of ${r.multipleOf}`;break;case oe.not_finite:t="Number must be finite";break;default:t=e.defaultError,We.assertNever(r)}return{message:t}};let NS=em;function VS(){return NS}const PS=r=>{const{data:e,path:t,errorMaps:n,issueData:o}=r,a=[...t,...o.path||[]],c={...o,path:a};if(o.message!==void 0)return{...o,path:a,message:o.message};let h="";const y=n.filter(g=>!!g).slice().reverse();for(const g of y)h=g(c,{data:e,defaultError:h}).message;return{...o,path:a,message:h}};function ce(r,e){const t=VS(),n=PS({issueData:e,data:r.data,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,t,t===em?void 0:em].filter(o=>!!o)});r.common.issues.push(n)}class vn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const o of t){if(o.status==="aborted")return Me;o.status==="dirty"&&e.dirty(),n.push(o.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const o of t){const a=await o.key,c=await o.value;n.push({key:a,value:c})}return vn.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const o of t){const{key:a,value:c}=o;if(a.status==="aborted"||c.status==="aborted")return Me;a.status==="dirty"&&e.dirty(),c.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof c.value<"u"||o.alwaysSet)&&(n[a.value]=c.value)}return{status:e.value,value:n}}}const Me=Object.freeze({status:"aborted"}),wl=r=>({status:"dirty",value:r}),jn=r=>({status:"valid",value:r}),sv=r=>r.status==="aborted",ov=r=>r.status==="dirty",na=r=>r.status==="valid",Jc=r=>typeof Promise<"u"&&r instanceof Promise;var ve;(function(r){r.errToObj=e=>typeof e=="string"?{message:e}:e||{},r.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ve||(ve={}));class Mi{constructor(e,t,n,o){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=o}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const av=(r,e)=>{if(na(e))return{success:!0,data:e.value};if(!r.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new sr(r.common.issues);return this._error=t,this._error}}};function Pe(r){if(!r)return{};const{errorMap:e,invalid_type_error:t,required_error:n,description:o}=r;if(e&&(t||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:o}:{errorMap:(c,h)=>{const{message:y}=r;return c.code==="invalid_enum_value"?{message:y??h.defaultError}:typeof h.data>"u"?{message:y??n??h.defaultError}:c.code!=="invalid_type"?{message:h.defaultError}:{message:y??t??h.defaultError}},description:o}}class He{get description(){return this._def.description}_getType(e){return Xr(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:Xr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new vn,ctx:{common:e.parent.common,data:e.data,parsedType:Xr(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Jc(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){const n={common:{issues:[],async:(t==null?void 0:t.async)??!1,contextualErrorMap:t==null?void 0:t.errorMap},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xr(e)},o=this._parseSync({data:e,path:n.path,parent:n});return av(n,o)}"~validate"(e){var n,o;const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xr(e)};if(!this["~standard"].async)try{const a=this._parseSync({data:e,path:[],parent:t});return na(a)?{value:a.value}:{issues:t.common.issues}}catch(a){(o=(n=a==null?void 0:a.message)==null?void 0:n.toLowerCase())!=null&&o.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then(a=>na(a)?{value:a.value}:{issues:t.common.issues})}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:t==null?void 0:t.errorMap,async:!0},path:(t==null?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Xr(e)},o=this._parse({data:e,path:n.path,parent:n}),a=await(Jc(o)?o:Promise.resolve(o));return av(n,a)}refine(e,t){const n=o=>typeof t=="string"||typeof t>"u"?{message:t}:typeof t=="function"?t(o):t;return this._refinement((o,a)=>{const c=e(o),h=()=>a.addIssue({code:oe.custom,...n(o)});return typeof Promise<"u"&&c instanceof Promise?c.then(y=>y?!0:(h(),!1)):c?!0:(h(),!1)})}refinement(e,t){return this._refinement((n,o)=>e(n)?!0:(o.addIssue(typeof t=="function"?t(n,o):t),!1))}_refinement(e){return new sa({schema:this,typeName:we.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:t=>this["~validate"](t)}}optional(){return jr.create(this,this._def)}nullable(){return oa.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return xi.create(this)}promise(){return ef.create(this,this._def)}or(e){return Xc.create([this,e],this._def)}and(e){return Wc.create(this,e,this._def)}transform(e){return new sa({...Pe(this._def),schema:this,typeName:we.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t=typeof e=="function"?e:()=>e;return new rm({...Pe(this._def),innerType:this,defaultValue:t,typeName:we.ZodDefault})}brand(){return new iR({typeName:we.ZodBranded,type:this,...Pe(this._def)})}catch(e){const t=typeof e=="function"?e:()=>e;return new sm({...Pe(this._def),innerType:this,catchValue:t,typeName:we.ZodCatch})}describe(e){const t=this.constructor;return new t({...this._def,description:e})}pipe(e){return zm.create(this,e)}readonly(){return om.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const US=/^c[^\s-]{8,}$/i,LS=/^[0-9a-z]+$/,kS=/^[0-9A-HJKMNP-TV-Z]{26}$/i,OS=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,BS=/^[a-z0-9_-]{21}$/i,FS=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,zS=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,qS=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,GS="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Hh;const HS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,YS=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,$S=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,KS=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,QS=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,JS=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,kE="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ZS=new RegExp(`^${kE}$`);function OE(r){let e="[0-5]\\d";r.precision?e=`${e}\\.\\d{${r.precision}}`:r.precision==null&&(e=`${e}(\\.\\d+)?`);const t=r.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${t}`}function XS(r){return new RegExp(`^${OE(r)}$`)}function WS(r){let e=`${kE}T${OE(r)}`;const t=[];return t.push(r.local?"Z?":"Z"),r.offset&&t.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${t.join("|")})`,new RegExp(`^${e}$`)}function jS(r,e){return!!((e==="v4"||!e)&&HS.test(r)||(e==="v6"||!e)&&$S.test(r))}function eR(r,e){if(!FS.test(r))return!1;try{const[t]=r.split(".");if(!t)return!1;const n=t.replace(/-/g,"+").replace(/_/g,"/").padEnd(t.length+(4-t.length%4)%4,"="),o=JSON.parse(atob(n));return!(typeof o!="object"||o===null||"typ"in o&&(o==null?void 0:o.typ)!=="JWT"||!o.alg||e&&o.alg!==e)}catch{return!1}}function tR(r,e){return!!((e==="v4"||!e)&&YS.test(r)||(e==="v6"||!e)&&KS.test(r))}class Ri extends He{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ge.string){const a=this._getOrReturnCtx(e);return ce(a,{code:oe.invalid_type,expected:ge.string,received:a.parsedType}),Me}const n=new vn;let o;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(o=this._getOrReturnCtx(e,o),ce(o,{code:oe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(o=this._getOrReturnCtx(e,o),ce(o,{code:oe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const c=e.data.length>a.value,h=e.data.length<a.value;(c||h)&&(o=this._getOrReturnCtx(e,o),c?ce(o,{code:oe.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):h&&ce(o,{code:oe.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")qS.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"email",code:oe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Hh||(Hh=new RegExp(GS,"u")),Hh.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"emoji",code:oe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")OS.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"uuid",code:oe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")BS.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"nanoid",code:oe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")US.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"cuid",code:oe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")LS.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"cuid2",code:oe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")kS.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"ulid",code:oe.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{o=this._getOrReturnCtx(e,o),ce(o,{validation:"url",code:oe.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"regex",code:oe.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(o=this._getOrReturnCtx(e,o),ce(o,{code:oe.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(o=this._getOrReturnCtx(e,o),ce(o,{code:oe.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(o=this._getOrReturnCtx(e,o),ce(o,{code:oe.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?WS(a).test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{code:oe.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?ZS.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{code:oe.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?XS(a).test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{code:oe.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?zS.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"duration",code:oe.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?jS(e.data,a.version)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"ip",code:oe.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?eR(e.data,a.alg)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"jwt",code:oe.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?tR(e.data,a.version)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"cidr",code:oe.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?QS.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"base64",code:oe.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?JS.test(e.data)||(o=this._getOrReturnCtx(e,o),ce(o,{validation:"base64url",code:oe.invalid_string,message:a.message}),n.dirty()):We.assertNever(a);return{status:n.value,value:e.data}}_regex(e,t,n){return this.refinement(o=>e.test(o),{validation:t,code:oe.invalid_string,...ve.errToObj(n)})}_addCheck(e){return new Ri({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ve.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ve.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ve.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ve.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ve.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ve.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ve.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ve.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ve.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ve.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ve.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ve.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ve.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ve.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ve.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ve.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...ve.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t==null?void 0:t.position,...ve.errToObj(t==null?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...ve.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...ve.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...ve.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...ve.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...ve.errToObj(t)})}nonempty(e){return this.min(1,ve.errToObj(e))}trim(){return new Ri({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ri({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ri({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Ri.create=r=>new Ri({checks:[],typeName:we.ZodString,coerce:(r==null?void 0:r.coerce)??!1,...Pe(r)});function nR(r,e){const t=(r.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,o=t>n?t:n,a=Number.parseInt(r.toFixed(o).replace(".","")),c=Number.parseInt(e.toFixed(o).replace(".",""));return a%c/10**o}class Js extends He{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ge.number){const a=this._getOrReturnCtx(e);return ce(a,{code:oe.invalid_type,expected:ge.number,received:a.parsedType}),Me}let n;const o=new vn;for(const a of this._def.checks)a.kind==="int"?We.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),ce(n,{code:oe.invalid_type,expected:"integer",received:"float",message:a.message}),o.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),ce(n,{code:oe.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),ce(n,{code:oe.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),o.dirty()):a.kind==="multipleOf"?nR(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),ce(n,{code:oe.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),ce(n,{code:oe.not_finite,message:a.message}),o.dirty()):We.assertNever(a);return{status:o.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,ve.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ve.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ve.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ve.toString(t))}setLimit(e,t,n,o){return new Js({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:ve.toString(o)}]})}_addCheck(e){return new Js({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ve.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ve.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ve.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:ve.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ve.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ve.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&We.isInteger(e.value))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(t===null||n.value>t)&&(t=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}Js.create=r=>new Js({checks:[],typeName:we.ZodNumber,coerce:(r==null?void 0:r.coerce)||!1,...Pe(r)});class Zs extends He{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ge.bigint)return this._getInvalidInput(e);let n;const o=new vn;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),ce(n,{code:oe.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),ce(n,{code:oe.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),o.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),ce(n,{code:oe.not_multiple_of,multipleOf:a.value,message:a.message}),o.dirty()):We.assertNever(a);return{status:o.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return ce(t,{code:oe.invalid_type,expected:ge.bigint,received:t.parsedType}),Me}gte(e,t){return this.setLimit("min",e,!0,ve.toString(t))}gt(e,t){return this.setLimit("min",e,!1,ve.toString(t))}lte(e,t){return this.setLimit("max",e,!0,ve.toString(t))}lt(e,t){return this.setLimit("max",e,!1,ve.toString(t))}setLimit(e,t,n,o){return new Zs({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:ve.toString(o)}]})}_addCheck(e){return new Zs({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ve.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ve.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ve.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ve.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:ve.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e}}Zs.create=r=>new Zs({checks:[],typeName:we.ZodBigInt,coerce:(r==null?void 0:r.coerce)??!1,...Pe(r)});class Zc extends He{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ge.boolean){const n=this._getOrReturnCtx(e);return ce(n,{code:oe.invalid_type,expected:ge.boolean,received:n.parsedType}),Me}return jn(e.data)}}Zc.create=r=>new Zc({typeName:we.ZodBoolean,coerce:(r==null?void 0:r.coerce)||!1,...Pe(r)});class ia extends He{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ge.date){const a=this._getOrReturnCtx(e);return ce(a,{code:oe.invalid_type,expected:ge.date,received:a.parsedType}),Me}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return ce(a,{code:oe.invalid_date}),Me}const n=new vn;let o;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(o=this._getOrReturnCtx(e,o),ce(o,{code:oe.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(o=this._getOrReturnCtx(e,o),ce(o,{code:oe.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):We.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ia({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:ve.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:ve.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)t.kind==="min"&&(e===null||t.value>e)&&(e=t.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)t.kind==="max"&&(e===null||t.value<e)&&(e=t.value);return e!=null?new Date(e):null}}ia.create=r=>new ia({checks:[],coerce:(r==null?void 0:r.coerce)||!1,typeName:we.ZodDate,...Pe(r)});class lv extends He{_parse(e){if(this._getType(e)!==ge.symbol){const n=this._getOrReturnCtx(e);return ce(n,{code:oe.invalid_type,expected:ge.symbol,received:n.parsedType}),Me}return jn(e.data)}}lv.create=r=>new lv({typeName:we.ZodSymbol,...Pe(r)});class uv extends He{_parse(e){if(this._getType(e)!==ge.undefined){const n=this._getOrReturnCtx(e);return ce(n,{code:oe.invalid_type,expected:ge.undefined,received:n.parsedType}),Me}return jn(e.data)}}uv.create=r=>new uv({typeName:we.ZodUndefined,...Pe(r)});class cv extends He{_parse(e){if(this._getType(e)!==ge.null){const n=this._getOrReturnCtx(e);return ce(n,{code:oe.invalid_type,expected:ge.null,received:n.parsedType}),Me}return jn(e.data)}}cv.create=r=>new cv({typeName:we.ZodNull,...Pe(r)});class fv extends He{constructor(){super(...arguments),this._any=!0}_parse(e){return jn(e.data)}}fv.create=r=>new fv({typeName:we.ZodAny,...Pe(r)});class tm extends He{constructor(){super(...arguments),this._unknown=!0}_parse(e){return jn(e.data)}}tm.create=r=>new tm({typeName:we.ZodUnknown,...Pe(r)});class rs extends He{_parse(e){const t=this._getOrReturnCtx(e);return ce(t,{code:oe.invalid_type,expected:ge.never,received:t.parsedType}),Me}}rs.create=r=>new rs({typeName:we.ZodNever,...Pe(r)});class dv extends He{_parse(e){if(this._getType(e)!==ge.undefined){const n=this._getOrReturnCtx(e);return ce(n,{code:oe.invalid_type,expected:ge.void,received:n.parsedType}),Me}return jn(e.data)}}dv.create=r=>new dv({typeName:we.ZodVoid,...Pe(r)});class xi extends He{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),o=this._def;if(t.parsedType!==ge.array)return ce(t,{code:oe.invalid_type,expected:ge.array,received:t.parsedType}),Me;if(o.exactLength!==null){const c=t.data.length>o.exactLength.value,h=t.data.length<o.exactLength.value;(c||h)&&(ce(t,{code:c?oe.too_big:oe.too_small,minimum:h?o.exactLength.value:void 0,maximum:c?o.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:o.exactLength.message}),n.dirty())}if(o.minLength!==null&&t.data.length<o.minLength.value&&(ce(t,{code:oe.too_small,minimum:o.minLength.value,type:"array",inclusive:!0,exact:!1,message:o.minLength.message}),n.dirty()),o.maxLength!==null&&t.data.length>o.maxLength.value&&(ce(t,{code:oe.too_big,maximum:o.maxLength.value,type:"array",inclusive:!0,exact:!1,message:o.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map((c,h)=>o.type._parseAsync(new Mi(t,c,t.path,h)))).then(c=>vn.mergeArray(n,c));const a=[...t.data].map((c,h)=>o.type._parseSync(new Mi(t,c,t.path,h)));return vn.mergeArray(n,a)}get element(){return this._def.type}min(e,t){return new xi({...this._def,minLength:{value:e,message:ve.toString(t)}})}max(e,t){return new xi({...this._def,maxLength:{value:e,message:ve.toString(t)}})}length(e,t){return new xi({...this._def,exactLength:{value:e,message:ve.toString(t)}})}nonempty(e){return this.min(1,e)}}xi.create=(r,e)=>new xi({type:r,minLength:null,maxLength:null,exactLength:null,typeName:we.ZodArray,...Pe(e)});function Ko(r){if(r instanceof Ut){const e={};for(const t in r.shape){const n=r.shape[t];e[t]=jr.create(Ko(n))}return new Ut({...r._def,shape:()=>e})}else return r instanceof xi?new xi({...r._def,type:Ko(r.element)}):r instanceof jr?jr.create(Ko(r.unwrap())):r instanceof oa?oa.create(Ko(r.unwrap())):r instanceof Xs?Xs.create(r.items.map(e=>Ko(e))):r}class Ut extends He{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),t=We.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==ge.object){const g=this._getOrReturnCtx(e);return ce(g,{code:oe.invalid_type,expected:ge.object,received:g.parsedType}),Me}const{status:n,ctx:o}=this._processInputParams(e),{shape:a,keys:c}=this._getCached(),h=[];if(!(this._def.catchall instanceof rs&&this._def.unknownKeys==="strip"))for(const g in o.data)c.includes(g)||h.push(g);const y=[];for(const g of c){const v=a[g],C=o.data[g];y.push({key:{status:"valid",value:g},value:v._parse(new Mi(o,C,o.path,g)),alwaysSet:g in o.data})}if(this._def.catchall instanceof rs){const g=this._def.unknownKeys;if(g==="passthrough")for(const v of h)y.push({key:{status:"valid",value:v},value:{status:"valid",value:o.data[v]}});else if(g==="strict")h.length>0&&(ce(o,{code:oe.unrecognized_keys,keys:h}),n.dirty());else if(g!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const g=this._def.catchall;for(const v of h){const C=o.data[v];y.push({key:{status:"valid",value:v},value:g._parse(new Mi(o,C,o.path,v)),alwaysSet:v in o.data})}}return o.common.async?Promise.resolve().then(async()=>{const g=[];for(const v of y){const C=await v.key,S=await v.value;g.push({key:C,value:S,alwaysSet:v.alwaysSet})}return g}).then(g=>vn.mergeObjectSync(n,g)):vn.mergeObjectSync(n,y)}get shape(){return this._def.shape()}strict(e){return ve.errToObj,new Ut({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(t,n)=>{var a,c;const o=((c=(a=this._def).errorMap)==null?void 0:c.call(a,t,n).message)??n.defaultError;return t.code==="unrecognized_keys"?{message:ve.errToObj(e).message??o}:{message:o}}}:{}})}strip(){return new Ut({...this._def,unknownKeys:"strip"})}passthrough(){return new Ut({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ut({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ut({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:we.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Ut({...this._def,catchall:e})}pick(e){const t={};for(const n of We.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new Ut({...this._def,shape:()=>t})}omit(e){const t={};for(const n of We.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new Ut({...this._def,shape:()=>t})}deepPartial(){return Ko(this)}partial(e){const t={};for(const n of We.objectKeys(this.shape)){const o=this.shape[n];e&&!e[n]?t[n]=o:t[n]=o.optional()}return new Ut({...this._def,shape:()=>t})}required(e){const t={};for(const n of We.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof jr;)a=a._def.innerType;t[n]=a}return new Ut({...this._def,shape:()=>t})}keyof(){return BE(We.objectKeys(this.shape))}}Ut.create=(r,e)=>new Ut({shape:()=>r,unknownKeys:"strip",catchall:rs.create(),typeName:we.ZodObject,...Pe(e)});Ut.strictCreate=(r,e)=>new Ut({shape:()=>r,unknownKeys:"strict",catchall:rs.create(),typeName:we.ZodObject,...Pe(e)});Ut.lazycreate=(r,e)=>new Ut({shape:r,unknownKeys:"strip",catchall:rs.create(),typeName:we.ZodObject,...Pe(e)});class Xc extends He{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;function o(a){for(const h of a)if(h.result.status==="valid")return h.result;for(const h of a)if(h.result.status==="dirty")return t.common.issues.push(...h.ctx.common.issues),h.result;const c=a.map(h=>new sr(h.ctx.common.issues));return ce(t,{code:oe.invalid_union,unionErrors:c}),Me}if(t.common.async)return Promise.all(n.map(async a=>{const c={...t,common:{...t.common,issues:[]},parent:null};return{result:await a._parseAsync({data:t.data,path:t.path,parent:c}),ctx:c}})).then(o);{let a;const c=[];for(const y of n){const g={...t,common:{...t.common,issues:[]},parent:null},v=y._parseSync({data:t.data,path:t.path,parent:g});if(v.status==="valid")return v;v.status==="dirty"&&!a&&(a={result:v,ctx:g}),g.common.issues.length&&c.push(g.common.issues)}if(a)return t.common.issues.push(...a.ctx.common.issues),a.result;const h=c.map(y=>new sr(y));return ce(t,{code:oe.invalid_union,unionErrors:h}),Me}}get options(){return this._def.options}}Xc.create=(r,e)=>new Xc({options:r,typeName:we.ZodUnion,...Pe(e)});function nm(r,e){const t=Xr(r),n=Xr(e);if(r===e)return{valid:!0,data:r};if(t===ge.object&&n===ge.object){const o=We.objectKeys(e),a=We.objectKeys(r).filter(h=>o.indexOf(h)!==-1),c={...r,...e};for(const h of a){const y=nm(r[h],e[h]);if(!y.valid)return{valid:!1};c[h]=y.data}return{valid:!0,data:c}}else if(t===ge.array&&n===ge.array){if(r.length!==e.length)return{valid:!1};const o=[];for(let a=0;a<r.length;a++){const c=r[a],h=e[a],y=nm(c,h);if(!y.valid)return{valid:!1};o.push(y.data)}return{valid:!0,data:o}}else return t===ge.date&&n===ge.date&&+r==+e?{valid:!0,data:r}:{valid:!1}}class Wc extends He{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),o=(a,c)=>{if(sv(a)||sv(c))return Me;const h=nm(a.value,c.value);return h.valid?((ov(a)||ov(c))&&t.dirty(),{status:t.value,value:h.data}):(ce(n,{code:oe.invalid_intersection_types}),Me)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,c])=>o(a,c)):o(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Wc.create=(r,e,t)=>new Wc({left:r,right:e,typeName:we.ZodIntersection,...Pe(t)});class Xs extends He{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ge.array)return ce(n,{code:oe.invalid_type,expected:ge.array,received:n.parsedType}),Me;if(n.data.length<this._def.items.length)return ce(n,{code:oe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Me;!this._def.rest&&n.data.length>this._def.items.length&&(ce(n,{code:oe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const a=[...n.data].map((c,h)=>{const y=this._def.items[h]||this._def.rest;return y?y._parse(new Mi(n,c,n.path,h)):null}).filter(c=>!!c);return n.common.async?Promise.all(a).then(c=>vn.mergeArray(t,c)):vn.mergeArray(t,a)}get items(){return this._def.items}rest(e){return new Xs({...this._def,rest:e})}}Xs.create=(r,e)=>{if(!Array.isArray(r))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Xs({items:r,typeName:we.ZodTuple,rest:null,...Pe(e)})};class jc extends He{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ge.object)return ce(n,{code:oe.invalid_type,expected:ge.object,received:n.parsedType}),Me;const o=[],a=this._def.keyType,c=this._def.valueType;for(const h in n.data)o.push({key:a._parse(new Mi(n,h,n.path,h)),value:c._parse(new Mi(n,n.data[h],n.path,h)),alwaysSet:h in n.data});return n.common.async?vn.mergeObjectAsync(t,o):vn.mergeObjectSync(t,o)}get element(){return this._def.valueType}static create(e,t,n){return t instanceof He?new jc({keyType:e,valueType:t,typeName:we.ZodRecord,...Pe(n)}):new jc({keyType:Ri.create(),valueType:e,typeName:we.ZodRecord,...Pe(t)})}}class hv extends He{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ge.map)return ce(n,{code:oe.invalid_type,expected:ge.map,received:n.parsedType}),Me;const o=this._def.keyType,a=this._def.valueType,c=[...n.data.entries()].map(([h,y],g)=>({key:o._parse(new Mi(n,h,n.path,[g,"key"])),value:a._parse(new Mi(n,y,n.path,[g,"value"]))}));if(n.common.async){const h=new Map;return Promise.resolve().then(async()=>{for(const y of c){const g=await y.key,v=await y.value;if(g.status==="aborted"||v.status==="aborted")return Me;(g.status==="dirty"||v.status==="dirty")&&t.dirty(),h.set(g.value,v.value)}return{status:t.value,value:h}})}else{const h=new Map;for(const y of c){const g=y.key,v=y.value;if(g.status==="aborted"||v.status==="aborted")return Me;(g.status==="dirty"||v.status==="dirty")&&t.dirty(),h.set(g.value,v.value)}return{status:t.value,value:h}}}}hv.create=(r,e,t)=>new hv({valueType:e,keyType:r,typeName:we.ZodMap,...Pe(t)});class Bl extends He{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==ge.set)return ce(n,{code:oe.invalid_type,expected:ge.set,received:n.parsedType}),Me;const o=this._def;o.minSize!==null&&n.data.size<o.minSize.value&&(ce(n,{code:oe.too_small,minimum:o.minSize.value,type:"set",inclusive:!0,exact:!1,message:o.minSize.message}),t.dirty()),o.maxSize!==null&&n.data.size>o.maxSize.value&&(ce(n,{code:oe.too_big,maximum:o.maxSize.value,type:"set",inclusive:!0,exact:!1,message:o.maxSize.message}),t.dirty());const a=this._def.valueType;function c(y){const g=new Set;for(const v of y){if(v.status==="aborted")return Me;v.status==="dirty"&&t.dirty(),g.add(v.value)}return{status:t.value,value:g}}const h=[...n.data.values()].map((y,g)=>a._parse(new Mi(n,y,n.path,g)));return n.common.async?Promise.all(h).then(y=>c(y)):c(h)}min(e,t){return new Bl({...this._def,minSize:{value:e,message:ve.toString(t)}})}max(e,t){return new Bl({...this._def,maxSize:{value:e,message:ve.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Bl.create=(r,e)=>new Bl({valueType:r,minSize:null,maxSize:null,typeName:we.ZodSet,...Pe(e)});class im extends He{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}im.create=(r,e)=>new im({getter:r,typeName:we.ZodLazy,...Pe(e)});class mv extends He{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return ce(t,{received:t.data,code:oe.invalid_literal,expected:this._def.value}),Me}return{status:"valid",value:e.data}}get value(){return this._def.value}}mv.create=(r,e)=>new mv({value:r,typeName:we.ZodLiteral,...Pe(e)});function BE(r,e){return new ra({values:r,typeName:we.ZodEnum,...Pe(e)})}class ra extends He{_parse(e){if(typeof e.data!="string"){const t=this._getOrReturnCtx(e),n=this._def.values;return ce(t,{expected:We.joinValues(n),received:t.parsedType,code:oe.invalid_type}),Me}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return ce(t,{received:t.data,code:oe.invalid_enum_value,options:n}),Me}return jn(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return ra.create(e,{...this._def,...t})}exclude(e,t=this._def){return ra.create(this.options.filter(n=>!e.includes(n)),{...this._def,...t})}}ra.create=BE;class pv extends He{_parse(e){const t=We.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==ge.string&&n.parsedType!==ge.number){const o=We.objectValues(t);return ce(n,{expected:We.joinValues(o),received:n.parsedType,code:oe.invalid_type}),Me}if(this._cache||(this._cache=new Set(We.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const o=We.objectValues(t);return ce(n,{received:n.data,code:oe.invalid_enum_value,options:o}),Me}return jn(e.data)}get enum(){return this._def.values}}pv.create=(r,e)=>new pv({values:r,typeName:we.ZodNativeEnum,...Pe(e)});class ef extends He{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==ge.promise&&t.common.async===!1)return ce(t,{code:oe.invalid_type,expected:ge.promise,received:t.parsedType}),Me;const n=t.parsedType===ge.promise?t.data:Promise.resolve(t.data);return jn(n.then(o=>this._def.type.parseAsync(o,{path:t.path,errorMap:t.common.contextualErrorMap})))}}ef.create=(r,e)=>new ef({type:r,typeName:we.ZodPromise,...Pe(e)});class sa extends He{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===we.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),o=this._def.effect||null,a={addIssue:c=>{ce(n,c),c.fatal?t.abort():t.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),o.type==="preprocess"){const c=o.transform(n.data,a);if(n.common.async)return Promise.resolve(c).then(async h=>{if(t.value==="aborted")return Me;const y=await this._def.schema._parseAsync({data:h,path:n.path,parent:n});return y.status==="aborted"?Me:y.status==="dirty"||t.value==="dirty"?wl(y.value):y});{if(t.value==="aborted")return Me;const h=this._def.schema._parseSync({data:c,path:n.path,parent:n});return h.status==="aborted"?Me:h.status==="dirty"||t.value==="dirty"?wl(h.value):h}}if(o.type==="refinement"){const c=h=>{const y=o.refinement(h,a);if(n.common.async)return Promise.resolve(y);if(y instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return h};if(n.common.async===!1){const h=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return h.status==="aborted"?Me:(h.status==="dirty"&&t.dirty(),c(h.value),{status:t.value,value:h.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(h=>h.status==="aborted"?Me:(h.status==="dirty"&&t.dirty(),c(h.value).then(()=>({status:t.value,value:h.value}))))}if(o.type==="transform")if(n.common.async===!1){const c=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!na(c))return Me;const h=o.transform(c.value,a);if(h instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:h}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(c=>na(c)?Promise.resolve(o.transform(c.value,a)).then(h=>({status:t.value,value:h})):Me);We.assertNever(o)}}sa.create=(r,e,t)=>new sa({schema:r,typeName:we.ZodEffects,effect:e,...Pe(t)});sa.createWithPreprocess=(r,e,t)=>new sa({schema:e,effect:{type:"preprocess",transform:r},typeName:we.ZodEffects,...Pe(t)});class jr extends He{_parse(e){return this._getType(e)===ge.undefined?jn(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}jr.create=(r,e)=>new jr({innerType:r,typeName:we.ZodOptional,...Pe(e)});class oa extends He{_parse(e){return this._getType(e)===ge.null?jn(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}oa.create=(r,e)=>new oa({innerType:r,typeName:we.ZodNullable,...Pe(e)});class rm extends He{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===ge.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}rm.create=(r,e)=>new rm({innerType:r,typeName:we.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Pe(e)});class sm extends He{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},o=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Jc(o)?o.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new sr(n.common.issues)},input:n.data})})):{status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new sr(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}sm.create=(r,e)=>new sm({innerType:r,typeName:we.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Pe(e)});class gv extends He{_parse(e){if(this._getType(e)!==ge.nan){const n=this._getOrReturnCtx(e);return ce(n,{code:oe.invalid_type,expected:ge.nan,received:n.parsedType}),Me}return{status:"valid",value:e.data}}}gv.create=r=>new gv({typeName:we.ZodNaN,...Pe(r)});class iR extends He{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class zm extends He{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Me:a.status==="dirty"?(t.dirty(),wl(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const o=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return o.status==="aborted"?Me:o.status==="dirty"?(t.dirty(),{status:"dirty",value:o.value}):this._def.out._parseSync({data:o.value,path:n.path,parent:n})}}static create(e,t){return new zm({in:e,out:t,typeName:we.ZodPipeline})}}class om extends He{_parse(e){const t=this._def.innerType._parse(e),n=o=>(na(o)&&(o.value=Object.freeze(o.value)),o);return Jc(t)?t.then(o=>n(o)):n(t)}unwrap(){return this._def.innerType}}om.create=(r,e)=>new om({innerType:r,typeName:we.ZodReadonly,...Pe(e)});var we;(function(r){r.ZodString="ZodString",r.ZodNumber="ZodNumber",r.ZodNaN="ZodNaN",r.ZodBigInt="ZodBigInt",r.ZodBoolean="ZodBoolean",r.ZodDate="ZodDate",r.ZodSymbol="ZodSymbol",r.ZodUndefined="ZodUndefined",r.ZodNull="ZodNull",r.ZodAny="ZodAny",r.ZodUnknown="ZodUnknown",r.ZodNever="ZodNever",r.ZodVoid="ZodVoid",r.ZodArray="ZodArray",r.ZodObject="ZodObject",r.ZodUnion="ZodUnion",r.ZodDiscriminatedUnion="ZodDiscriminatedUnion",r.ZodIntersection="ZodIntersection",r.ZodTuple="ZodTuple",r.ZodRecord="ZodRecord",r.ZodMap="ZodMap",r.ZodSet="ZodSet",r.ZodFunction="ZodFunction",r.ZodLazy="ZodLazy",r.ZodLiteral="ZodLiteral",r.ZodEnum="ZodEnum",r.ZodEffects="ZodEffects",r.ZodNativeEnum="ZodNativeEnum",r.ZodOptional="ZodOptional",r.ZodNullable="ZodNullable",r.ZodDefault="ZodDefault",r.ZodCatch="ZodCatch",r.ZodPromise="ZodPromise",r.ZodBranded="ZodBranded",r.ZodPipeline="ZodPipeline",r.ZodReadonly="ZodReadonly"})(we||(we={}));const Hs=Ri.create,yv=Js.create;Zs.create;const rR=Zc.create;ia.create;const _v=tm.create;rs.create;const Il=xi.create,sR=Ut.create,oR=Xc.create;Wc.create;Xs.create;const aR=jc.create,lR=im.create,uR=ra.create;ef.create;jr.create;oa.create;const $o={string:(r=>Ri.create({...r,coerce:!0})),number:(r=>Js.create({...r,coerce:!0})),boolean:(r=>Zc.create({...r,coerce:!0})),bigint:(r=>Zs.create({...r,coerce:!0})),date:(r=>ia.create({...r,coerce:!0}))};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let cR,fR;function dR(){return{geminiUrl:cR,vertexUrl:fR}}function hR(r,e,t){var n,o,a;if(!(!((n=r.httpOptions)===null||n===void 0)&&n.baseUrl)){const c=dR();return r.vertexai?(o=c.vertexUrl)!==null&&o!==void 0?o:e:(a=c.geminiUrl)!==null&&a!==void 0?a:t}return r.httpOptions.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ga{}function Re(r,e){const t=/\{([^}]+)\}/g;return r.replace(t,(n,o)=>{if(Object.prototype.hasOwnProperty.call(e,o)){const a=e[o];return a!=null?String(a):""}else throw new Error(`Key '${o}' not found in valueMap.`)})}function d(r,e,t){for(let a=0;a<e.length-1;a++){const c=e[a];if(c.endsWith("[]")){const h=c.slice(0,-2);if(!(h in r))if(Array.isArray(t))r[h]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(r[h])){const y=r[h];if(Array.isArray(t))for(let g=0;g<y.length;g++){const v=y[g];d(v,e.slice(a+1),t[g])}else for(const g of y)d(g,e.slice(a+1),t)}return}else if(c.endsWith("[0]")){const h=c.slice(0,-3);h in r||(r[h]=[{}]);const y=r[h];d(y[0],e.slice(a+1),t);return}(!r[c]||typeof r[c]!="object")&&(r[c]={}),r=r[c]}const n=e[e.length-1],o=r[n];if(o!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===o)return;if(typeof o=="object"&&typeof t=="object"&&o!==null&&t!==null)Object.assign(o,t);else throw new Error(`Cannot set value for an existing key. Key: ${n}`)}else r[n]=t}function f(r,e){try{if(e.length===1&&e[0]==="_self")return r;for(let t=0;t<e.length;t++){if(typeof r!="object"||r===null)return;const n=e[t];if(n.endsWith("[]")){const o=n.slice(0,-2);if(o in r){const a=r[o];return Array.isArray(a)?a.map(c=>f(c,e.slice(t+1))):void 0}else return}else r=r[n]}return r}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var vv;(function(r){r.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",r.OUTCOME_OK="OUTCOME_OK",r.OUTCOME_FAILED="OUTCOME_FAILED",r.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(vv||(vv={}));var Tv;(function(r){r.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",r.PYTHON="PYTHON"})(Tv||(Tv={}));var Wn;(function(r){r.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",r.STRING="STRING",r.NUMBER="NUMBER",r.INTEGER="INTEGER",r.BOOLEAN="BOOLEAN",r.ARRAY="ARRAY",r.OBJECT="OBJECT",r.NULL="NULL"})(Wn||(Wn={}));var Ev;(function(r){r.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",r.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",r.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",r.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",r.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",r.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"})(Ev||(Ev={}));var Cv;(function(r){r.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",r.SEVERITY="SEVERITY",r.PROBABILITY="PROBABILITY"})(Cv||(Cv={}));var Av;(function(r){r.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",r.BLOCK_NONE="BLOCK_NONE",r.OFF="OFF"})(Av||(Av={}));var Sv;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.MODE_DYNAMIC="MODE_DYNAMIC"})(Sv||(Sv={}));var Rv;(function(r){r.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",r.NO_AUTH="NO_AUTH",r.API_KEY_AUTH="API_KEY_AUTH",r.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",r.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",r.OAUTH="OAUTH",r.OIDC_AUTH="OIDC_AUTH"})(Rv||(Rv={}));var xv;(function(r){r.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",r.STOP="STOP",r.MAX_TOKENS="MAX_TOKENS",r.SAFETY="SAFETY",r.RECITATION="RECITATION",r.LANGUAGE="LANGUAGE",r.OTHER="OTHER",r.BLOCKLIST="BLOCKLIST",r.PROHIBITED_CONTENT="PROHIBITED_CONTENT",r.SPII="SPII",r.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",r.IMAGE_SAFETY="IMAGE_SAFETY",r.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(xv||(xv={}));var wv;(function(r){r.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",r.NEGLIGIBLE="NEGLIGIBLE",r.LOW="LOW",r.MEDIUM="MEDIUM",r.HIGH="HIGH"})(wv||(wv={}));var Iv;(function(r){r.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",r.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",r.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",r.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",r.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Iv||(Iv={}));var Mv;(function(r){r.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",r.SAFETY="SAFETY",r.OTHER="OTHER",r.BLOCKLIST="BLOCKLIST",r.PROHIBITED_CONTENT="PROHIBITED_CONTENT"})(Mv||(Mv={}));var bv;(function(r){r.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",r.ON_DEMAND="ON_DEMAND",r.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(bv||(bv={}));var tf;(function(r){r.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",r.TEXT="TEXT",r.IMAGE="IMAGE",r.AUDIO="AUDIO"})(tf||(tf={}));var Dv;(function(r){r.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",r.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",r.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",r.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Dv||(Dv={}));var am;(function(r){r.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",r.JOB_STATE_QUEUED="JOB_STATE_QUEUED",r.JOB_STATE_PENDING="JOB_STATE_PENDING",r.JOB_STATE_RUNNING="JOB_STATE_RUNNING",r.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",r.JOB_STATE_FAILED="JOB_STATE_FAILED",r.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",r.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",r.JOB_STATE_PAUSED="JOB_STATE_PAUSED",r.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",r.JOB_STATE_UPDATING="JOB_STATE_UPDATING",r.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(am||(am={}));var Nv;(function(r){r.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",r.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",r.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",r.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",r.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",r.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",r.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Nv||(Nv={}));var Vv;(function(r){r.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",r.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",r.BALANCED="BALANCED",r.PRIORITIZE_COST="PRIORITIZE_COST"})(Vv||(Vv={}));var Pv;(function(r){r.UNSPECIFIED="UNSPECIFIED",r.BLOCKING="BLOCKING",r.NON_BLOCKING="NON_BLOCKING"})(Pv||(Pv={}));var Uv;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.MODE_DYNAMIC="MODE_DYNAMIC"})(Uv||(Uv={}));var Lv;(function(r){r.MODE_UNSPECIFIED="MODE_UNSPECIFIED",r.AUTO="AUTO",r.ANY="ANY",r.NONE="NONE"})(Lv||(Lv={}));var kv;(function(r){r.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",r.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",r.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"})(kv||(kv={}));var Ov;(function(r){r.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",r.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",r.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",r.BLOCK_NONE="BLOCK_NONE"})(Ov||(Ov={}));var Bv;(function(r){r.DONT_ALLOW="DONT_ALLOW",r.ALLOW_ADULT="ALLOW_ADULT",r.ALLOW_ALL="ALLOW_ALL"})(Bv||(Bv={}));var Fv;(function(r){r.auto="auto",r.en="en",r.ja="ja",r.ko="ko",r.hi="hi"})(Fv||(Fv={}));var zv;(function(r){r.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",r.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",r.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",r.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",r.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(zv||(zv={}));var qv;(function(r){r.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",r.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",r.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",r.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(qv||(qv={}));var Gv;(function(r){r.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",r.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",r.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",r.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Gv||(Gv={}));var Hv;(function(r){r.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",r.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",r.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",r.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",r.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",r.EDIT_MODE_STYLE="EDIT_MODE_STYLE",r.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",r.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Hv||(Hv={}));var Yv;(function(r){r.STATE_UNSPECIFIED="STATE_UNSPECIFIED",r.PROCESSING="PROCESSING",r.ACTIVE="ACTIVE",r.FAILED="FAILED"})(Yv||(Yv={}));var $v;(function(r){r.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",r.UPLOADED="UPLOADED",r.GENERATED="GENERATED"})($v||($v={}));var Kv;(function(r){r.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",r.TEXT="TEXT",r.IMAGE="IMAGE",r.VIDEO="VIDEO",r.AUDIO="AUDIO",r.DOCUMENT="DOCUMENT"})(Kv||(Kv={}));var Qv;(function(r){r.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",r.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",r.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Qv||(Qv={}));var Jv;(function(r){r.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",r.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",r.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Jv||(Jv={}));var Zv;(function(r){r.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",r.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",r.NO_INTERRUPTION="NO_INTERRUPTION"})(Zv||(Zv={}));var Xv;(function(r){r.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",r.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",r.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Xv||(Xv={}));var Wv;(function(r){r.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",r.SILENT="SILENT",r.WHEN_IDLE="WHEN_IDLE",r.INTERRUPT="INTERRUPT"})(Wv||(Wv={}));var jv;(function(r){r.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",r.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",r.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",r.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",r.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",r.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",r.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",r.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",r.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",r.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",r.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",r.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",r.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(jv||(jv={}));var Wo;(function(r){r.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",r.PLAY="PLAY",r.PAUSE="PAUSE",r.STOP="STOP",r.RESET_CONTEXT="RESET_CONTEXT"})(Wo||(Wo={}));class xl{get text(){var e,t,n,o,a,c,h,y;if(((o=(n=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||n===void 0?void 0:n.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",v=!1;const C=[];for(const S of(y=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[w,P]of Object.entries(S))w!=="text"&&w!=="thought"&&(P!==null||P!==void 0)&&C.push(w);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,g+=S.text}}return C.length>0&&console.warn(`there are non-text parts ${C} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?g:void 0}get data(){var e,t,n,o,a,c,h,y;if(((o=(n=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||n===void 0?void 0:n.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const v=[];for(const C of(y=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[S,w]of Object.entries(C))S!=="inlineData"&&(w!==null||w!==void 0)&&v.push(S);C.inlineData&&typeof C.inlineData.data=="string"&&(g+=atob(C.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var e,t,n,o,a,c,h,y;if(((o=(n=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||n===void 0?void 0:n.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(y=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var e,t,n,o,a,c,h,y,g;if(((o=(n=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||n===void 0?void 0:n.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(C=>C.executableCode).map(C=>C.executableCode).filter(C=>C!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var e,t,n,o,a,c,h,y,g;if(((o=(n=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||n===void 0?void 0:n.parts)===null||o===void 0?void 0:o.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(h=(c=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(C=>C.codeExecutionResult).map(C=>C.codeExecutionResult).filter(C=>C!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.output}}class eT{}class tT{}class mR{}class pR{}class nT{}class iT{}class rT{}class gR{}class sT{}class oT{}class aT{}class yR{}class lm{constructor(e){const t={};for(const n of e.headers.entries())t[n[0]]=n[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class _R{}class vR{}class TR{get text(){var e,t,n;let o="",a=!1;const c=[];for(const h of(n=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&n!==void 0?n:[]){for(const[y,g]of Object.entries(h))y!=="text"&&y!=="thought"&&g!==null&&c.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;a=!0,o+=h.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?o:void 0}get data(){var e,t,n;let o="";const a=[];for(const c of(n=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&n!==void 0?n:[]){for(const[h,y]of Object.entries(c))h!=="inlineData"&&y!==null&&a.push(h);c.inlineData&&typeof c.inlineData.data=="string"&&(o+=atob(c.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),o.length>0?btoa(o):void 0}}class ER{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ct(r,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(r.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function FE(r,e){const t=ct(r,e);return t?t.startsWith("publishers/")&&r.isVertexAI()?`projects/${r.getProject()}/locations/${r.getLocation()}/${t}`:t.startsWith("models/")&&r.isVertexAI()?`projects/${r.getProject()}/locations/${r.getLocation()}/publishers/google/${t}`:t:""}function zE(r,e){return Array.isArray(e)?e.map(t=>nf(r,t)):[nf(r,e)]}function nf(r,e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function CR(r,e){const t=nf(r,e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function AR(r,e){const t=nf(r,e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function lT(r,e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function qE(r,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>lT(r,t)):[lT(r,e)]}function um(r){return r!=null&&typeof r=="object"&&"parts"in r&&Array.isArray(r.parts)}function uT(r){return r!=null&&typeof r=="object"&&"functionCall"in r}function cT(r){return r!=null&&typeof r=="object"&&"functionResponse"in r}function _n(r,e){if(e==null)throw new Error("ContentUnion is required");return um(e)?e:{role:"user",parts:qE(r,e)}}function GE(r,e){if(!e)return[];if(r.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const n=_n(r,t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]});if(r.isVertexAI()){const t=_n(r,e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>_n(r,t)):[_n(r,e)]}function ai(r,e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(uT(e)||cT(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[_n(r,e)]}const t=[],n=[],o=um(e[0]);for(const a of e){const c=um(a);if(c!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)t.push(a);else{if(uT(a)||cT(a))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(a)}}return o||t.push({role:"user",parts:qE(r,n)}),t}const SR=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),fT=uR(["string","number","integer","object","array","boolean","null"]),RR=oR([fT,Il(fT)]);function xR(r=!0){const e=lR(()=>{const t=sR({type:RR.optional(),format:Hs().optional(),title:Hs().optional(),description:Hs().optional(),default:_v().optional(),items:e.optional(),minItems:$o.string().optional(),maxItems:$o.string().optional(),enum:Il(_v()).optional(),properties:aR(Hs(),e).optional(),required:Il(Hs()).optional(),minProperties:$o.string().optional(),maxProperties:$o.string().optional(),propertyOrdering:Il(Hs()).optional(),minimum:yv().optional(),maximum:yv().optional(),minLength:$o.string().optional(),maxLength:$o.string().optional(),pattern:Hs().optional(),anyOf:Il(e).optional(),additionalProperties:rR().optional()});return r?t.strict():t});return e}function wR(r,e){r.includes("null")&&(e.nullable=!0);const t=r.filter(n=>n!=="null");if(t.length===1)e.type=Object.keys(Wn).includes(t[0].toUpperCase())?Wn[t[0].toUpperCase()]:Wn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const n of t)e.anyOf.push({type:Object.keys(Wn).includes(n.toUpperCase())?Wn[n.toUpperCase()]:Wn.TYPE_UNSPECIFIED})}}function jo(r){const e={},t=["items"],n=["anyOf"],o=["properties"];if(r.type&&r.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=r.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,r=a[1]):a[1].type==="null"&&(e.nullable=!0,r=a[0])),r.type instanceof Array&&wR(r.type,e);for(const[c,h]of Object.entries(r))if(h!=null)if(c=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.keys(Wn).includes(h.toUpperCase())?h.toUpperCase():Wn.TYPE_UNSPECIFIED}else if(t.includes(c))e[c]=jo(h);else if(n.includes(c)){const y=[];for(const g of h){if(g.type=="null"){e.nullable=!0;continue}y.push(jo(g))}e[c]=y}else if(o.includes(c)){const y={};for(const[g,v]of Object.entries(h))y[g]=jo(v);e[c]=y}else{if(c==="additionalProperties")continue;e[c]=h}return e}function rf(r,e){if(Object.keys(e).includes("$schema")){delete e.$schema;const t=xR().parse(e);return jo(t)}else return jo(e)}function HE(r,e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function qm(r,e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function Zl(r,e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(t.parameters=rf(r,t.parameters)),t.response&&(t.response=rf(r,t.response));return e}function Xl(r,e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function IR(r,e,t,n=1){const o=!e.startsWith(`${t}/`)&&e.split("/").length===n;return r.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${r.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${r.getProject()}/locations/${r.getLocation()}/${e}`:o?`projects/${r.getProject()}/locations/${r.getLocation()}/${t}/${e}`:e:o?`${t}/${e}`:e}function cs(r,e){if(typeof e!="string")throw new Error("name must be a string");return IR(r,e,"cachedContents")}function YE(r,e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function fs(r,e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}function MR(r){return r!=null&&typeof r=="object"&&"name"in r}function bR(r){return r!=null&&typeof r=="object"&&"video"in r}function DR(r){return r!=null&&typeof r=="object"&&"uri"in r}function $E(r,e){var t;let n;if(MR(e)&&(n=e.name),!(DR(e)&&(n=e.uri,n===void 0))&&!(bR(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const a=n.split("files/")[1].match(/[a-z0-9]+/);if(a===null)throw new Error(`Could not extract file name from URI ${n}`);n=a[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function KE(r,e){let t;return r.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function QE(r,e){for(const t of["models","tunedModels","publisherModels"])if(NR(e,t))return e[t];return[]}function NR(r,e){return r!==null&&typeof r=="object"&&e in r}function VR(r,e={}){const t=r,n={name:t.name,description:t.description,parameters:jo(pf(t.inputSchema))};return e.behavior&&(n.behavior=e.behavior),{functionDeclarations:[n]}}function PR(r,e={}){const t=[],n=new Set;for(const o of r){const a=o.name;if(n.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);n.add(a);const c=VR(o,e);c.functionDeclarations&&t.push(...c.functionDeclarations)}return{functionDeclarations:t}}function UR(r){const e=[];for(const t of r)e.push(pf(t));return e}function LR(r){const e={};for(const[t,n]of Object.entries(r)){const o=n;e[t]=pf(o)}return e}function pf(r){const e=new Set(["items"]),t=new Set(["anyOf"]),n=new Set(["properties"]),o={};for(const[a,c]of Object.entries(r))if(e.has(a))o[a]=pf(c);else if(t.has(a))o[a]=UR(c);else if(n.has(a))o[a]=LR(c);else if(a==="type"){const h=c.toUpperCase();o[a]=Object.keys(Wn).includes(h)?h:Wn.TYPE_UNSPECIFIED}else SR.has(a)&&(o[a]=c);return o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kR(r,e){const t={},n=f(e,["fps"]);n!=null&&d(t,["fps"],n);const o=f(e,["endOffset"]);o!=null&&d(t,["endOffset"],o);const a=f(e,["startOffset"]);return a!=null&&d(t,["startOffset"],a),t}function OR(r,e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["data"]);n!=null&&d(t,["data"],n);const o=f(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function BR(r,e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["fileUri"]);n!=null&&d(t,["fileUri"],n);const o=f(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function FR(r,e){const t={},n=f(e,["videoMetadata"]);n!=null&&d(t,["videoMetadata"],kR(r,n));const o=f(e,["thought"]);o!=null&&d(t,["thought"],o);const a=f(e,["inlineData"]);a!=null&&d(t,["inlineData"],OR(r,a));const c=f(e,["fileData"]);c!=null&&d(t,["fileData"],BR(r,c));const h=f(e,["thoughtSignature"]);h!=null&&d(t,["thoughtSignature"],h);const y=f(e,["codeExecutionResult"]);y!=null&&d(t,["codeExecutionResult"],y);const g=f(e,["executableCode"]);g!=null&&d(t,["executableCode"],g);const v=f(e,["functionCall"]);v!=null&&d(t,["functionCall"],v);const C=f(e,["functionResponse"]);C!=null&&d(t,["functionResponse"],C);const S=f(e,["text"]);return S!=null&&d(t,["text"],S),t}function dT(r,e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>FR(r,c))),d(t,["parts"],a)}const o=f(e,["role"]);return o!=null&&d(t,["role"],o),t}function zR(r,e){const t={},n=f(e,["behavior"]);n!=null&&d(t,["behavior"],n);const o=f(e,["description"]);o!=null&&d(t,["description"],o);const a=f(e,["name"]);a!=null&&d(t,["name"],a);const c=f(e,["parameters"]);c!=null&&d(t,["parameters"],c);const h=f(e,["response"]);return h!=null&&d(t,["response"],h),t}function qR(r,e){const t={},n=f(e,["startTime"]);n!=null&&d(t,["startTime"],n);const o=f(e,["endTime"]);return o!=null&&d(t,["endTime"],o),t}function GR(r,e){const t={},n=f(e,["timeRangeFilter"]);return n!=null&&d(t,["timeRangeFilter"],qR(r,n)),t}function HR(r,e){const t={},n=f(e,["mode"]);n!=null&&d(t,["mode"],n);const o=f(e,["dynamicThreshold"]);return o!=null&&d(t,["dynamicThreshold"],o),t}function YR(r,e){const t={},n=f(e,["dynamicRetrievalConfig"]);return n!=null&&d(t,["dynamicRetrievalConfig"],HR(r,n)),t}function $R(){return{}}function KR(r,e){const t={},n=f(e,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(g=>zR(r,g))),d(t,["functionDeclarations"],y)}if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=f(e,["googleSearch"]);o!=null&&d(t,["googleSearch"],GR(r,o));const a=f(e,["googleSearchRetrieval"]);if(a!=null&&d(t,["googleSearchRetrieval"],YR(r,a)),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");f(e,["urlContext"])!=null&&d(t,["urlContext"],$R());const h=f(e,["codeExecution"]);return h!=null&&d(t,["codeExecution"],h),t}function QR(r,e){const t={},n=f(e,["mode"]);n!=null&&d(t,["mode"],n);const o=f(e,["allowedFunctionNames"]);return o!=null&&d(t,["allowedFunctionNames"],o),t}function JR(r,e){const t={},n=f(e,["latitude"]);n!=null&&d(t,["latitude"],n);const o=f(e,["longitude"]);return o!=null&&d(t,["longitude"],o),t}function ZR(r,e){const t={},n=f(e,["latLng"]);n!=null&&d(t,["latLng"],JR(r,n));const o=f(e,["languageCode"]);return o!=null&&d(t,["languageCode"],o),t}function XR(r,e){const t={},n=f(e,["functionCallingConfig"]);n!=null&&d(t,["functionCallingConfig"],QR(r,n));const o=f(e,["retrievalConfig"]);return o!=null&&d(t,["retrievalConfig"],ZR(r,o)),t}function WR(r,e,t){const n={},o=f(e,["ttl"]);t!==void 0&&o!=null&&d(t,["ttl"],o);const a=f(e,["expireTime"]);t!==void 0&&a!=null&&d(t,["expireTime"],a);const c=f(e,["displayName"]);t!==void 0&&c!=null&&d(t,["displayName"],c);const h=f(e,["contents"]);if(t!==void 0&&h!=null){let C=ai(r,h);Array.isArray(C)&&(C=C.map(S=>dT(r,S))),d(t,["contents"],C)}const y=f(e,["systemInstruction"]);t!==void 0&&y!=null&&d(t,["systemInstruction"],dT(r,_n(r,y)));const g=f(e,["tools"]);if(t!==void 0&&g!=null){let C=g;Array.isArray(C)&&(C=C.map(S=>KR(r,S))),d(t,["tools"],C)}const v=f(e,["toolConfig"]);if(t!==void 0&&v!=null&&d(t,["toolConfig"],XR(r,v)),f(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function jR(r,e){const t={},n=f(e,["model"]);n!=null&&d(t,["model"],FE(r,n));const o=f(e,["config"]);return o!=null&&d(t,["config"],WR(r,o,t)),t}function ex(r,e){const t={},n=f(e,["name"]);n!=null&&d(t,["_url","name"],cs(r,n));const o=f(e,["config"]);return o!=null&&d(t,["config"],o),t}function tx(r,e){const t={},n=f(e,["name"]);n!=null&&d(t,["_url","name"],cs(r,n));const o=f(e,["config"]);return o!=null&&d(t,["config"],o),t}function nx(r,e,t){const n={},o=f(e,["ttl"]);t!==void 0&&o!=null&&d(t,["ttl"],o);const a=f(e,["expireTime"]);return t!==void 0&&a!=null&&d(t,["expireTime"],a),n}function ix(r,e){const t={},n=f(e,["name"]);n!=null&&d(t,["_url","name"],cs(r,n));const o=f(e,["config"]);return o!=null&&d(t,["config"],nx(r,o,t)),t}function rx(r,e,t){const n={},o=f(e,["pageSize"]);t!==void 0&&o!=null&&d(t,["_query","pageSize"],o);const a=f(e,["pageToken"]);return t!==void 0&&a!=null&&d(t,["_query","pageToken"],a),n}function sx(r,e){const t={},n=f(e,["config"]);return n!=null&&d(t,["config"],rx(r,n,t)),t}function ox(r,e){const t={},n=f(e,["fps"]);n!=null&&d(t,["fps"],n);const o=f(e,["endOffset"]);o!=null&&d(t,["endOffset"],o);const a=f(e,["startOffset"]);return a!=null&&d(t,["startOffset"],a),t}function ax(r,e){const t={},n=f(e,["displayName"]);n!=null&&d(t,["displayName"],n);const o=f(e,["data"]);o!=null&&d(t,["data"],o);const a=f(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function lx(r,e){const t={},n=f(e,["displayName"]);n!=null&&d(t,["displayName"],n);const o=f(e,["fileUri"]);o!=null&&d(t,["fileUri"],o);const a=f(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function ux(r,e){const t={},n=f(e,["videoMetadata"]);n!=null&&d(t,["videoMetadata"],ox(r,n));const o=f(e,["thought"]);o!=null&&d(t,["thought"],o);const a=f(e,["inlineData"]);a!=null&&d(t,["inlineData"],ax(r,a));const c=f(e,["fileData"]);c!=null&&d(t,["fileData"],lx(r,c));const h=f(e,["thoughtSignature"]);h!=null&&d(t,["thoughtSignature"],h);const y=f(e,["codeExecutionResult"]);y!=null&&d(t,["codeExecutionResult"],y);const g=f(e,["executableCode"]);g!=null&&d(t,["executableCode"],g);const v=f(e,["functionCall"]);v!=null&&d(t,["functionCall"],v);const C=f(e,["functionResponse"]);C!=null&&d(t,["functionResponse"],C);const S=f(e,["text"]);return S!=null&&d(t,["text"],S),t}function hT(r,e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>ux(r,c))),d(t,["parts"],a)}const o=f(e,["role"]);return o!=null&&d(t,["role"],o),t}function cx(r,e){const t={};if(f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(e,["description"]);n!=null&&d(t,["description"],n);const o=f(e,["name"]);o!=null&&d(t,["name"],o);const a=f(e,["parameters"]);a!=null&&d(t,["parameters"],a);const c=f(e,["response"]);return c!=null&&d(t,["response"],c),t}function fx(r,e){const t={},n=f(e,["startTime"]);n!=null&&d(t,["startTime"],n);const o=f(e,["endTime"]);return o!=null&&d(t,["endTime"],o),t}function dx(r,e){const t={},n=f(e,["timeRangeFilter"]);return n!=null&&d(t,["timeRangeFilter"],fx(r,n)),t}function hx(r,e){const t={},n=f(e,["mode"]);n!=null&&d(t,["mode"],n);const o=f(e,["dynamicThreshold"]);return o!=null&&d(t,["dynamicThreshold"],o),t}function mx(r,e){const t={},n=f(e,["dynamicRetrievalConfig"]);return n!=null&&d(t,["dynamicRetrievalConfig"],hx(r,n)),t}function px(){return{}}function gx(r,e){const t={},n=f(e,["apiKeyString"]);return n!=null&&d(t,["apiKeyString"],n),t}function yx(r,e){const t={},n=f(e,["apiKeyConfig"]);n!=null&&d(t,["apiKeyConfig"],gx(r,n));const o=f(e,["authType"]);o!=null&&d(t,["authType"],o);const a=f(e,["googleServiceAccountConfig"]);a!=null&&d(t,["googleServiceAccountConfig"],a);const c=f(e,["httpBasicAuthConfig"]);c!=null&&d(t,["httpBasicAuthConfig"],c);const h=f(e,["oauthConfig"]);h!=null&&d(t,["oauthConfig"],h);const y=f(e,["oidcConfig"]);return y!=null&&d(t,["oidcConfig"],y),t}function _x(r,e){const t={},n=f(e,["authConfig"]);return n!=null&&d(t,["authConfig"],yx(r,n)),t}function vx(r,e){const t={},n=f(e,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(C=>cx(r,C))),d(t,["functionDeclarations"],v)}const o=f(e,["retrieval"]);o!=null&&d(t,["retrieval"],o);const a=f(e,["googleSearch"]);a!=null&&d(t,["googleSearch"],dx(r,a));const c=f(e,["googleSearchRetrieval"]);c!=null&&d(t,["googleSearchRetrieval"],mx(r,c)),f(e,["enterpriseWebSearch"])!=null&&d(t,["enterpriseWebSearch"],px());const y=f(e,["googleMaps"]);if(y!=null&&d(t,["googleMaps"],_x(r,y)),f(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const g=f(e,["codeExecution"]);return g!=null&&d(t,["codeExecution"],g),t}function Tx(r,e){const t={},n=f(e,["mode"]);n!=null&&d(t,["mode"],n);const o=f(e,["allowedFunctionNames"]);return o!=null&&d(t,["allowedFunctionNames"],o),t}function Ex(r,e){const t={},n=f(e,["latitude"]);n!=null&&d(t,["latitude"],n);const o=f(e,["longitude"]);return o!=null&&d(t,["longitude"],o),t}function Cx(r,e){const t={},n=f(e,["latLng"]);n!=null&&d(t,["latLng"],Ex(r,n));const o=f(e,["languageCode"]);return o!=null&&d(t,["languageCode"],o),t}function Ax(r,e){const t={},n=f(e,["functionCallingConfig"]);n!=null&&d(t,["functionCallingConfig"],Tx(r,n));const o=f(e,["retrievalConfig"]);return o!=null&&d(t,["retrievalConfig"],Cx(r,o)),t}function Sx(r,e,t){const n={},o=f(e,["ttl"]);t!==void 0&&o!=null&&d(t,["ttl"],o);const a=f(e,["expireTime"]);t!==void 0&&a!=null&&d(t,["expireTime"],a);const c=f(e,["displayName"]);t!==void 0&&c!=null&&d(t,["displayName"],c);const h=f(e,["contents"]);if(t!==void 0&&h!=null){let S=ai(r,h);Array.isArray(S)&&(S=S.map(w=>hT(r,w))),d(t,["contents"],S)}const y=f(e,["systemInstruction"]);t!==void 0&&y!=null&&d(t,["systemInstruction"],hT(r,_n(r,y)));const g=f(e,["tools"]);if(t!==void 0&&g!=null){let S=g;Array.isArray(S)&&(S=S.map(w=>vx(r,w))),d(t,["tools"],S)}const v=f(e,["toolConfig"]);t!==void 0&&v!=null&&d(t,["toolConfig"],Ax(r,v));const C=f(e,["kmsKeyName"]);return t!==void 0&&C!=null&&d(t,["encryption_spec","kmsKeyName"],C),n}function Rx(r,e){const t={},n=f(e,["model"]);n!=null&&d(t,["model"],FE(r,n));const o=f(e,["config"]);return o!=null&&d(t,["config"],Sx(r,o,t)),t}function xx(r,e){const t={},n=f(e,["name"]);n!=null&&d(t,["_url","name"],cs(r,n));const o=f(e,["config"]);return o!=null&&d(t,["config"],o),t}function wx(r,e){const t={},n=f(e,["name"]);n!=null&&d(t,["_url","name"],cs(r,n));const o=f(e,["config"]);return o!=null&&d(t,["config"],o),t}function Ix(r,e,t){const n={},o=f(e,["ttl"]);t!==void 0&&o!=null&&d(t,["ttl"],o);const a=f(e,["expireTime"]);return t!==void 0&&a!=null&&d(t,["expireTime"],a),n}function Mx(r,e){const t={},n=f(e,["name"]);n!=null&&d(t,["_url","name"],cs(r,n));const o=f(e,["config"]);return o!=null&&d(t,["config"],Ix(r,o,t)),t}function bx(r,e,t){const n={},o=f(e,["pageSize"]);t!==void 0&&o!=null&&d(t,["_query","pageSize"],o);const a=f(e,["pageToken"]);return t!==void 0&&a!=null&&d(t,["_query","pageToken"],a),n}function Dx(r,e){const t={},n=f(e,["config"]);return n!=null&&d(t,["config"],bx(r,n,t)),t}function Bc(r,e){const t={},n=f(e,["name"]);n!=null&&d(t,["name"],n);const o=f(e,["displayName"]);o!=null&&d(t,["displayName"],o);const a=f(e,["model"]);a!=null&&d(t,["model"],a);const c=f(e,["createTime"]);c!=null&&d(t,["createTime"],c);const h=f(e,["updateTime"]);h!=null&&d(t,["updateTime"],h);const y=f(e,["expireTime"]);y!=null&&d(t,["expireTime"],y);const g=f(e,["usageMetadata"]);return g!=null&&d(t,["usageMetadata"],g),t}function Nx(){return{}}function Vx(r,e){const t={},n=f(e,["nextPageToken"]);n!=null&&d(t,["nextPageToken"],n);const o=f(e,["cachedContents"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>Bc(r,c))),d(t,["cachedContents"],a)}return t}function Fc(r,e){const t={},n=f(e,["name"]);n!=null&&d(t,["name"],n);const o=f(e,["displayName"]);o!=null&&d(t,["displayName"],o);const a=f(e,["model"]);a!=null&&d(t,["model"],a);const c=f(e,["createTime"]);c!=null&&d(t,["createTime"],c);const h=f(e,["updateTime"]);h!=null&&d(t,["updateTime"],h);const y=f(e,["expireTime"]);y!=null&&d(t,["expireTime"],y);const g=f(e,["usageMetadata"]);return g!=null&&d(t,["usageMetadata"],g),t}function Px(){return{}}function Ux(r,e){const t={},n=f(e,["nextPageToken"]);n!=null&&d(t,["nextPageToken"],n);const o=f(e,["cachedContents"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>Fc(r,c))),d(t,["cachedContents"],a)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var aa;(function(r){r.PAGED_ITEM_BATCH_JOBS="batchJobs",r.PAGED_ITEM_MODELS="models",r.PAGED_ITEM_TUNING_JOBS="tuningJobs",r.PAGED_ITEM_FILES="files",r.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(aa||(aa={}));class gf{constructor(e,t,n,o){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,n,o)}init(e,t,n){var o,a;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let c={config:{}};n?typeof n=="object"?c=Object.assign({},n):c=n:c={config:{}},c.config&&(c.config.pageToken=t.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(a=(o=c.config)===null||o===void 0?void 0:o.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lx extends ga{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new gf(aa.PAGED_ITEM_CACHED_CONTENTS,n=>this.listInternal(n),await this.listInternal(t),t)}async create(e){var t,n,o,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=Rx(this.apiClient,e);return h=Re("cachedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(v=>v.json()),c.then(v=>Fc(this.apiClient,v))}else{const g=jR(this.apiClient,e);return h=Re("cachedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>Bc(this.apiClient,v))}}async get(e){var t,n,o,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=xx(this.apiClient,e);return h=Re("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(v=>v.json()),c.then(v=>Fc(this.apiClient,v))}else{const g=ex(this.apiClient,e);return h=Re("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>Bc(this.apiClient,v))}}async delete(e){var t,n,o,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=wx(this.apiClient,e);return h=Re("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(v=>v.json()),c.then(()=>{const v=Px(),C=new oT;return Object.assign(C,v),C})}else{const g=tx(this.apiClient,e);return h=Re("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(()=>{const v=Nx(),C=new oT;return Object.assign(C,v),C})}}async update(e){var t,n,o,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=Mx(this.apiClient,e);return h=Re("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(v=>v.json()),c.then(v=>Fc(this.apiClient,v))}else{const g=ix(this.apiClient,e);return h=Re("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>Bc(this.apiClient,v))}}async listInternal(e){var t,n,o,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=Dx(this.apiClient,e);return h=Re("cachedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(v=>v.json()),c.then(v=>{const C=Ux(this.apiClient,v),S=new aT;return Object.assign(S,C),S})}else{const g=sx(this.apiClient,e);return h=Re("cachedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>{const C=Vx(this.apiClient,v),S=new aT;return Object.assign(S,C),S})}}}function mT(r){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&r[e],n=0;if(t)return t.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function mt(r){return this instanceof mt?(this.v=r,this):new mt(r)}function ea(r,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(r,e||[]),o,a=[];return o=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",c),o[Symbol.asyncIterator]=function(){return this},o;function c(w){return function(P){return Promise.resolve(P).then(w,C)}}function h(w,P){n[w]&&(o[w]=function(q){return new Promise(function($,re){a.push([w,q,$,re])>1||y(w,q)})},P&&(o[w]=P(o[w])))}function y(w,P){try{g(n[w](P))}catch(q){S(a[0][3],q)}}function g(w){w.value instanceof mt?Promise.resolve(w.value.v).then(v,C):S(a[0][2],w)}function v(w){y("next",w)}function C(w){y("throw",w)}function S(w,P){w(P),a.shift(),a.length&&y(a[0][0],a[0][1])}}function Vl(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=r[Symbol.asyncIterator],t;return e?e.call(r):(r=typeof mT=="function"?mT(r):r[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(a){t[a]=r[a]&&function(c){return new Promise(function(h,y){c=r[a](c),o(h,y,c.done,c.value)})}}function o(a,c,h,y){Promise.resolve(y).then(function(g){a({value:g,done:h})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kx(r){var e;if(r.candidates==null||r.candidates.length===0)return!1;const t=(e=r.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:JE(t)}function JE(r){if(r.parts===void 0||r.parts.length===0)return!1;for(const e of r.parts)if(e===void 0||Object.keys(e).length===0||!e.thought&&e.text!==void 0&&e.text==="")return!1;return!0}function Ox(r){if(r.length!==0){for(const e of r)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function pT(r){if(r===void 0||r.length===0)return[];const e=[],t=r.length;let n=0;for(;n<t;)if(r[n].role==="user")e.push(r[n]),n++;else{const o=[];let a=!0;for(;n<t&&r[n].role==="model";)o.push(r[n]),a&&!JE(r[n])&&(a=!1),n++;a?e.push(...o):e.pop()}return e}class Bx{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new Fx(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Fx{constructor(e,t,n,o={},a=[]){this.apiClient=e,this.modelsModule=t,this.model=n,this.config=o,this.history=a,this.sendPromise=Promise.resolve(),Ox(a)}async sendMessage(e){var t;await this.sendPromise;const n=_n(this.apiClient,e.message),o=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var a,c,h;const y=await o,g=(c=(a=y.candidates)===null||a===void 0?void 0:a[0])===null||c===void 0?void 0:c.content,v=y.automaticFunctionCallingHistory,C=this.getHistory(!0).length;let S=[];v!=null&&(S=(h=v.slice(C))!==null&&h!==void 0?h:[]);const w=g?[g]:[];this.recordHistory(n,w,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),o}async sendMessageStream(e){var t;await this.sendPromise;const n=_n(this.apiClient,e.message),o=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=o.then(()=>{}).catch(()=>{});const a=await o;return this.processStreamResponse(a,n)}getHistory(e=!1){const t=e?pT(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var n,o;return ea(this,arguments,function*(){var c,h,y,g;const v=[];try{for(var C=!0,S=Vl(e),w;w=yield mt(S.next()),c=w.done,!c;C=!0){g=w.value,C=!1;const P=g;if(kx(P)){const q=(o=(n=P.candidates)===null||n===void 0?void 0:n[0])===null||o===void 0?void 0:o.content;q!==void 0&&v.push(q)}yield yield mt(P)}}catch(P){h={error:P}}finally{try{!C&&!c&&(y=S.return)&&(yield mt(y.call(S)))}finally{if(h)throw h.error}}this.recordHistory(t,v)})}recordHistory(e,t,n){let o=[];t.length>0&&t.every(a=>a.role!==void 0)?o=t:o.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(...pT(n)):this.history.push(e),this.history.push(...o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zx(r,e,t){const n={},o=f(e,["pageSize"]);t!==void 0&&o!=null&&d(t,["_query","pageSize"],o);const a=f(e,["pageToken"]);return t!==void 0&&a!=null&&d(t,["_query","pageToken"],a),n}function qx(r,e){const t={},n=f(e,["config"]);return n!=null&&d(t,["config"],zx(r,n,t)),t}function Gx(r,e){const t={},n=f(e,["details"]);n!=null&&d(t,["details"],n);const o=f(e,["message"]);o!=null&&d(t,["message"],o);const a=f(e,["code"]);return a!=null&&d(t,["code"],a),t}function Hx(r,e){const t={},n=f(e,["name"]);n!=null&&d(t,["name"],n);const o=f(e,["displayName"]);o!=null&&d(t,["displayName"],o);const a=f(e,["mimeType"]);a!=null&&d(t,["mimeType"],a);const c=f(e,["sizeBytes"]);c!=null&&d(t,["sizeBytes"],c);const h=f(e,["createTime"]);h!=null&&d(t,["createTime"],h);const y=f(e,["expirationTime"]);y!=null&&d(t,["expirationTime"],y);const g=f(e,["updateTime"]);g!=null&&d(t,["updateTime"],g);const v=f(e,["sha256Hash"]);v!=null&&d(t,["sha256Hash"],v);const C=f(e,["uri"]);C!=null&&d(t,["uri"],C);const S=f(e,["downloadUri"]);S!=null&&d(t,["downloadUri"],S);const w=f(e,["state"]);w!=null&&d(t,["state"],w);const P=f(e,["source"]);P!=null&&d(t,["source"],P);const q=f(e,["videoMetadata"]);q!=null&&d(t,["videoMetadata"],q);const $=f(e,["error"]);return $!=null&&d(t,["error"],Gx(r,$)),t}function Yx(r,e){const t={},n=f(e,["file"]);n!=null&&d(t,["file"],Hx(r,n));const o=f(e,["config"]);return o!=null&&d(t,["config"],o),t}function $x(r,e){const t={},n=f(e,["name"]);n!=null&&d(t,["_url","file"],$E(r,n));const o=f(e,["config"]);return o!=null&&d(t,["config"],o),t}function Kx(r,e){const t={},n=f(e,["name"]);n!=null&&d(t,["_url","file"],$E(r,n));const o=f(e,["config"]);return o!=null&&d(t,["config"],o),t}function Qx(r,e){const t={},n=f(e,["details"]);n!=null&&d(t,["details"],n);const o=f(e,["message"]);o!=null&&d(t,["message"],o);const a=f(e,["code"]);return a!=null&&d(t,["code"],a),t}function cm(r,e){const t={},n=f(e,["name"]);n!=null&&d(t,["name"],n);const o=f(e,["displayName"]);o!=null&&d(t,["displayName"],o);const a=f(e,["mimeType"]);a!=null&&d(t,["mimeType"],a);const c=f(e,["sizeBytes"]);c!=null&&d(t,["sizeBytes"],c);const h=f(e,["createTime"]);h!=null&&d(t,["createTime"],h);const y=f(e,["expirationTime"]);y!=null&&d(t,["expirationTime"],y);const g=f(e,["updateTime"]);g!=null&&d(t,["updateTime"],g);const v=f(e,["sha256Hash"]);v!=null&&d(t,["sha256Hash"],v);const C=f(e,["uri"]);C!=null&&d(t,["uri"],C);const S=f(e,["downloadUri"]);S!=null&&d(t,["downloadUri"],S);const w=f(e,["state"]);w!=null&&d(t,["state"],w);const P=f(e,["source"]);P!=null&&d(t,["source"],P);const q=f(e,["videoMetadata"]);q!=null&&d(t,["videoMetadata"],q);const $=f(e,["error"]);return $!=null&&d(t,["error"],Qx(r,$)),t}function Jx(r,e){const t={},n=f(e,["nextPageToken"]);n!=null&&d(t,["nextPageToken"],n);const o=f(e,["files"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>cm(r,c))),d(t,["files"],a)}return t}function Zx(){return{}}function Xx(){return{}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wx extends ga{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new gf(aa.PAGED_ITEM_FILES,n=>this.listInternal(n),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>cm(this.apiClient,t))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,n;let o,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=qx(this.apiClient,e);return a=Re("files",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(y=>y.json()),o.then(y=>{const g=Jx(this.apiClient,y),v=new yR;return Object.assign(v,g),v})}}async createInternal(e){var t,n;let o,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Yx(this.apiClient,e);return a=Re("upload/v1beta/files",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(y=>y.json()),o.then(()=>{const y=Zx(),g=new _R;return Object.assign(g,y),g})}}async get(e){var t,n;let o,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=$x(this.apiClient,e);return a=Re("files/{file}",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(y=>y.json()),o.then(y=>cm(this.apiClient,y))}}async delete(e){var t,n;let o,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Kx(this.apiClient,e);return a=Re("files/{file}",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(y=>y.json()),o.then(()=>{const y=Xx(),g=new vR;return Object.assign(g,y),g})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function jx(r,e){const t={},n=f(e,["voiceName"]);return n!=null&&d(t,["voiceName"],n),t}function ew(r,e){const t={},n=f(e,["voiceName"]);return n!=null&&d(t,["voiceName"],n),t}function ZE(r,e){const t={},n=f(e,["prebuiltVoiceConfig"]);return n!=null&&d(t,["prebuiltVoiceConfig"],jx(r,n)),t}function tw(r,e){const t={},n=f(e,["prebuiltVoiceConfig"]);return n!=null&&d(t,["prebuiltVoiceConfig"],ew(r,n)),t}function nw(r,e){const t={},n=f(e,["speaker"]);n!=null&&d(t,["speaker"],n);const o=f(e,["voiceConfig"]);return o!=null&&d(t,["voiceConfig"],ZE(r,o)),t}function iw(r,e){const t={},n=f(e,["speakerVoiceConfigs"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>nw(r,a))),d(t,["speakerVoiceConfigs"],o)}return t}function rw(r,e){const t={},n=f(e,["voiceConfig"]);n!=null&&d(t,["voiceConfig"],ZE(r,n));const o=f(e,["multiSpeakerVoiceConfig"]);o!=null&&d(t,["multiSpeakerVoiceConfig"],iw(r,o));const a=f(e,["languageCode"]);return a!=null&&d(t,["languageCode"],a),t}function sw(r,e){const t={},n=f(e,["voiceConfig"]);if(n!=null&&d(t,["voiceConfig"],tw(r,n)),f(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=f(e,["languageCode"]);return o!=null&&d(t,["languageCode"],o),t}function ow(r,e){const t={},n=f(e,["fps"]);n!=null&&d(t,["fps"],n);const o=f(e,["endOffset"]);o!=null&&d(t,["endOffset"],o);const a=f(e,["startOffset"]);return a!=null&&d(t,["startOffset"],a),t}function aw(r,e){const t={},n=f(e,["fps"]);n!=null&&d(t,["fps"],n);const o=f(e,["endOffset"]);o!=null&&d(t,["endOffset"],o);const a=f(e,["startOffset"]);return a!=null&&d(t,["startOffset"],a),t}function lw(r,e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["data"]);n!=null&&d(t,["data"],n);const o=f(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function uw(r,e){const t={},n=f(e,["displayName"]);n!=null&&d(t,["displayName"],n);const o=f(e,["data"]);o!=null&&d(t,["data"],o);const a=f(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function cw(r,e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["fileUri"]);n!=null&&d(t,["fileUri"],n);const o=f(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function fw(r,e){const t={},n=f(e,["displayName"]);n!=null&&d(t,["displayName"],n);const o=f(e,["fileUri"]);o!=null&&d(t,["fileUri"],o);const a=f(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function dw(r,e){const t={},n=f(e,["videoMetadata"]);n!=null&&d(t,["videoMetadata"],ow(r,n));const o=f(e,["thought"]);o!=null&&d(t,["thought"],o);const a=f(e,["inlineData"]);a!=null&&d(t,["inlineData"],lw(r,a));const c=f(e,["fileData"]);c!=null&&d(t,["fileData"],cw(r,c));const h=f(e,["thoughtSignature"]);h!=null&&d(t,["thoughtSignature"],h);const y=f(e,["codeExecutionResult"]);y!=null&&d(t,["codeExecutionResult"],y);const g=f(e,["executableCode"]);g!=null&&d(t,["executableCode"],g);const v=f(e,["functionCall"]);v!=null&&d(t,["functionCall"],v);const C=f(e,["functionResponse"]);C!=null&&d(t,["functionResponse"],C);const S=f(e,["text"]);return S!=null&&d(t,["text"],S),t}function hw(r,e){const t={},n=f(e,["videoMetadata"]);n!=null&&d(t,["videoMetadata"],aw(r,n));const o=f(e,["thought"]);o!=null&&d(t,["thought"],o);const a=f(e,["inlineData"]);a!=null&&d(t,["inlineData"],uw(r,a));const c=f(e,["fileData"]);c!=null&&d(t,["fileData"],fw(r,c));const h=f(e,["thoughtSignature"]);h!=null&&d(t,["thoughtSignature"],h);const y=f(e,["codeExecutionResult"]);y!=null&&d(t,["codeExecutionResult"],y);const g=f(e,["executableCode"]);g!=null&&d(t,["executableCode"],g);const v=f(e,["functionCall"]);v!=null&&d(t,["functionCall"],v);const C=f(e,["functionResponse"]);C!=null&&d(t,["functionResponse"],C);const S=f(e,["text"]);return S!=null&&d(t,["text"],S),t}function mw(r,e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>dw(r,c))),d(t,["parts"],a)}const o=f(e,["role"]);return o!=null&&d(t,["role"],o),t}function pw(r,e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>hw(r,c))),d(t,["parts"],a)}const o=f(e,["role"]);return o!=null&&d(t,["role"],o),t}function gw(r,e){const t={},n=f(e,["behavior"]);n!=null&&d(t,["behavior"],n);const o=f(e,["description"]);o!=null&&d(t,["description"],o);const a=f(e,["name"]);a!=null&&d(t,["name"],a);const c=f(e,["parameters"]);c!=null&&d(t,["parameters"],c);const h=f(e,["response"]);return h!=null&&d(t,["response"],h),t}function yw(r,e){const t={};if(f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(e,["description"]);n!=null&&d(t,["description"],n);const o=f(e,["name"]);o!=null&&d(t,["name"],o);const a=f(e,["parameters"]);a!=null&&d(t,["parameters"],a);const c=f(e,["response"]);return c!=null&&d(t,["response"],c),t}function _w(r,e){const t={},n=f(e,["startTime"]);n!=null&&d(t,["startTime"],n);const o=f(e,["endTime"]);return o!=null&&d(t,["endTime"],o),t}function vw(r,e){const t={},n=f(e,["startTime"]);n!=null&&d(t,["startTime"],n);const o=f(e,["endTime"]);return o!=null&&d(t,["endTime"],o),t}function Tw(r,e){const t={},n=f(e,["timeRangeFilter"]);return n!=null&&d(t,["timeRangeFilter"],_w(r,n)),t}function Ew(r,e){const t={},n=f(e,["timeRangeFilter"]);return n!=null&&d(t,["timeRangeFilter"],vw(r,n)),t}function Cw(r,e){const t={},n=f(e,["mode"]);n!=null&&d(t,["mode"],n);const o=f(e,["dynamicThreshold"]);return o!=null&&d(t,["dynamicThreshold"],o),t}function Aw(r,e){const t={},n=f(e,["mode"]);n!=null&&d(t,["mode"],n);const o=f(e,["dynamicThreshold"]);return o!=null&&d(t,["dynamicThreshold"],o),t}function Sw(r,e){const t={},n=f(e,["dynamicRetrievalConfig"]);return n!=null&&d(t,["dynamicRetrievalConfig"],Cw(r,n)),t}function Rw(r,e){const t={},n=f(e,["dynamicRetrievalConfig"]);return n!=null&&d(t,["dynamicRetrievalConfig"],Aw(r,n)),t}function xw(){return{}}function ww(r,e){const t={},n=f(e,["apiKeyString"]);return n!=null&&d(t,["apiKeyString"],n),t}function Iw(r,e){const t={},n=f(e,["apiKeyConfig"]);n!=null&&d(t,["apiKeyConfig"],ww(r,n));const o=f(e,["authType"]);o!=null&&d(t,["authType"],o);const a=f(e,["googleServiceAccountConfig"]);a!=null&&d(t,["googleServiceAccountConfig"],a);const c=f(e,["httpBasicAuthConfig"]);c!=null&&d(t,["httpBasicAuthConfig"],c);const h=f(e,["oauthConfig"]);h!=null&&d(t,["oauthConfig"],h);const y=f(e,["oidcConfig"]);return y!=null&&d(t,["oidcConfig"],y),t}function Mw(r,e){const t={},n=f(e,["authConfig"]);return n!=null&&d(t,["authConfig"],Iw(r,n)),t}function bw(){return{}}function Dw(r,e){const t={},n=f(e,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(g=>gw(r,g))),d(t,["functionDeclarations"],y)}if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=f(e,["googleSearch"]);o!=null&&d(t,["googleSearch"],Tw(r,o));const a=f(e,["googleSearchRetrieval"]);if(a!=null&&d(t,["googleSearchRetrieval"],Sw(r,a)),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");f(e,["urlContext"])!=null&&d(t,["urlContext"],bw());const h=f(e,["codeExecution"]);return h!=null&&d(t,["codeExecution"],h),t}function Nw(r,e){const t={},n=f(e,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(C=>yw(r,C))),d(t,["functionDeclarations"],v)}const o=f(e,["retrieval"]);o!=null&&d(t,["retrieval"],o);const a=f(e,["googleSearch"]);a!=null&&d(t,["googleSearch"],Ew(r,a));const c=f(e,["googleSearchRetrieval"]);c!=null&&d(t,["googleSearchRetrieval"],Rw(r,c)),f(e,["enterpriseWebSearch"])!=null&&d(t,["enterpriseWebSearch"],xw());const y=f(e,["googleMaps"]);if(y!=null&&d(t,["googleMaps"],Mw(r,y)),f(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const g=f(e,["codeExecution"]);return g!=null&&d(t,["codeExecution"],g),t}function Vw(r,e){const t={},n=f(e,["handle"]);if(n!=null&&d(t,["handle"],n),f(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function Pw(r,e){const t={},n=f(e,["handle"]);n!=null&&d(t,["handle"],n);const o=f(e,["transparent"]);return o!=null&&d(t,["transparent"],o),t}function gT(){return{}}function yT(){return{}}function Uw(r,e){const t={},n=f(e,["disabled"]);n!=null&&d(t,["disabled"],n);const o=f(e,["startOfSpeechSensitivity"]);o!=null&&d(t,["startOfSpeechSensitivity"],o);const a=f(e,["endOfSpeechSensitivity"]);a!=null&&d(t,["endOfSpeechSensitivity"],a);const c=f(e,["prefixPaddingMs"]);c!=null&&d(t,["prefixPaddingMs"],c);const h=f(e,["silenceDurationMs"]);return h!=null&&d(t,["silenceDurationMs"],h),t}function Lw(r,e){const t={},n=f(e,["disabled"]);n!=null&&d(t,["disabled"],n);const o=f(e,["startOfSpeechSensitivity"]);o!=null&&d(t,["startOfSpeechSensitivity"],o);const a=f(e,["endOfSpeechSensitivity"]);a!=null&&d(t,["endOfSpeechSensitivity"],a);const c=f(e,["prefixPaddingMs"]);c!=null&&d(t,["prefixPaddingMs"],c);const h=f(e,["silenceDurationMs"]);return h!=null&&d(t,["silenceDurationMs"],h),t}function kw(r,e){const t={},n=f(e,["automaticActivityDetection"]);n!=null&&d(t,["automaticActivityDetection"],Uw(r,n));const o=f(e,["activityHandling"]);o!=null&&d(t,["activityHandling"],o);const a=f(e,["turnCoverage"]);return a!=null&&d(t,["turnCoverage"],a),t}function Ow(r,e){const t={},n=f(e,["automaticActivityDetection"]);n!=null&&d(t,["automaticActivityDetection"],Lw(r,n));const o=f(e,["activityHandling"]);o!=null&&d(t,["activityHandling"],o);const a=f(e,["turnCoverage"]);return a!=null&&d(t,["turnCoverage"],a),t}function Bw(r,e){const t={},n=f(e,["targetTokens"]);return n!=null&&d(t,["targetTokens"],n),t}function Fw(r,e){const t={},n=f(e,["targetTokens"]);return n!=null&&d(t,["targetTokens"],n),t}function zw(r,e){const t={},n=f(e,["triggerTokens"]);n!=null&&d(t,["triggerTokens"],n);const o=f(e,["slidingWindow"]);return o!=null&&d(t,["slidingWindow"],Bw(r,o)),t}function qw(r,e){const t={},n=f(e,["triggerTokens"]);n!=null&&d(t,["triggerTokens"],n);const o=f(e,["slidingWindow"]);return o!=null&&d(t,["slidingWindow"],Fw(r,o)),t}function Gw(r,e){const t={},n=f(e,["proactiveAudio"]);return n!=null&&d(t,["proactiveAudio"],n),t}function Hw(r,e){const t={},n=f(e,["proactiveAudio"]);return n!=null&&d(t,["proactiveAudio"],n),t}function Yw(r,e,t){const n={},o=f(e,["generationConfig"]);t!==void 0&&o!=null&&d(t,["setup","generationConfig"],o);const a=f(e,["responseModalities"]);t!==void 0&&a!=null&&d(t,["setup","generationConfig","responseModalities"],a);const c=f(e,["temperature"]);t!==void 0&&c!=null&&d(t,["setup","generationConfig","temperature"],c);const h=f(e,["topP"]);t!==void 0&&h!=null&&d(t,["setup","generationConfig","topP"],h);const y=f(e,["topK"]);t!==void 0&&y!=null&&d(t,["setup","generationConfig","topK"],y);const g=f(e,["maxOutputTokens"]);t!==void 0&&g!=null&&d(t,["setup","generationConfig","maxOutputTokens"],g);const v=f(e,["mediaResolution"]);t!==void 0&&v!=null&&d(t,["setup","generationConfig","mediaResolution"],v);const C=f(e,["seed"]);t!==void 0&&C!=null&&d(t,["setup","generationConfig","seed"],C);const S=f(e,["speechConfig"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","speechConfig"],rw(r,qm(r,S)));const w=f(e,["enableAffectiveDialog"]);t!==void 0&&w!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],w);const P=f(e,["systemInstruction"]);t!==void 0&&P!=null&&d(t,["setup","systemInstruction"],mw(r,_n(r,P)));const q=f(e,["tools"]);if(t!==void 0&&q!=null){let fe=Xl(r,q);Array.isArray(fe)&&(fe=fe.map(b=>Dw(r,Zl(r,b)))),d(t,["setup","tools"],fe)}const $=f(e,["sessionResumption"]);t!==void 0&&$!=null&&d(t,["setup","sessionResumption"],Vw(r,$));const re=f(e,["inputAudioTranscription"]);t!==void 0&&re!=null&&d(t,["setup","inputAudioTranscription"],gT());const ne=f(e,["outputAudioTranscription"]);t!==void 0&&ne!=null&&d(t,["setup","outputAudioTranscription"],gT());const ie=f(e,["realtimeInputConfig"]);t!==void 0&&ie!=null&&d(t,["setup","realtimeInputConfig"],kw(r,ie));const ue=f(e,["contextWindowCompression"]);t!==void 0&&ue!=null&&d(t,["setup","contextWindowCompression"],zw(r,ue));const _e=f(e,["proactivity"]);return t!==void 0&&_e!=null&&d(t,["setup","proactivity"],Gw(r,_e)),n}function $w(r,e,t){const n={},o=f(e,["generationConfig"]);t!==void 0&&o!=null&&d(t,["setup","generationConfig"],o);const a=f(e,["responseModalities"]);t!==void 0&&a!=null&&d(t,["setup","generationConfig","responseModalities"],a);const c=f(e,["temperature"]);t!==void 0&&c!=null&&d(t,["setup","generationConfig","temperature"],c);const h=f(e,["topP"]);t!==void 0&&h!=null&&d(t,["setup","generationConfig","topP"],h);const y=f(e,["topK"]);t!==void 0&&y!=null&&d(t,["setup","generationConfig","topK"],y);const g=f(e,["maxOutputTokens"]);t!==void 0&&g!=null&&d(t,["setup","generationConfig","maxOutputTokens"],g);const v=f(e,["mediaResolution"]);t!==void 0&&v!=null&&d(t,["setup","generationConfig","mediaResolution"],v);const C=f(e,["seed"]);t!==void 0&&C!=null&&d(t,["setup","generationConfig","seed"],C);const S=f(e,["speechConfig"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","speechConfig"],sw(r,qm(r,S)));const w=f(e,["enableAffectiveDialog"]);t!==void 0&&w!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],w);const P=f(e,["systemInstruction"]);t!==void 0&&P!=null&&d(t,["setup","systemInstruction"],pw(r,_n(r,P)));const q=f(e,["tools"]);if(t!==void 0&&q!=null){let fe=Xl(r,q);Array.isArray(fe)&&(fe=fe.map(b=>Nw(r,Zl(r,b)))),d(t,["setup","tools"],fe)}const $=f(e,["sessionResumption"]);t!==void 0&&$!=null&&d(t,["setup","sessionResumption"],Pw(r,$));const re=f(e,["inputAudioTranscription"]);t!==void 0&&re!=null&&d(t,["setup","inputAudioTranscription"],yT());const ne=f(e,["outputAudioTranscription"]);t!==void 0&&ne!=null&&d(t,["setup","outputAudioTranscription"],yT());const ie=f(e,["realtimeInputConfig"]);t!==void 0&&ie!=null&&d(t,["setup","realtimeInputConfig"],Ow(r,ie));const ue=f(e,["contextWindowCompression"]);t!==void 0&&ue!=null&&d(t,["setup","contextWindowCompression"],qw(r,ue));const _e=f(e,["proactivity"]);return t!==void 0&&_e!=null&&d(t,["setup","proactivity"],Hw(r,_e)),n}function Kw(r,e){const t={},n=f(e,["model"]);n!=null&&d(t,["setup","model"],ct(r,n));const o=f(e,["config"]);return o!=null&&d(t,["config"],Yw(r,o,t)),t}function Qw(r,e){const t={},n=f(e,["model"]);n!=null&&d(t,["setup","model"],ct(r,n));const o=f(e,["config"]);return o!=null&&d(t,["config"],$w(r,o,t)),t}function Jw(){return{}}function Zw(){return{}}function Xw(){return{}}function Ww(){return{}}function jw(r,e){const t={},n=f(e,["media"]);n!=null&&d(t,["mediaChunks"],zE(r,n));const o=f(e,["audio"]);o!=null&&d(t,["audio"],AR(r,o));const a=f(e,["audioStreamEnd"]);a!=null&&d(t,["audioStreamEnd"],a);const c=f(e,["video"]);c!=null&&d(t,["video"],CR(r,c));const h=f(e,["text"]);return h!=null&&d(t,["text"],h),f(e,["activityStart"])!=null&&d(t,["activityStart"],Jw()),f(e,["activityEnd"])!=null&&d(t,["activityEnd"],Xw()),t}function eI(r,e){const t={},n=f(e,["media"]);if(n!=null&&d(t,["mediaChunks"],zE(r,n)),f(e,["audio"])!==void 0)throw new Error("audio parameter is not supported in Vertex AI.");const o=f(e,["audioStreamEnd"]);if(o!=null&&d(t,["audioStreamEnd"],o),f(e,["video"])!==void 0)throw new Error("video parameter is not supported in Vertex AI.");if(f(e,["text"])!==void 0)throw new Error("text parameter is not supported in Vertex AI.");return f(e,["activityStart"])!=null&&d(t,["activityStart"],Zw()),f(e,["activityEnd"])!=null&&d(t,["activityEnd"],Ww()),t}function XE(r,e){const t={},n=f(e,["text"]);n!=null&&d(t,["text"],n);const o=f(e,["weight"]);return o!=null&&d(t,["weight"],o),t}function tI(r,e){const t={},n=f(e,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>XE(r,a))),d(t,["weightedPrompts"],o)}return t}function WE(r,e){const t={},n=f(e,["temperature"]);n!=null&&d(t,["temperature"],n);const o=f(e,["topK"]);o!=null&&d(t,["topK"],o);const a=f(e,["seed"]);a!=null&&d(t,["seed"],a);const c=f(e,["guidance"]);c!=null&&d(t,["guidance"],c);const h=f(e,["bpm"]);h!=null&&d(t,["bpm"],h);const y=f(e,["density"]);y!=null&&d(t,["density"],y);const g=f(e,["brightness"]);g!=null&&d(t,["brightness"],g);const v=f(e,["scale"]);v!=null&&d(t,["scale"],v);const C=f(e,["muteBass"]);C!=null&&d(t,["muteBass"],C);const S=f(e,["muteDrums"]);S!=null&&d(t,["muteDrums"],S);const w=f(e,["onlyBassAndDrums"]);return w!=null&&d(t,["onlyBassAndDrums"],w),t}function nI(r,e){const t={},n=f(e,["musicGenerationConfig"]);return n!=null&&d(t,["musicGenerationConfig"],WE(r,n)),t}function jE(r,e){const t={},n=f(e,["model"]);return n!=null&&d(t,["model"],n),t}function e0(r,e){const t={},n=f(e,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>XE(r,a))),d(t,["weightedPrompts"],o)}return t}function fm(r,e){const t={},n=f(e,["setup"]);n!=null&&d(t,["setup"],jE(r,n));const o=f(e,["clientContent"]);o!=null&&d(t,["clientContent"],e0(r,o));const a=f(e,["musicGenerationConfig"]);a!=null&&d(t,["musicGenerationConfig"],WE(r,a));const c=f(e,["playbackControl"]);return c!=null&&d(t,["playbackControl"],c),t}function iI(){return{}}function rI(){return{}}function sI(r,e){const t={},n=f(e,["fps"]);n!=null&&d(t,["fps"],n);const o=f(e,["endOffset"]);o!=null&&d(t,["endOffset"],o);const a=f(e,["startOffset"]);return a!=null&&d(t,["startOffset"],a),t}function oI(r,e){const t={},n=f(e,["fps"]);n!=null&&d(t,["fps"],n);const o=f(e,["endOffset"]);o!=null&&d(t,["endOffset"],o);const a=f(e,["startOffset"]);return a!=null&&d(t,["startOffset"],a),t}function aI(r,e){const t={},n=f(e,["data"]);n!=null&&d(t,["data"],n);const o=f(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function lI(r,e){const t={},n=f(e,["displayName"]);n!=null&&d(t,["displayName"],n);const o=f(e,["data"]);o!=null&&d(t,["data"],o);const a=f(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function uI(r,e){const t={},n=f(e,["fileUri"]);n!=null&&d(t,["fileUri"],n);const o=f(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function cI(r,e){const t={},n=f(e,["displayName"]);n!=null&&d(t,["displayName"],n);const o=f(e,["fileUri"]);o!=null&&d(t,["fileUri"],o);const a=f(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function fI(r,e){const t={},n=f(e,["videoMetadata"]);n!=null&&d(t,["videoMetadata"],sI(r,n));const o=f(e,["thought"]);o!=null&&d(t,["thought"],o);const a=f(e,["inlineData"]);a!=null&&d(t,["inlineData"],aI(r,a));const c=f(e,["fileData"]);c!=null&&d(t,["fileData"],uI(r,c));const h=f(e,["thoughtSignature"]);h!=null&&d(t,["thoughtSignature"],h);const y=f(e,["codeExecutionResult"]);y!=null&&d(t,["codeExecutionResult"],y);const g=f(e,["executableCode"]);g!=null&&d(t,["executableCode"],g);const v=f(e,["functionCall"]);v!=null&&d(t,["functionCall"],v);const C=f(e,["functionResponse"]);C!=null&&d(t,["functionResponse"],C);const S=f(e,["text"]);return S!=null&&d(t,["text"],S),t}function dI(r,e){const t={},n=f(e,["videoMetadata"]);n!=null&&d(t,["videoMetadata"],oI(r,n));const o=f(e,["thought"]);o!=null&&d(t,["thought"],o);const a=f(e,["inlineData"]);a!=null&&d(t,["inlineData"],lI(r,a));const c=f(e,["fileData"]);c!=null&&d(t,["fileData"],cI(r,c));const h=f(e,["thoughtSignature"]);h!=null&&d(t,["thoughtSignature"],h);const y=f(e,["codeExecutionResult"]);y!=null&&d(t,["codeExecutionResult"],y);const g=f(e,["executableCode"]);g!=null&&d(t,["executableCode"],g);const v=f(e,["functionCall"]);v!=null&&d(t,["functionCall"],v);const C=f(e,["functionResponse"]);C!=null&&d(t,["functionResponse"],C);const S=f(e,["text"]);return S!=null&&d(t,["text"],S),t}function hI(r,e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>fI(r,c))),d(t,["parts"],a)}const o=f(e,["role"]);return o!=null&&d(t,["role"],o),t}function mI(r,e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>dI(r,c))),d(t,["parts"],a)}const o=f(e,["role"]);return o!=null&&d(t,["role"],o),t}function _T(r,e){const t={},n=f(e,["text"]);n!=null&&d(t,["text"],n);const o=f(e,["finished"]);return o!=null&&d(t,["finished"],o),t}function vT(r,e){const t={},n=f(e,["text"]);n!=null&&d(t,["text"],n);const o=f(e,["finished"]);return o!=null&&d(t,["finished"],o),t}function pI(r,e){const t={},n=f(e,["retrievedUrl"]);n!=null&&d(t,["retrievedUrl"],n);const o=f(e,["urlRetrievalStatus"]);return o!=null&&d(t,["urlRetrievalStatus"],o),t}function gI(r,e){const t={},n=f(e,["urlMetadata"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>pI(r,a))),d(t,["urlMetadata"],o)}return t}function yI(r,e){const t={},n=f(e,["modelTurn"]);n!=null&&d(t,["modelTurn"],hI(r,n));const o=f(e,["turnComplete"]);o!=null&&d(t,["turnComplete"],o);const a=f(e,["interrupted"]);a!=null&&d(t,["interrupted"],a);const c=f(e,["groundingMetadata"]);c!=null&&d(t,["groundingMetadata"],c);const h=f(e,["generationComplete"]);h!=null&&d(t,["generationComplete"],h);const y=f(e,["inputTranscription"]);y!=null&&d(t,["inputTranscription"],_T(r,y));const g=f(e,["outputTranscription"]);g!=null&&d(t,["outputTranscription"],_T(r,g));const v=f(e,["urlContextMetadata"]);return v!=null&&d(t,["urlContextMetadata"],gI(r,v)),t}function _I(r,e){const t={},n=f(e,["modelTurn"]);n!=null&&d(t,["modelTurn"],mI(r,n));const o=f(e,["turnComplete"]);o!=null&&d(t,["turnComplete"],o);const a=f(e,["interrupted"]);a!=null&&d(t,["interrupted"],a);const c=f(e,["groundingMetadata"]);c!=null&&d(t,["groundingMetadata"],c);const h=f(e,["generationComplete"]);h!=null&&d(t,["generationComplete"],h);const y=f(e,["inputTranscription"]);y!=null&&d(t,["inputTranscription"],vT(r,y));const g=f(e,["outputTranscription"]);return g!=null&&d(t,["outputTranscription"],vT(r,g)),t}function vI(r,e){const t={},n=f(e,["id"]);n!=null&&d(t,["id"],n);const o=f(e,["args"]);o!=null&&d(t,["args"],o);const a=f(e,["name"]);return a!=null&&d(t,["name"],a),t}function TI(r,e){const t={},n=f(e,["args"]);n!=null&&d(t,["args"],n);const o=f(e,["name"]);return o!=null&&d(t,["name"],o),t}function EI(r,e){const t={},n=f(e,["functionCalls"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>vI(r,a))),d(t,["functionCalls"],o)}return t}function CI(r,e){const t={},n=f(e,["functionCalls"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>TI(r,a))),d(t,["functionCalls"],o)}return t}function AI(r,e){const t={},n=f(e,["ids"]);return n!=null&&d(t,["ids"],n),t}function SI(r,e){const t={},n=f(e,["ids"]);return n!=null&&d(t,["ids"],n),t}function Dc(r,e){const t={},n=f(e,["modality"]);n!=null&&d(t,["modality"],n);const o=f(e,["tokenCount"]);return o!=null&&d(t,["tokenCount"],o),t}function Nc(r,e){const t={},n=f(e,["modality"]);n!=null&&d(t,["modality"],n);const o=f(e,["tokenCount"]);return o!=null&&d(t,["tokenCount"],o),t}function RI(r,e){const t={},n=f(e,["promptTokenCount"]);n!=null&&d(t,["promptTokenCount"],n);const o=f(e,["cachedContentTokenCount"]);o!=null&&d(t,["cachedContentTokenCount"],o);const a=f(e,["responseTokenCount"]);a!=null&&d(t,["responseTokenCount"],a);const c=f(e,["toolUsePromptTokenCount"]);c!=null&&d(t,["toolUsePromptTokenCount"],c);const h=f(e,["thoughtsTokenCount"]);h!=null&&d(t,["thoughtsTokenCount"],h);const y=f(e,["totalTokenCount"]);y!=null&&d(t,["totalTokenCount"],y);const g=f(e,["promptTokensDetails"]);if(g!=null){let w=g;Array.isArray(w)&&(w=w.map(P=>Dc(r,P))),d(t,["promptTokensDetails"],w)}const v=f(e,["cacheTokensDetails"]);if(v!=null){let w=v;Array.isArray(w)&&(w=w.map(P=>Dc(r,P))),d(t,["cacheTokensDetails"],w)}const C=f(e,["responseTokensDetails"]);if(C!=null){let w=C;Array.isArray(w)&&(w=w.map(P=>Dc(r,P))),d(t,["responseTokensDetails"],w)}const S=f(e,["toolUsePromptTokensDetails"]);if(S!=null){let w=S;Array.isArray(w)&&(w=w.map(P=>Dc(r,P))),d(t,["toolUsePromptTokensDetails"],w)}return t}function xI(r,e){const t={},n=f(e,["promptTokenCount"]);n!=null&&d(t,["promptTokenCount"],n);const o=f(e,["cachedContentTokenCount"]);o!=null&&d(t,["cachedContentTokenCount"],o);const a=f(e,["candidatesTokenCount"]);a!=null&&d(t,["responseTokenCount"],a);const c=f(e,["toolUsePromptTokenCount"]);c!=null&&d(t,["toolUsePromptTokenCount"],c);const h=f(e,["thoughtsTokenCount"]);h!=null&&d(t,["thoughtsTokenCount"],h);const y=f(e,["totalTokenCount"]);y!=null&&d(t,["totalTokenCount"],y);const g=f(e,["promptTokensDetails"]);if(g!=null){let P=g;Array.isArray(P)&&(P=P.map(q=>Nc(r,q))),d(t,["promptTokensDetails"],P)}const v=f(e,["cacheTokensDetails"]);if(v!=null){let P=v;Array.isArray(P)&&(P=P.map(q=>Nc(r,q))),d(t,["cacheTokensDetails"],P)}const C=f(e,["candidatesTokensDetails"]);if(C!=null){let P=C;Array.isArray(P)&&(P=P.map(q=>Nc(r,q))),d(t,["responseTokensDetails"],P)}const S=f(e,["toolUsePromptTokensDetails"]);if(S!=null){let P=S;Array.isArray(P)&&(P=P.map(q=>Nc(r,q))),d(t,["toolUsePromptTokensDetails"],P)}const w=f(e,["trafficType"]);return w!=null&&d(t,["trafficType"],w),t}function wI(r,e){const t={},n=f(e,["timeLeft"]);return n!=null&&d(t,["timeLeft"],n),t}function II(r,e){const t={},n=f(e,["timeLeft"]);return n!=null&&d(t,["timeLeft"],n),t}function MI(r,e){const t={},n=f(e,["newHandle"]);n!=null&&d(t,["newHandle"],n);const o=f(e,["resumable"]);o!=null&&d(t,["resumable"],o);const a=f(e,["lastConsumedClientMessageIndex"]);return a!=null&&d(t,["lastConsumedClientMessageIndex"],a),t}function bI(r,e){const t={},n=f(e,["newHandle"]);n!=null&&d(t,["newHandle"],n);const o=f(e,["resumable"]);o!=null&&d(t,["resumable"],o);const a=f(e,["lastConsumedClientMessageIndex"]);return a!=null&&d(t,["lastConsumedClientMessageIndex"],a),t}function DI(r,e){const t={};f(e,["setupComplete"])!=null&&d(t,["setupComplete"],iI());const o=f(e,["serverContent"]);o!=null&&d(t,["serverContent"],yI(r,o));const a=f(e,["toolCall"]);a!=null&&d(t,["toolCall"],EI(r,a));const c=f(e,["toolCallCancellation"]);c!=null&&d(t,["toolCallCancellation"],AI(r,c));const h=f(e,["usageMetadata"]);h!=null&&d(t,["usageMetadata"],RI(r,h));const y=f(e,["goAway"]);y!=null&&d(t,["goAway"],wI(r,y));const g=f(e,["sessionResumptionUpdate"]);return g!=null&&d(t,["sessionResumptionUpdate"],MI(r,g)),t}function NI(r,e){const t={};f(e,["setupComplete"])!=null&&d(t,["setupComplete"],rI());const o=f(e,["serverContent"]);o!=null&&d(t,["serverContent"],_I(r,o));const a=f(e,["toolCall"]);a!=null&&d(t,["toolCall"],CI(r,a));const c=f(e,["toolCallCancellation"]);c!=null&&d(t,["toolCallCancellation"],SI(r,c));const h=f(e,["usageMetadata"]);h!=null&&d(t,["usageMetadata"],xI(r,h));const y=f(e,["goAway"]);y!=null&&d(t,["goAway"],II(r,y));const g=f(e,["sessionResumptionUpdate"]);return g!=null&&d(t,["sessionResumptionUpdate"],bI(r,g)),t}function VI(){return{}}function PI(r,e){const t={},n=f(e,["text"]);n!=null&&d(t,["text"],n);const o=f(e,["weight"]);return o!=null&&d(t,["weight"],o),t}function UI(r,e){const t={},n=f(e,["weightedPrompts"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>PI(r,a))),d(t,["weightedPrompts"],o)}return t}function LI(r,e){const t={},n=f(e,["temperature"]);n!=null&&d(t,["temperature"],n);const o=f(e,["topK"]);o!=null&&d(t,["topK"],o);const a=f(e,["seed"]);a!=null&&d(t,["seed"],a);const c=f(e,["guidance"]);c!=null&&d(t,["guidance"],c);const h=f(e,["bpm"]);h!=null&&d(t,["bpm"],h);const y=f(e,["density"]);y!=null&&d(t,["density"],y);const g=f(e,["brightness"]);g!=null&&d(t,["brightness"],g);const v=f(e,["scale"]);v!=null&&d(t,["scale"],v);const C=f(e,["muteBass"]);C!=null&&d(t,["muteBass"],C);const S=f(e,["muteDrums"]);S!=null&&d(t,["muteDrums"],S);const w=f(e,["onlyBassAndDrums"]);return w!=null&&d(t,["onlyBassAndDrums"],w),t}function kI(r,e){const t={},n=f(e,["clientContent"]);n!=null&&d(t,["clientContent"],UI(r,n));const o=f(e,["musicGenerationConfig"]);return o!=null&&d(t,["musicGenerationConfig"],LI(r,o)),t}function OI(r,e){const t={},n=f(e,["data"]);n!=null&&d(t,["data"],n);const o=f(e,["mimeType"]);o!=null&&d(t,["mimeType"],o);const a=f(e,["sourceMetadata"]);return a!=null&&d(t,["sourceMetadata"],kI(r,a)),t}function BI(r,e){const t={},n=f(e,["audioChunks"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>OI(r,a))),d(t,["audioChunks"],o)}return t}function FI(r,e){const t={},n=f(e,["text"]);n!=null&&d(t,["text"],n);const o=f(e,["filteredReason"]);return o!=null&&d(t,["filteredReason"],o),t}function zI(r,e){const t={};f(e,["setupComplete"])!=null&&d(t,["setupComplete"],VI());const o=f(e,["serverContent"]);o!=null&&d(t,["serverContent"],BI(r,o));const a=f(e,["filteredPrompt"]);return a!=null&&d(t,["filteredPrompt"],FI(r,a)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qI(r,e){const t={},n=f(e,["fps"]);n!=null&&d(t,["fps"],n);const o=f(e,["endOffset"]);o!=null&&d(t,["endOffset"],o);const a=f(e,["startOffset"]);return a!=null&&d(t,["startOffset"],a),t}function GI(r,e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["data"]);n!=null&&d(t,["data"],n);const o=f(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function HI(r,e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["fileUri"]);n!=null&&d(t,["fileUri"],n);const o=f(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function YI(r,e){const t={},n=f(e,["videoMetadata"]);n!=null&&d(t,["videoMetadata"],qI(r,n));const o=f(e,["thought"]);o!=null&&d(t,["thought"],o);const a=f(e,["inlineData"]);a!=null&&d(t,["inlineData"],GI(r,a));const c=f(e,["fileData"]);c!=null&&d(t,["fileData"],HI(r,c));const h=f(e,["thoughtSignature"]);h!=null&&d(t,["thoughtSignature"],h);const y=f(e,["codeExecutionResult"]);y!=null&&d(t,["codeExecutionResult"],y);const g=f(e,["executableCode"]);g!=null&&d(t,["executableCode"],g);const v=f(e,["functionCall"]);v!=null&&d(t,["functionCall"],v);const C=f(e,["functionResponse"]);C!=null&&d(t,["functionResponse"],C);const S=f(e,["text"]);return S!=null&&d(t,["text"],S),t}function yf(r,e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>YI(r,c))),d(t,["parts"],a)}const o=f(e,["role"]);return o!=null&&d(t,["role"],o),t}function $I(r,e){const t={},n=f(e,["anyOf"]);n!=null&&d(t,["anyOf"],n);const o=f(e,["default"]);o!=null&&d(t,["default"],o);const a=f(e,["description"]);a!=null&&d(t,["description"],a);const c=f(e,["enum"]);c!=null&&d(t,["enum"],c);const h=f(e,["example"]);h!=null&&d(t,["example"],h);const y=f(e,["format"]);y!=null&&d(t,["format"],y);const g=f(e,["items"]);g!=null&&d(t,["items"],g);const v=f(e,["maxItems"]);v!=null&&d(t,["maxItems"],v);const C=f(e,["maxLength"]);C!=null&&d(t,["maxLength"],C);const S=f(e,["maxProperties"]);S!=null&&d(t,["maxProperties"],S);const w=f(e,["maximum"]);w!=null&&d(t,["maximum"],w);const P=f(e,["minItems"]);P!=null&&d(t,["minItems"],P);const q=f(e,["minLength"]);q!=null&&d(t,["minLength"],q);const $=f(e,["minProperties"]);$!=null&&d(t,["minProperties"],$);const re=f(e,["minimum"]);re!=null&&d(t,["minimum"],re);const ne=f(e,["nullable"]);ne!=null&&d(t,["nullable"],ne);const ie=f(e,["pattern"]);ie!=null&&d(t,["pattern"],ie);const ue=f(e,["properties"]);ue!=null&&d(t,["properties"],ue);const _e=f(e,["propertyOrdering"]);_e!=null&&d(t,["propertyOrdering"],_e);const fe=f(e,["required"]);fe!=null&&d(t,["required"],fe);const b=f(e,["title"]);b!=null&&d(t,["title"],b);const I=f(e,["type"]);return I!=null&&d(t,["type"],I),t}function KI(r,e){const t={};if(f(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const n=f(e,["category"]);n!=null&&d(t,["category"],n);const o=f(e,["threshold"]);return o!=null&&d(t,["threshold"],o),t}function QI(r,e){const t={},n=f(e,["behavior"]);n!=null&&d(t,["behavior"],n);const o=f(e,["description"]);o!=null&&d(t,["description"],o);const a=f(e,["name"]);a!=null&&d(t,["name"],a);const c=f(e,["parameters"]);c!=null&&d(t,["parameters"],c);const h=f(e,["response"]);return h!=null&&d(t,["response"],h),t}function JI(r,e){const t={},n=f(e,["startTime"]);n!=null&&d(t,["startTime"],n);const o=f(e,["endTime"]);return o!=null&&d(t,["endTime"],o),t}function ZI(r,e){const t={},n=f(e,["timeRangeFilter"]);return n!=null&&d(t,["timeRangeFilter"],JI(r,n)),t}function XI(r,e){const t={},n=f(e,["mode"]);n!=null&&d(t,["mode"],n);const o=f(e,["dynamicThreshold"]);return o!=null&&d(t,["dynamicThreshold"],o),t}function WI(r,e){const t={},n=f(e,["dynamicRetrievalConfig"]);return n!=null&&d(t,["dynamicRetrievalConfig"],XI(r,n)),t}function jI(){return{}}function eM(r,e){const t={},n=f(e,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(g=>QI(r,g))),d(t,["functionDeclarations"],y)}if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=f(e,["googleSearch"]);o!=null&&d(t,["googleSearch"],ZI(r,o));const a=f(e,["googleSearchRetrieval"]);if(a!=null&&d(t,["googleSearchRetrieval"],WI(r,a)),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");f(e,["urlContext"])!=null&&d(t,["urlContext"],jI());const h=f(e,["codeExecution"]);return h!=null&&d(t,["codeExecution"],h),t}function tM(r,e){const t={},n=f(e,["mode"]);n!=null&&d(t,["mode"],n);const o=f(e,["allowedFunctionNames"]);return o!=null&&d(t,["allowedFunctionNames"],o),t}function nM(r,e){const t={},n=f(e,["latitude"]);n!=null&&d(t,["latitude"],n);const o=f(e,["longitude"]);return o!=null&&d(t,["longitude"],o),t}function iM(r,e){const t={},n=f(e,["latLng"]);n!=null&&d(t,["latLng"],nM(r,n));const o=f(e,["languageCode"]);return o!=null&&d(t,["languageCode"],o),t}function rM(r,e){const t={},n=f(e,["functionCallingConfig"]);n!=null&&d(t,["functionCallingConfig"],tM(r,n));const o=f(e,["retrievalConfig"]);return o!=null&&d(t,["retrievalConfig"],iM(r,o)),t}function sM(r,e){const t={},n=f(e,["voiceName"]);return n!=null&&d(t,["voiceName"],n),t}function t0(r,e){const t={},n=f(e,["prebuiltVoiceConfig"]);return n!=null&&d(t,["prebuiltVoiceConfig"],sM(r,n)),t}function oM(r,e){const t={},n=f(e,["speaker"]);n!=null&&d(t,["speaker"],n);const o=f(e,["voiceConfig"]);return o!=null&&d(t,["voiceConfig"],t0(r,o)),t}function aM(r,e){const t={},n=f(e,["speakerVoiceConfigs"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>oM(r,a))),d(t,["speakerVoiceConfigs"],o)}return t}function lM(r,e){const t={},n=f(e,["voiceConfig"]);n!=null&&d(t,["voiceConfig"],t0(r,n));const o=f(e,["multiSpeakerVoiceConfig"]);o!=null&&d(t,["multiSpeakerVoiceConfig"],aM(r,o));const a=f(e,["languageCode"]);return a!=null&&d(t,["languageCode"],a),t}function uM(r,e){const t={},n=f(e,["includeThoughts"]);n!=null&&d(t,["includeThoughts"],n);const o=f(e,["thinkingBudget"]);return o!=null&&d(t,["thinkingBudget"],o),t}function cM(r,e,t){const n={},o=f(e,["systemInstruction"]);t!==void 0&&o!=null&&d(t,["systemInstruction"],yf(r,_n(r,o)));const a=f(e,["temperature"]);a!=null&&d(n,["temperature"],a);const c=f(e,["topP"]);c!=null&&d(n,["topP"],c);const h=f(e,["topK"]);h!=null&&d(n,["topK"],h);const y=f(e,["candidateCount"]);y!=null&&d(n,["candidateCount"],y);const g=f(e,["maxOutputTokens"]);g!=null&&d(n,["maxOutputTokens"],g);const v=f(e,["stopSequences"]);v!=null&&d(n,["stopSequences"],v);const C=f(e,["responseLogprobs"]);C!=null&&d(n,["responseLogprobs"],C);const S=f(e,["logprobs"]);S!=null&&d(n,["logprobs"],S);const w=f(e,["presencePenalty"]);w!=null&&d(n,["presencePenalty"],w);const P=f(e,["frequencyPenalty"]);P!=null&&d(n,["frequencyPenalty"],P);const q=f(e,["seed"]);q!=null&&d(n,["seed"],q);const $=f(e,["responseMimeType"]);$!=null&&d(n,["responseMimeType"],$);const re=f(e,["responseSchema"]);if(re!=null&&d(n,["responseSchema"],$I(r,rf(r,re))),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const ne=f(e,["safetySettings"]);if(t!==void 0&&ne!=null){let V=ne;Array.isArray(V)&&(V=V.map(L=>KI(r,L))),d(t,["safetySettings"],V)}const ie=f(e,["tools"]);if(t!==void 0&&ie!=null){let V=Xl(r,ie);Array.isArray(V)&&(V=V.map(L=>eM(r,Zl(r,L)))),d(t,["tools"],V)}const ue=f(e,["toolConfig"]);if(t!==void 0&&ue!=null&&d(t,["toolConfig"],rM(r,ue)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const _e=f(e,["cachedContent"]);t!==void 0&&_e!=null&&d(t,["cachedContent"],cs(r,_e));const fe=f(e,["responseModalities"]);fe!=null&&d(n,["responseModalities"],fe);const b=f(e,["mediaResolution"]);b!=null&&d(n,["mediaResolution"],b);const I=f(e,["speechConfig"]);if(I!=null&&d(n,["speechConfig"],lM(r,HE(r,I))),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const M=f(e,["thinkingConfig"]);return M!=null&&d(n,["thinkingConfig"],uM(r,M)),n}function TT(r,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","model"],ct(r,n));const o=f(e,["contents"]);if(o!=null){let c=ai(r,o);Array.isArray(c)&&(c=c.map(h=>yf(r,h))),d(t,["contents"],c)}const a=f(e,["config"]);return a!=null&&d(t,["generationConfig"],cM(r,a,t)),t}function fM(r,e,t){const n={},o=f(e,["taskType"]);t!==void 0&&o!=null&&d(t,["requests[]","taskType"],o);const a=f(e,["title"]);t!==void 0&&a!=null&&d(t,["requests[]","title"],a);const c=f(e,["outputDimensionality"]);if(t!==void 0&&c!=null&&d(t,["requests[]","outputDimensionality"],c),f(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function dM(r,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","model"],ct(r,n));const o=f(e,["contents"]);o!=null&&d(t,["requests[]","content"],GE(r,o));const a=f(e,["config"]);a!=null&&d(t,["config"],fM(r,a,t));const c=f(e,["model"]);return c!==void 0&&d(t,["requests[]","model"],ct(r,c)),t}function hM(r,e,t){const n={};if(f(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=f(e,["numberOfImages"]);t!==void 0&&o!=null&&d(t,["parameters","sampleCount"],o);const a=f(e,["aspectRatio"]);t!==void 0&&a!=null&&d(t,["parameters","aspectRatio"],a);const c=f(e,["guidanceScale"]);if(t!==void 0&&c!=null&&d(t,["parameters","guidanceScale"],c),f(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=f(e,["safetyFilterLevel"]);t!==void 0&&h!=null&&d(t,["parameters","safetySetting"],h);const y=f(e,["personGeneration"]);t!==void 0&&y!=null&&d(t,["parameters","personGeneration"],y);const g=f(e,["includeSafetyAttributes"]);t!==void 0&&g!=null&&d(t,["parameters","includeSafetyAttributes"],g);const v=f(e,["includeRaiReason"]);t!==void 0&&v!=null&&d(t,["parameters","includeRaiReason"],v);const C=f(e,["language"]);t!==void 0&&C!=null&&d(t,["parameters","language"],C);const S=f(e,["outputMimeType"]);t!==void 0&&S!=null&&d(t,["parameters","outputOptions","mimeType"],S);const w=f(e,["outputCompressionQuality"]);if(t!==void 0&&w!=null&&d(t,["parameters","outputOptions","compressionQuality"],w),f(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function mM(r,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","model"],ct(r,n));const o=f(e,["prompt"]);o!=null&&d(t,["instances[0]","prompt"],o);const a=f(e,["config"]);return a!=null&&d(t,["config"],hM(r,a,t)),t}function pM(r,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","name"],ct(r,n));const o=f(e,["config"]);return o!=null&&d(t,["config"],o),t}function gM(r,e,t){const n={},o=f(e,["pageSize"]);t!==void 0&&o!=null&&d(t,["_query","pageSize"],o);const a=f(e,["pageToken"]);t!==void 0&&a!=null&&d(t,["_query","pageToken"],a);const c=f(e,["filter"]);t!==void 0&&c!=null&&d(t,["_query","filter"],c);const h=f(e,["queryBase"]);return t!==void 0&&h!=null&&d(t,["_url","models_url"],KE(r,h)),n}function yM(r,e){const t={},n=f(e,["config"]);return n!=null&&d(t,["config"],gM(r,n,t)),t}function _M(r,e,t){const n={},o=f(e,["displayName"]);t!==void 0&&o!=null&&d(t,["displayName"],o);const a=f(e,["description"]);t!==void 0&&a!=null&&d(t,["description"],a);const c=f(e,["defaultCheckpointId"]);return t!==void 0&&c!=null&&d(t,["defaultCheckpointId"],c),n}function vM(r,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","name"],ct(r,n));const o=f(e,["config"]);return o!=null&&d(t,["config"],_M(r,o,t)),t}function TM(r,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","name"],ct(r,n));const o=f(e,["config"]);return o!=null&&d(t,["config"],o),t}function EM(r,e){const t={};if(f(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function CM(r,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","model"],ct(r,n));const o=f(e,["contents"]);if(o!=null){let c=ai(r,o);Array.isArray(c)&&(c=c.map(h=>yf(r,h))),d(t,["contents"],c)}const a=f(e,["config"]);return a!=null&&d(t,["config"],EM(r,a)),t}function AM(r,e){const t={};if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=f(e,["imageBytes"]);n!=null&&d(t,["bytesBase64Encoded"],fs(r,n));const o=f(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function SM(r,e,t){const n={},o=f(e,["numberOfVideos"]);if(t!==void 0&&o!=null&&d(t,["parameters","sampleCount"],o),f(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const a=f(e,["durationSeconds"]);if(t!==void 0&&a!=null&&d(t,["parameters","durationSeconds"],a),f(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=f(e,["aspectRatio"]);if(t!==void 0&&c!=null&&d(t,["parameters","aspectRatio"],c),f(e,["resolution"])!==void 0)throw new Error("resolution parameter is not supported in Gemini API.");const h=f(e,["personGeneration"]);if(t!==void 0&&h!=null&&d(t,["parameters","personGeneration"],h),f(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=f(e,["negativePrompt"]);if(t!==void 0&&y!=null&&d(t,["parameters","negativePrompt"],y),f(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");if(f(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");return n}function RM(r,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","model"],ct(r,n));const o=f(e,["prompt"]);o!=null&&d(t,["instances[0]","prompt"],o);const a=f(e,["image"]);a!=null&&d(t,["instances[0]","image"],AM(r,a));const c=f(e,["config"]);return c!=null&&d(t,["config"],SM(r,c,t)),t}function xM(r,e){const t={},n=f(e,["fps"]);n!=null&&d(t,["fps"],n);const o=f(e,["endOffset"]);o!=null&&d(t,["endOffset"],o);const a=f(e,["startOffset"]);return a!=null&&d(t,["startOffset"],a),t}function wM(r,e){const t={},n=f(e,["displayName"]);n!=null&&d(t,["displayName"],n);const o=f(e,["data"]);o!=null&&d(t,["data"],o);const a=f(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function IM(r,e){const t={},n=f(e,["displayName"]);n!=null&&d(t,["displayName"],n);const o=f(e,["fileUri"]);o!=null&&d(t,["fileUri"],o);const a=f(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function MM(r,e){const t={},n=f(e,["videoMetadata"]);n!=null&&d(t,["videoMetadata"],xM(r,n));const o=f(e,["thought"]);o!=null&&d(t,["thought"],o);const a=f(e,["inlineData"]);a!=null&&d(t,["inlineData"],wM(r,a));const c=f(e,["fileData"]);c!=null&&d(t,["fileData"],IM(r,c));const h=f(e,["thoughtSignature"]);h!=null&&d(t,["thoughtSignature"],h);const y=f(e,["codeExecutionResult"]);y!=null&&d(t,["codeExecutionResult"],y);const g=f(e,["executableCode"]);g!=null&&d(t,["executableCode"],g);const v=f(e,["functionCall"]);v!=null&&d(t,["functionCall"],v);const C=f(e,["functionResponse"]);C!=null&&d(t,["functionResponse"],C);const S=f(e,["text"]);return S!=null&&d(t,["text"],S),t}function ya(r,e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>MM(r,c))),d(t,["parts"],a)}const o=f(e,["role"]);return o!=null&&d(t,["role"],o),t}function bM(r,e){const t={},n=f(e,["anyOf"]);n!=null&&d(t,["anyOf"],n);const o=f(e,["default"]);o!=null&&d(t,["default"],o);const a=f(e,["description"]);a!=null&&d(t,["description"],a);const c=f(e,["enum"]);c!=null&&d(t,["enum"],c);const h=f(e,["example"]);h!=null&&d(t,["example"],h);const y=f(e,["format"]);y!=null&&d(t,["format"],y);const g=f(e,["items"]);g!=null&&d(t,["items"],g);const v=f(e,["maxItems"]);v!=null&&d(t,["maxItems"],v);const C=f(e,["maxLength"]);C!=null&&d(t,["maxLength"],C);const S=f(e,["maxProperties"]);S!=null&&d(t,["maxProperties"],S);const w=f(e,["maximum"]);w!=null&&d(t,["maximum"],w);const P=f(e,["minItems"]);P!=null&&d(t,["minItems"],P);const q=f(e,["minLength"]);q!=null&&d(t,["minLength"],q);const $=f(e,["minProperties"]);$!=null&&d(t,["minProperties"],$);const re=f(e,["minimum"]);re!=null&&d(t,["minimum"],re);const ne=f(e,["nullable"]);ne!=null&&d(t,["nullable"],ne);const ie=f(e,["pattern"]);ie!=null&&d(t,["pattern"],ie);const ue=f(e,["properties"]);ue!=null&&d(t,["properties"],ue);const _e=f(e,["propertyOrdering"]);_e!=null&&d(t,["propertyOrdering"],_e);const fe=f(e,["required"]);fe!=null&&d(t,["required"],fe);const b=f(e,["title"]);b!=null&&d(t,["title"],b);const I=f(e,["type"]);return I!=null&&d(t,["type"],I),t}function DM(r,e){const t={},n=f(e,["featureSelectionPreference"]);return n!=null&&d(t,["featureSelectionPreference"],n),t}function NM(r,e){const t={},n=f(e,["method"]);n!=null&&d(t,["method"],n);const o=f(e,["category"]);o!=null&&d(t,["category"],o);const a=f(e,["threshold"]);return a!=null&&d(t,["threshold"],a),t}function VM(r,e){const t={};if(f(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=f(e,["description"]);n!=null&&d(t,["description"],n);const o=f(e,["name"]);o!=null&&d(t,["name"],o);const a=f(e,["parameters"]);a!=null&&d(t,["parameters"],a);const c=f(e,["response"]);return c!=null&&d(t,["response"],c),t}function PM(r,e){const t={},n=f(e,["startTime"]);n!=null&&d(t,["startTime"],n);const o=f(e,["endTime"]);return o!=null&&d(t,["endTime"],o),t}function UM(r,e){const t={},n=f(e,["timeRangeFilter"]);return n!=null&&d(t,["timeRangeFilter"],PM(r,n)),t}function LM(r,e){const t={},n=f(e,["mode"]);n!=null&&d(t,["mode"],n);const o=f(e,["dynamicThreshold"]);return o!=null&&d(t,["dynamicThreshold"],o),t}function kM(r,e){const t={},n=f(e,["dynamicRetrievalConfig"]);return n!=null&&d(t,["dynamicRetrievalConfig"],LM(r,n)),t}function OM(){return{}}function BM(r,e){const t={},n=f(e,["apiKeyString"]);return n!=null&&d(t,["apiKeyString"],n),t}function FM(r,e){const t={},n=f(e,["apiKeyConfig"]);n!=null&&d(t,["apiKeyConfig"],BM(r,n));const o=f(e,["authType"]);o!=null&&d(t,["authType"],o);const a=f(e,["googleServiceAccountConfig"]);a!=null&&d(t,["googleServiceAccountConfig"],a);const c=f(e,["httpBasicAuthConfig"]);c!=null&&d(t,["httpBasicAuthConfig"],c);const h=f(e,["oauthConfig"]);h!=null&&d(t,["oauthConfig"],h);const y=f(e,["oidcConfig"]);return y!=null&&d(t,["oidcConfig"],y),t}function zM(r,e){const t={},n=f(e,["authConfig"]);return n!=null&&d(t,["authConfig"],FM(r,n)),t}function n0(r,e){const t={},n=f(e,["functionDeclarations"]);if(n!=null){let v=n;Array.isArray(v)&&(v=v.map(C=>VM(r,C))),d(t,["functionDeclarations"],v)}const o=f(e,["retrieval"]);o!=null&&d(t,["retrieval"],o);const a=f(e,["googleSearch"]);a!=null&&d(t,["googleSearch"],UM(r,a));const c=f(e,["googleSearchRetrieval"]);c!=null&&d(t,["googleSearchRetrieval"],kM(r,c)),f(e,["enterpriseWebSearch"])!=null&&d(t,["enterpriseWebSearch"],OM());const y=f(e,["googleMaps"]);if(y!=null&&d(t,["googleMaps"],zM(r,y)),f(e,["urlContext"])!==void 0)throw new Error("urlContext parameter is not supported in Vertex AI.");const g=f(e,["codeExecution"]);return g!=null&&d(t,["codeExecution"],g),t}function qM(r,e){const t={},n=f(e,["mode"]);n!=null&&d(t,["mode"],n);const o=f(e,["allowedFunctionNames"]);return o!=null&&d(t,["allowedFunctionNames"],o),t}function GM(r,e){const t={},n=f(e,["latitude"]);n!=null&&d(t,["latitude"],n);const o=f(e,["longitude"]);return o!=null&&d(t,["longitude"],o),t}function HM(r,e){const t={},n=f(e,["latLng"]);n!=null&&d(t,["latLng"],GM(r,n));const o=f(e,["languageCode"]);return o!=null&&d(t,["languageCode"],o),t}function YM(r,e){const t={},n=f(e,["functionCallingConfig"]);n!=null&&d(t,["functionCallingConfig"],qM(r,n));const o=f(e,["retrievalConfig"]);return o!=null&&d(t,["retrievalConfig"],HM(r,o)),t}function $M(r,e){const t={},n=f(e,["voiceName"]);return n!=null&&d(t,["voiceName"],n),t}function KM(r,e){const t={},n=f(e,["prebuiltVoiceConfig"]);return n!=null&&d(t,["prebuiltVoiceConfig"],$M(r,n)),t}function QM(r,e){const t={},n=f(e,["voiceConfig"]);if(n!=null&&d(t,["voiceConfig"],KM(r,n)),f(e,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=f(e,["languageCode"]);return o!=null&&d(t,["languageCode"],o),t}function JM(r,e){const t={},n=f(e,["includeThoughts"]);n!=null&&d(t,["includeThoughts"],n);const o=f(e,["thinkingBudget"]);return o!=null&&d(t,["thinkingBudget"],o),t}function ZM(r,e,t){const n={},o=f(e,["systemInstruction"]);t!==void 0&&o!=null&&d(t,["systemInstruction"],ya(r,_n(r,o)));const a=f(e,["temperature"]);a!=null&&d(n,["temperature"],a);const c=f(e,["topP"]);c!=null&&d(n,["topP"],c);const h=f(e,["topK"]);h!=null&&d(n,["topK"],h);const y=f(e,["candidateCount"]);y!=null&&d(n,["candidateCount"],y);const g=f(e,["maxOutputTokens"]);g!=null&&d(n,["maxOutputTokens"],g);const v=f(e,["stopSequences"]);v!=null&&d(n,["stopSequences"],v);const C=f(e,["responseLogprobs"]);C!=null&&d(n,["responseLogprobs"],C);const S=f(e,["logprobs"]);S!=null&&d(n,["logprobs"],S);const w=f(e,["presencePenalty"]);w!=null&&d(n,["presencePenalty"],w);const P=f(e,["frequencyPenalty"]);P!=null&&d(n,["frequencyPenalty"],P);const q=f(e,["seed"]);q!=null&&d(n,["seed"],q);const $=f(e,["responseMimeType"]);$!=null&&d(n,["responseMimeType"],$);const re=f(e,["responseSchema"]);re!=null&&d(n,["responseSchema"],bM(r,rf(r,re)));const ne=f(e,["routingConfig"]);ne!=null&&d(n,["routingConfig"],ne);const ie=f(e,["modelSelectionConfig"]);ie!=null&&d(n,["modelConfig"],DM(r,ie));const ue=f(e,["safetySettings"]);if(t!==void 0&&ue!=null){let it=ue;Array.isArray(it)&&(it=it.map(St=>NM(r,St))),d(t,["safetySettings"],it)}const _e=f(e,["tools"]);if(t!==void 0&&_e!=null){let it=Xl(r,_e);Array.isArray(it)&&(it=it.map(St=>n0(r,Zl(r,St)))),d(t,["tools"],it)}const fe=f(e,["toolConfig"]);t!==void 0&&fe!=null&&d(t,["toolConfig"],YM(r,fe));const b=f(e,["labels"]);t!==void 0&&b!=null&&d(t,["labels"],b);const I=f(e,["cachedContent"]);t!==void 0&&I!=null&&d(t,["cachedContent"],cs(r,I));const M=f(e,["responseModalities"]);M!=null&&d(n,["responseModalities"],M);const V=f(e,["mediaResolution"]);V!=null&&d(n,["mediaResolution"],V);const L=f(e,["speechConfig"]);L!=null&&d(n,["speechConfig"],QM(r,HE(r,L)));const F=f(e,["audioTimestamp"]);F!=null&&d(n,["audioTimestamp"],F);const N=f(e,["thinkingConfig"]);return N!=null&&d(n,["thinkingConfig"],JM(r,N)),n}function ET(r,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","model"],ct(r,n));const o=f(e,["contents"]);if(o!=null){let c=ai(r,o);Array.isArray(c)&&(c=c.map(h=>ya(r,h))),d(t,["contents"],c)}const a=f(e,["config"]);return a!=null&&d(t,["generationConfig"],ZM(r,a,t)),t}function XM(r,e,t){const n={},o=f(e,["taskType"]);t!==void 0&&o!=null&&d(t,["instances[]","task_type"],o);const a=f(e,["title"]);t!==void 0&&a!=null&&d(t,["instances[]","title"],a);const c=f(e,["outputDimensionality"]);t!==void 0&&c!=null&&d(t,["parameters","outputDimensionality"],c);const h=f(e,["mimeType"]);t!==void 0&&h!=null&&d(t,["instances[]","mimeType"],h);const y=f(e,["autoTruncate"]);return t!==void 0&&y!=null&&d(t,["parameters","autoTruncate"],y),n}function WM(r,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","model"],ct(r,n));const o=f(e,["contents"]);o!=null&&d(t,["instances[]","content"],GE(r,o));const a=f(e,["config"]);return a!=null&&d(t,["config"],XM(r,a,t)),t}function jM(r,e,t){const n={},o=f(e,["outputGcsUri"]);t!==void 0&&o!=null&&d(t,["parameters","storageUri"],o);const a=f(e,["negativePrompt"]);t!==void 0&&a!=null&&d(t,["parameters","negativePrompt"],a);const c=f(e,["numberOfImages"]);t!==void 0&&c!=null&&d(t,["parameters","sampleCount"],c);const h=f(e,["aspectRatio"]);t!==void 0&&h!=null&&d(t,["parameters","aspectRatio"],h);const y=f(e,["guidanceScale"]);t!==void 0&&y!=null&&d(t,["parameters","guidanceScale"],y);const g=f(e,["seed"]);t!==void 0&&g!=null&&d(t,["parameters","seed"],g);const v=f(e,["safetyFilterLevel"]);t!==void 0&&v!=null&&d(t,["parameters","safetySetting"],v);const C=f(e,["personGeneration"]);t!==void 0&&C!=null&&d(t,["parameters","personGeneration"],C);const S=f(e,["includeSafetyAttributes"]);t!==void 0&&S!=null&&d(t,["parameters","includeSafetyAttributes"],S);const w=f(e,["includeRaiReason"]);t!==void 0&&w!=null&&d(t,["parameters","includeRaiReason"],w);const P=f(e,["language"]);t!==void 0&&P!=null&&d(t,["parameters","language"],P);const q=f(e,["outputMimeType"]);t!==void 0&&q!=null&&d(t,["parameters","outputOptions","mimeType"],q);const $=f(e,["outputCompressionQuality"]);t!==void 0&&$!=null&&d(t,["parameters","outputOptions","compressionQuality"],$);const re=f(e,["addWatermark"]);t!==void 0&&re!=null&&d(t,["parameters","addWatermark"],re);const ne=f(e,["enhancePrompt"]);return t!==void 0&&ne!=null&&d(t,["parameters","enhancePrompt"],ne),n}function eb(r,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","model"],ct(r,n));const o=f(e,["prompt"]);o!=null&&d(t,["instances[0]","prompt"],o);const a=f(e,["config"]);return a!=null&&d(t,["config"],jM(r,a,t)),t}function Gm(r,e){const t={},n=f(e,["gcsUri"]);n!=null&&d(t,["gcsUri"],n);const o=f(e,["imageBytes"]);o!=null&&d(t,["bytesBase64Encoded"],fs(r,o));const a=f(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function tb(r,e){const t={},n=f(e,["maskMode"]);n!=null&&d(t,["maskMode"],n);const o=f(e,["segmentationClasses"]);o!=null&&d(t,["maskClasses"],o);const a=f(e,["maskDilation"]);return a!=null&&d(t,["dilation"],a),t}function nb(r,e){const t={},n=f(e,["controlType"]);n!=null&&d(t,["controlType"],n);const o=f(e,["enableControlImageComputation"]);return o!=null&&d(t,["computeControl"],o),t}function ib(r,e){const t={},n=f(e,["styleDescription"]);return n!=null&&d(t,["styleDescription"],n),t}function rb(r,e){const t={},n=f(e,["subjectType"]);n!=null&&d(t,["subjectType"],n);const o=f(e,["subjectDescription"]);return o!=null&&d(t,["subjectDescription"],o),t}function sb(r,e){const t={},n=f(e,["referenceImage"]);n!=null&&d(t,["referenceImage"],Gm(r,n));const o=f(e,["referenceId"]);o!=null&&d(t,["referenceId"],o);const a=f(e,["referenceType"]);a!=null&&d(t,["referenceType"],a);const c=f(e,["maskImageConfig"]);c!=null&&d(t,["maskImageConfig"],tb(r,c));const h=f(e,["controlImageConfig"]);h!=null&&d(t,["controlImageConfig"],nb(r,h));const y=f(e,["styleImageConfig"]);y!=null&&d(t,["styleImageConfig"],ib(r,y));const g=f(e,["subjectImageConfig"]);return g!=null&&d(t,["subjectImageConfig"],rb(r,g)),t}function ob(r,e,t){const n={},o=f(e,["outputGcsUri"]);t!==void 0&&o!=null&&d(t,["parameters","storageUri"],o);const a=f(e,["negativePrompt"]);t!==void 0&&a!=null&&d(t,["parameters","negativePrompt"],a);const c=f(e,["numberOfImages"]);t!==void 0&&c!=null&&d(t,["parameters","sampleCount"],c);const h=f(e,["aspectRatio"]);t!==void 0&&h!=null&&d(t,["parameters","aspectRatio"],h);const y=f(e,["guidanceScale"]);t!==void 0&&y!=null&&d(t,["parameters","guidanceScale"],y);const g=f(e,["seed"]);t!==void 0&&g!=null&&d(t,["parameters","seed"],g);const v=f(e,["safetyFilterLevel"]);t!==void 0&&v!=null&&d(t,["parameters","safetySetting"],v);const C=f(e,["personGeneration"]);t!==void 0&&C!=null&&d(t,["parameters","personGeneration"],C);const S=f(e,["includeSafetyAttributes"]);t!==void 0&&S!=null&&d(t,["parameters","includeSafetyAttributes"],S);const w=f(e,["includeRaiReason"]);t!==void 0&&w!=null&&d(t,["parameters","includeRaiReason"],w);const P=f(e,["language"]);t!==void 0&&P!=null&&d(t,["parameters","language"],P);const q=f(e,["outputMimeType"]);t!==void 0&&q!=null&&d(t,["parameters","outputOptions","mimeType"],q);const $=f(e,["outputCompressionQuality"]);t!==void 0&&$!=null&&d(t,["parameters","outputOptions","compressionQuality"],$);const re=f(e,["editMode"]);t!==void 0&&re!=null&&d(t,["parameters","editMode"],re);const ne=f(e,["baseSteps"]);return t!==void 0&&ne!=null&&d(t,["parameters","editConfig","baseSteps"],ne),n}function ab(r,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","model"],ct(r,n));const o=f(e,["prompt"]);o!=null&&d(t,["instances[0]","prompt"],o);const a=f(e,["referenceImages"]);if(a!=null){let h=a;Array.isArray(h)&&(h=h.map(y=>sb(r,y))),d(t,["instances[0]","referenceImages"],h)}const c=f(e,["config"]);return c!=null&&d(t,["config"],ob(r,c,t)),t}function lb(r,e,t){const n={},o=f(e,["includeRaiReason"]);t!==void 0&&o!=null&&d(t,["parameters","includeRaiReason"],o);const a=f(e,["outputMimeType"]);t!==void 0&&a!=null&&d(t,["parameters","outputOptions","mimeType"],a);const c=f(e,["outputCompressionQuality"]);t!==void 0&&c!=null&&d(t,["parameters","outputOptions","compressionQuality"],c);const h=f(e,["numberOfImages"]);t!==void 0&&h!=null&&d(t,["parameters","sampleCount"],h);const y=f(e,["mode"]);return t!==void 0&&y!=null&&d(t,["parameters","mode"],y),n}function ub(r,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","model"],ct(r,n));const o=f(e,["image"]);o!=null&&d(t,["instances[0]","image"],Gm(r,o));const a=f(e,["upscaleFactor"]);a!=null&&d(t,["parameters","upscaleConfig","upscaleFactor"],a);const c=f(e,["config"]);return c!=null&&d(t,["config"],lb(r,c,t)),t}function cb(r,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","name"],ct(r,n));const o=f(e,["config"]);return o!=null&&d(t,["config"],o),t}function fb(r,e,t){const n={},o=f(e,["pageSize"]);t!==void 0&&o!=null&&d(t,["_query","pageSize"],o);const a=f(e,["pageToken"]);t!==void 0&&a!=null&&d(t,["_query","pageToken"],a);const c=f(e,["filter"]);t!==void 0&&c!=null&&d(t,["_query","filter"],c);const h=f(e,["queryBase"]);return t!==void 0&&h!=null&&d(t,["_url","models_url"],KE(r,h)),n}function db(r,e){const t={},n=f(e,["config"]);return n!=null&&d(t,["config"],fb(r,n,t)),t}function hb(r,e,t){const n={},o=f(e,["displayName"]);t!==void 0&&o!=null&&d(t,["displayName"],o);const a=f(e,["description"]);t!==void 0&&a!=null&&d(t,["description"],a);const c=f(e,["defaultCheckpointId"]);return t!==void 0&&c!=null&&d(t,["defaultCheckpointId"],c),n}function mb(r,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","model"],ct(r,n));const o=f(e,["config"]);return o!=null&&d(t,["config"],hb(r,o,t)),t}function pb(r,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","name"],ct(r,n));const o=f(e,["config"]);return o!=null&&d(t,["config"],o),t}function gb(r,e,t){const n={},o=f(e,["systemInstruction"]);t!==void 0&&o!=null&&d(t,["systemInstruction"],ya(r,_n(r,o)));const a=f(e,["tools"]);if(t!==void 0&&a!=null){let h=a;Array.isArray(h)&&(h=h.map(y=>n0(r,y))),d(t,["tools"],h)}const c=f(e,["generationConfig"]);return t!==void 0&&c!=null&&d(t,["generationConfig"],c),n}function yb(r,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","model"],ct(r,n));const o=f(e,["contents"]);if(o!=null){let c=ai(r,o);Array.isArray(c)&&(c=c.map(h=>ya(r,h))),d(t,["contents"],c)}const a=f(e,["config"]);return a!=null&&d(t,["config"],gb(r,a,t)),t}function _b(r,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","model"],ct(r,n));const o=f(e,["contents"]);if(o!=null){let c=ai(r,o);Array.isArray(c)&&(c=c.map(h=>ya(r,h))),d(t,["contents"],c)}const a=f(e,["config"]);return a!=null&&d(t,["config"],a),t}function vb(r,e,t){const n={},o=f(e,["numberOfVideos"]);t!==void 0&&o!=null&&d(t,["parameters","sampleCount"],o);const a=f(e,["outputGcsUri"]);t!==void 0&&a!=null&&d(t,["parameters","storageUri"],a);const c=f(e,["fps"]);t!==void 0&&c!=null&&d(t,["parameters","fps"],c);const h=f(e,["durationSeconds"]);t!==void 0&&h!=null&&d(t,["parameters","durationSeconds"],h);const y=f(e,["seed"]);t!==void 0&&y!=null&&d(t,["parameters","seed"],y);const g=f(e,["aspectRatio"]);t!==void 0&&g!=null&&d(t,["parameters","aspectRatio"],g);const v=f(e,["resolution"]);t!==void 0&&v!=null&&d(t,["parameters","resolution"],v);const C=f(e,["personGeneration"]);t!==void 0&&C!=null&&d(t,["parameters","personGeneration"],C);const S=f(e,["pubsubTopic"]);t!==void 0&&S!=null&&d(t,["parameters","pubsubTopic"],S);const w=f(e,["negativePrompt"]);t!==void 0&&w!=null&&d(t,["parameters","negativePrompt"],w);const P=f(e,["enhancePrompt"]);t!==void 0&&P!=null&&d(t,["parameters","enhancePrompt"],P);const q=f(e,["generateAudio"]);return t!==void 0&&q!=null&&d(t,["parameters","generateAudio"],q),n}function Tb(r,e){const t={},n=f(e,["model"]);n!=null&&d(t,["_url","model"],ct(r,n));const o=f(e,["prompt"]);o!=null&&d(t,["instances[0]","prompt"],o);const a=f(e,["image"]);a!=null&&d(t,["instances[0]","image"],Gm(r,a));const c=f(e,["config"]);return c!=null&&d(t,["config"],vb(r,c,t)),t}function Eb(r,e){const t={},n=f(e,["fps"]);n!=null&&d(t,["fps"],n);const o=f(e,["endOffset"]);o!=null&&d(t,["endOffset"],o);const a=f(e,["startOffset"]);return a!=null&&d(t,["startOffset"],a),t}function Cb(r,e){const t={},n=f(e,["data"]);n!=null&&d(t,["data"],n);const o=f(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function Ab(r,e){const t={},n=f(e,["fileUri"]);n!=null&&d(t,["fileUri"],n);const o=f(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function Sb(r,e){const t={},n=f(e,["videoMetadata"]);n!=null&&d(t,["videoMetadata"],Eb(r,n));const o=f(e,["thought"]);o!=null&&d(t,["thought"],o);const a=f(e,["inlineData"]);a!=null&&d(t,["inlineData"],Cb(r,a));const c=f(e,["fileData"]);c!=null&&d(t,["fileData"],Ab(r,c));const h=f(e,["thoughtSignature"]);h!=null&&d(t,["thoughtSignature"],h);const y=f(e,["codeExecutionResult"]);y!=null&&d(t,["codeExecutionResult"],y);const g=f(e,["executableCode"]);g!=null&&d(t,["executableCode"],g);const v=f(e,["functionCall"]);v!=null&&d(t,["functionCall"],v);const C=f(e,["functionResponse"]);C!=null&&d(t,["functionResponse"],C);const S=f(e,["text"]);return S!=null&&d(t,["text"],S),t}function Rb(r,e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>Sb(r,c))),d(t,["parts"],a)}const o=f(e,["role"]);return o!=null&&d(t,["role"],o),t}function xb(r,e){const t={},n=f(e,["citationSources"]);return n!=null&&d(t,["citations"],n),t}function wb(r,e){const t={},n=f(e,["retrievedUrl"]);n!=null&&d(t,["retrievedUrl"],n);const o=f(e,["urlRetrievalStatus"]);return o!=null&&d(t,["urlRetrievalStatus"],o),t}function Ib(r,e){const t={},n=f(e,["urlMetadata"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>wb(r,a))),d(t,["urlMetadata"],o)}return t}function Mb(r,e){const t={},n=f(e,["content"]);n!=null&&d(t,["content"],Rb(r,n));const o=f(e,["citationMetadata"]);o!=null&&d(t,["citationMetadata"],xb(r,o));const a=f(e,["tokenCount"]);a!=null&&d(t,["tokenCount"],a);const c=f(e,["finishReason"]);c!=null&&d(t,["finishReason"],c);const h=f(e,["urlContextMetadata"]);h!=null&&d(t,["urlContextMetadata"],Ib(r,h));const y=f(e,["avgLogprobs"]);y!=null&&d(t,["avgLogprobs"],y);const g=f(e,["groundingMetadata"]);g!=null&&d(t,["groundingMetadata"],g);const v=f(e,["index"]);v!=null&&d(t,["index"],v);const C=f(e,["logprobsResult"]);C!=null&&d(t,["logprobsResult"],C);const S=f(e,["safetyRatings"]);return S!=null&&d(t,["safetyRatings"],S),t}function CT(r,e){const t={},n=f(e,["candidates"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(y=>Mb(r,y))),d(t,["candidates"],h)}const o=f(e,["modelVersion"]);o!=null&&d(t,["modelVersion"],o);const a=f(e,["promptFeedback"]);a!=null&&d(t,["promptFeedback"],a);const c=f(e,["usageMetadata"]);return c!=null&&d(t,["usageMetadata"],c),t}function bb(r,e){const t={},n=f(e,["values"]);return n!=null&&d(t,["values"],n),t}function Db(){return{}}function Nb(r,e){const t={},n=f(e,["embeddings"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>bb(r,c))),d(t,["embeddings"],a)}return f(e,["metadata"])!=null&&d(t,["metadata"],Db()),t}function Vb(r,e){const t={},n=f(e,["bytesBase64Encoded"]);n!=null&&d(t,["imageBytes"],fs(r,n));const o=f(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function i0(r,e){const t={},n=f(e,["safetyAttributes","categories"]);n!=null&&d(t,["categories"],n);const o=f(e,["safetyAttributes","scores"]);o!=null&&d(t,["scores"],o);const a=f(e,["contentType"]);return a!=null&&d(t,["contentType"],a),t}function Pb(r,e){const t={},n=f(e,["_self"]);n!=null&&d(t,["image"],Vb(r,n));const o=f(e,["raiFilteredReason"]);o!=null&&d(t,["raiFilteredReason"],o);const a=f(e,["_self"]);return a!=null&&d(t,["safetyAttributes"],i0(r,a)),t}function Ub(r,e){const t={},n=f(e,["predictions"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>Pb(r,c))),d(t,["generatedImages"],a)}const o=f(e,["positivePromptSafetyAttributes"]);return o!=null&&d(t,["positivePromptSafetyAttributes"],i0(r,o)),t}function Lb(r,e){const t={},n=f(e,["baseModel"]);n!=null&&d(t,["baseModel"],n);const o=f(e,["createTime"]);o!=null&&d(t,["createTime"],o);const a=f(e,["updateTime"]);return a!=null&&d(t,["updateTime"],a),t}function dm(r,e){const t={},n=f(e,["name"]);n!=null&&d(t,["name"],n);const o=f(e,["displayName"]);o!=null&&d(t,["displayName"],o);const a=f(e,["description"]);a!=null&&d(t,["description"],a);const c=f(e,["version"]);c!=null&&d(t,["version"],c);const h=f(e,["_self"]);h!=null&&d(t,["tunedModelInfo"],Lb(r,h));const y=f(e,["inputTokenLimit"]);y!=null&&d(t,["inputTokenLimit"],y);const g=f(e,["outputTokenLimit"]);g!=null&&d(t,["outputTokenLimit"],g);const v=f(e,["supportedGenerationMethods"]);return v!=null&&d(t,["supportedActions"],v),t}function kb(r,e){const t={},n=f(e,["nextPageToken"]);n!=null&&d(t,["nextPageToken"],n);const o=f(e,["_self"]);if(o!=null){let a=QE(r,o);Array.isArray(a)&&(a=a.map(c=>dm(r,c))),d(t,["models"],a)}return t}function Ob(){return{}}function Bb(r,e){const t={},n=f(e,["totalTokens"]);n!=null&&d(t,["totalTokens"],n);const o=f(e,["cachedContentTokenCount"]);return o!=null&&d(t,["cachedContentTokenCount"],o),t}function Fb(r,e){const t={},n=f(e,["video","uri"]);n!=null&&d(t,["uri"],n);const o=f(e,["video","encodedVideo"]);o!=null&&d(t,["videoBytes"],fs(r,o));const a=f(e,["encoding"]);return a!=null&&d(t,["mimeType"],a),t}function zb(r,e){const t={},n=f(e,["_self"]);return n!=null&&d(t,["video"],Fb(r,n)),t}function qb(r,e){const t={},n=f(e,["generatedSamples"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(h=>zb(r,h))),d(t,["generatedVideos"],c)}const o=f(e,["raiMediaFilteredCount"]);o!=null&&d(t,["raiMediaFilteredCount"],o);const a=f(e,["raiMediaFilteredReasons"]);return a!=null&&d(t,["raiMediaFilteredReasons"],a),t}function Gb(r,e){const t={},n=f(e,["name"]);n!=null&&d(t,["name"],n);const o=f(e,["metadata"]);o!=null&&d(t,["metadata"],o);const a=f(e,["done"]);a!=null&&d(t,["done"],a);const c=f(e,["error"]);c!=null&&d(t,["error"],c);const h=f(e,["response","generateVideoResponse"]);return h!=null&&d(t,["response"],qb(r,h)),t}function Hb(r,e){const t={},n=f(e,["fps"]);n!=null&&d(t,["fps"],n);const o=f(e,["endOffset"]);o!=null&&d(t,["endOffset"],o);const a=f(e,["startOffset"]);return a!=null&&d(t,["startOffset"],a),t}function Yb(r,e){const t={},n=f(e,["displayName"]);n!=null&&d(t,["displayName"],n);const o=f(e,["data"]);o!=null&&d(t,["data"],o);const a=f(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function $b(r,e){const t={},n=f(e,["displayName"]);n!=null&&d(t,["displayName"],n);const o=f(e,["fileUri"]);o!=null&&d(t,["fileUri"],o);const a=f(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function Kb(r,e){const t={},n=f(e,["videoMetadata"]);n!=null&&d(t,["videoMetadata"],Hb(r,n));const o=f(e,["thought"]);o!=null&&d(t,["thought"],o);const a=f(e,["inlineData"]);a!=null&&d(t,["inlineData"],Yb(r,a));const c=f(e,["fileData"]);c!=null&&d(t,["fileData"],$b(r,c));const h=f(e,["thoughtSignature"]);h!=null&&d(t,["thoughtSignature"],h);const y=f(e,["codeExecutionResult"]);y!=null&&d(t,["codeExecutionResult"],y);const g=f(e,["executableCode"]);g!=null&&d(t,["executableCode"],g);const v=f(e,["functionCall"]);v!=null&&d(t,["functionCall"],v);const C=f(e,["functionResponse"]);C!=null&&d(t,["functionResponse"],C);const S=f(e,["text"]);return S!=null&&d(t,["text"],S),t}function Qb(r,e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>Kb(r,c))),d(t,["parts"],a)}const o=f(e,["role"]);return o!=null&&d(t,["role"],o),t}function Jb(r,e){const t={},n=f(e,["citations"]);return n!=null&&d(t,["citations"],n),t}function Zb(r,e){const t={},n=f(e,["content"]);n!=null&&d(t,["content"],Qb(r,n));const o=f(e,["citationMetadata"]);o!=null&&d(t,["citationMetadata"],Jb(r,o));const a=f(e,["finishMessage"]);a!=null&&d(t,["finishMessage"],a);const c=f(e,["finishReason"]);c!=null&&d(t,["finishReason"],c);const h=f(e,["avgLogprobs"]);h!=null&&d(t,["avgLogprobs"],h);const y=f(e,["groundingMetadata"]);y!=null&&d(t,["groundingMetadata"],y);const g=f(e,["index"]);g!=null&&d(t,["index"],g);const v=f(e,["logprobsResult"]);v!=null&&d(t,["logprobsResult"],v);const C=f(e,["safetyRatings"]);return C!=null&&d(t,["safetyRatings"],C),t}function AT(r,e){const t={},n=f(e,["candidates"]);if(n!=null){let g=n;Array.isArray(g)&&(g=g.map(v=>Zb(r,v))),d(t,["candidates"],g)}const o=f(e,["createTime"]);o!=null&&d(t,["createTime"],o);const a=f(e,["responseId"]);a!=null&&d(t,["responseId"],a);const c=f(e,["modelVersion"]);c!=null&&d(t,["modelVersion"],c);const h=f(e,["promptFeedback"]);h!=null&&d(t,["promptFeedback"],h);const y=f(e,["usageMetadata"]);return y!=null&&d(t,["usageMetadata"],y),t}function Xb(r,e){const t={},n=f(e,["truncated"]);n!=null&&d(t,["truncated"],n);const o=f(e,["token_count"]);return o!=null&&d(t,["tokenCount"],o),t}function Wb(r,e){const t={},n=f(e,["values"]);n!=null&&d(t,["values"],n);const o=f(e,["statistics"]);return o!=null&&d(t,["statistics"],Xb(r,o)),t}function jb(r,e){const t={},n=f(e,["billableCharacterCount"]);return n!=null&&d(t,["billableCharacterCount"],n),t}function eD(r,e){const t={},n=f(e,["predictions[]","embeddings"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>Wb(r,c))),d(t,["embeddings"],a)}const o=f(e,["metadata"]);return o!=null&&d(t,["metadata"],jb(r,o)),t}function tD(r,e){const t={},n=f(e,["gcsUri"]);n!=null&&d(t,["gcsUri"],n);const o=f(e,["bytesBase64Encoded"]);o!=null&&d(t,["imageBytes"],fs(r,o));const a=f(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function r0(r,e){const t={},n=f(e,["safetyAttributes","categories"]);n!=null&&d(t,["categories"],n);const o=f(e,["safetyAttributes","scores"]);o!=null&&d(t,["scores"],o);const a=f(e,["contentType"]);return a!=null&&d(t,["contentType"],a),t}function Hm(r,e){const t={},n=f(e,["_self"]);n!=null&&d(t,["image"],tD(r,n));const o=f(e,["raiFilteredReason"]);o!=null&&d(t,["raiFilteredReason"],o);const a=f(e,["_self"]);a!=null&&d(t,["safetyAttributes"],r0(r,a));const c=f(e,["prompt"]);return c!=null&&d(t,["enhancedPrompt"],c),t}function nD(r,e){const t={},n=f(e,["predictions"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>Hm(r,c))),d(t,["generatedImages"],a)}const o=f(e,["positivePromptSafetyAttributes"]);return o!=null&&d(t,["positivePromptSafetyAttributes"],r0(r,o)),t}function iD(r,e){const t={},n=f(e,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Hm(r,a))),d(t,["generatedImages"],o)}return t}function rD(r,e){const t={},n=f(e,["predictions"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>Hm(r,a))),d(t,["generatedImages"],o)}return t}function sD(r,e){const t={},n=f(e,["endpoint"]);n!=null&&d(t,["name"],n);const o=f(e,["deployedModelId"]);return o!=null&&d(t,["deployedModelId"],o),t}function oD(r,e){const t={},n=f(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&d(t,["baseModel"],n);const o=f(e,["createTime"]);o!=null&&d(t,["createTime"],o);const a=f(e,["updateTime"]);return a!=null&&d(t,["updateTime"],a),t}function aD(r,e){const t={},n=f(e,["checkpointId"]);n!=null&&d(t,["checkpointId"],n);const o=f(e,["epoch"]);o!=null&&d(t,["epoch"],o);const a=f(e,["step"]);return a!=null&&d(t,["step"],a),t}function hm(r,e){const t={},n=f(e,["name"]);n!=null&&d(t,["name"],n);const o=f(e,["displayName"]);o!=null&&d(t,["displayName"],o);const a=f(e,["description"]);a!=null&&d(t,["description"],a);const c=f(e,["versionId"]);c!=null&&d(t,["version"],c);const h=f(e,["deployedModels"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(w=>sD(r,w))),d(t,["endpoints"],S)}const y=f(e,["labels"]);y!=null&&d(t,["labels"],y);const g=f(e,["_self"]);g!=null&&d(t,["tunedModelInfo"],oD(r,g));const v=f(e,["defaultCheckpointId"]);v!=null&&d(t,["defaultCheckpointId"],v);const C=f(e,["checkpoints"]);if(C!=null){let S=C;Array.isArray(S)&&(S=S.map(w=>aD(r,w))),d(t,["checkpoints"],S)}return t}function lD(r,e){const t={},n=f(e,["nextPageToken"]);n!=null&&d(t,["nextPageToken"],n);const o=f(e,["_self"]);if(o!=null){let a=QE(r,o);Array.isArray(a)&&(a=a.map(c=>hm(r,c))),d(t,["models"],a)}return t}function uD(){return{}}function cD(r,e){const t={},n=f(e,["totalTokens"]);return n!=null&&d(t,["totalTokens"],n),t}function fD(r,e){const t={},n=f(e,["tokensInfo"]);return n!=null&&d(t,["tokensInfo"],n),t}function dD(r,e){const t={},n=f(e,["gcsUri"]);n!=null&&d(t,["uri"],n);const o=f(e,["bytesBase64Encoded"]);o!=null&&d(t,["videoBytes"],fs(r,o));const a=f(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function hD(r,e){const t={},n=f(e,["_self"]);return n!=null&&d(t,["video"],dD(r,n)),t}function mD(r,e){const t={},n=f(e,["videos"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(h=>hD(r,h))),d(t,["generatedVideos"],c)}const o=f(e,["raiMediaFilteredCount"]);o!=null&&d(t,["raiMediaFilteredCount"],o);const a=f(e,["raiMediaFilteredReasons"]);return a!=null&&d(t,["raiMediaFilteredReasons"],a),t}function pD(r,e){const t={},n=f(e,["name"]);n!=null&&d(t,["name"],n);const o=f(e,["metadata"]);o!=null&&d(t,["metadata"],o);const a=f(e,["done"]);a!=null&&d(t,["done"],a);const c=f(e,["error"]);c!=null&&d(t,["error"],c);const h=f(e,["response"]);return h!=null&&d(t,["response"],mD(r,h)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const gD="Content-Type",yD="X-Server-Timeout",_D="User-Agent",mm="x-goog-api-client",vD="1.3.0",TD=`google-genai-sdk/${vD}`,ED="v1beta1",CD="v1beta",ST=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class s0 extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ClientError"}}class pm extends Error{constructor(e,t){t?super(e,{cause:t}):super(e,{cause:new Error().stack}),this.message=e,this.name="ServerError"}}class AD{constructor(e){var t,n;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const o={};this.clientOptions.vertexai?(o.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:ED,o.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(o.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:CD,o.baseUrl="https://generativelanguage.googleapis.com/"),o.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=o,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(o,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const n=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&n.push(e.apiVersion),n.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,n){const o=[this.getRequestUrlInternal(t)];return n&&o.push(this.getBaseResourcePath()),e!==""&&o.push(e),new URL(`${o.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,t,n);if(e.queryParams)for(const[c,h]of Object.entries(e.queryParams))o.searchParams.append(c,String(h));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,t,e.abortSignal),this.unaryApiCall(o,a,e.httpMethod)}patchHttpOptions(e,t){const n=JSON.parse(JSON.stringify(e));for(const[o,a]of Object.entries(t))typeof a=="object"?n[o]=Object.assign(Object.assign({},n[o]),a):a!==void 0&&(n[o]=a);return n}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),o=this.constructUrl(e.path,t,n);(!o.searchParams.has("alt")||o.searchParams.get("alt")!=="sse")&&o.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,t,e.abortSignal),this.streamApiCall(o,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,n){if(t&&t.timeout||n){const o=new AbortController,a=o.signal;t.timeout&&(t==null?void 0:t.timeout)>0&&setTimeout(()=>o.abort(),t.timeout),n&&n.addEventListener("abort",()=>{o.abort()}),e.signal=a}return e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async o=>(await RT(o),new lm(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}async streamApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then(async o=>(await RT(o),this.processStreamResponse(o))).catch(o=>{throw o instanceof Error?o:new Error(JSON.stringify(o))})}processStreamResponse(e){var t;return ea(this,arguments,function*(){const o=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),a=new TextDecoder("utf-8");if(!o)throw new Error("Response body is empty");try{let c="";for(;;){const{done:h,value:y}=yield mt(o.read());if(h){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const g=a.decode(y);try{const C=JSON.parse(g);if("error"in C){const S=JSON.parse(JSON.stringify(C.error)),w=S.status,P=S.code,q=`got status: ${w}. ${JSON.stringify(C)}`;if(P>=400&&P<500)throw new s0(q);if(P>=500&&P<600)throw new pm(q)}}catch(C){const S=C;if(S.name==="ClientError"||S.name==="ServerError")throw C}c+=g;let v=c.match(ST);for(;v;){const C=v[1];try{const S=new Response(C,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield mt(new lm(S)),c=c.slice(v[0].length),v=c.match(ST)}catch(S){throw new Error(`exception parsing stream chunk ${C}. ${S}`)}}}}finally{o.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(n=>{throw new Error(`exception ${n} sending request`)})}getDefaultHeaders(){const e={},t=TD+" "+this.clientOptions.userAgentExtra;return e[_D]=t,e[mm]=t,e[gD]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[n,o]of Object.entries(e.headers))t.append(n,o);e.timeout&&e.timeout>0&&t.append(yD,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var n;const o={};t!=null&&(o.mimeType=t.mimeType,o.name=t.name,o.displayName=t.displayName),o.name&&!o.name.startsWith("files/")&&(o.name=`files/${o.name}`);const a=this.clientOptions.uploader,c=await a.stat(e);o.sizeBytes=String(c.size);const h=(n=t==null?void 0:t.mimeType)!==null&&n!==void 0?n:c.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");o.mimeType=h;const y=await this.fetchUploadUrl(o,t);return a.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t){var n;let o={};t!=null&&t.httpOptions?o=t.httpOptions:o={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const a={file:e},c=await this.request({path:Re("upload/v1beta/files",a._url),body:JSON.stringify(a),httpMethod:"POST",httpOptions:o});if(!c||!(c!=null&&c.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(n=c==null?void 0:c.headers)===null||n===void 0?void 0:n["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function RT(r){var e;if(r===void 0)throw new pm("response is undefined");if(!r.ok){const t=r.status,n=r.statusText;let o;!((e=r.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await r.json():o={error:{message:await r.text(),code:r.status,status:r.statusText}};const a=`got status: ${t} ${n}. ${JSON.stringify(o)}`;throw t>=400&&t<500?new s0(a):t>=500&&t<600?new pm(a):new Error(a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const SD="mcp_used/unknown";function o0(r){for(const e of r)if(Ym(e)||typeof e=="object"&&"inputSchema"in e)return!0;return!1}function a0(r){var e;const t=(e=r[mm])!==null&&e!==void 0?e:"";r[mm]=(t+` ${SD}`).trimStart()}function RD(r){var e,t,n;return(n=(t=(e=r.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(o=>Ym(o)))!==null&&n!==void 0?n:!1}function xD(r){var e,t,n;return(n=(t=(e=r.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(o=>!Ym(o)))!==null&&n!==void 0?n:!1}function Ym(r){return r!==null&&typeof r=="object"&&r instanceof $m}function wD(r,e=100){return ea(this,arguments,function*(){let n,o=0;for(;o<e;){const a=yield mt(r.listTools({cursor:n}));for(const c of a.tools)yield yield mt(c),o++;if(!a.nextCursor)break;n=a.nextCursor}})}class $m{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new $m(e,t)}async initialize(){var e,t,n,o;if(this.mcpTools.length>0)return;const a={},c=[];for(const v of this.mcpClients)try{for(var h=!0,y=(t=void 0,Vl(wD(v))),g;g=await y.next(),e=g.done,!e;h=!0){o=g.value,h=!1;const C=o;c.push(C);const S=C.name;if(a[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);a[S]=v}}catch(C){t={error:C}}finally{try{!h&&!e&&(n=y.return)&&await n.call(y)}finally{if(t)throw t.error}}this.mcpTools=c,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),PR(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const n of e)if(n.name in this.functionNameToMcpClient){const a=await this.functionNameToMcpClient[n.name].callTool({name:n.name,arguments:n.args});t.push({functionResponse:{name:n.name,response:a.isError?{error:a}:a}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function ID(r,e,t){const n=new ER;let o;t.data instanceof Blob?o=JSON.parse(await t.data.text()):o=JSON.parse(t.data);const a=zI(r,o);Object.assign(n,a),e(n)}class MD{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n}async connect(e){var t,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const o=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),c=ND(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),y=`${o}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${h}`;let g=()=>{};const v=new Promise(ie=>{g=ie}),C=e.callbacks,S=function(){g({})},w=this.apiClient,P={onopen:S,onmessage:ie=>{ID(w,C.onmessage,ie)},onerror:(t=C==null?void 0:C.onerror)!==null&&t!==void 0?t:function(ie){},onclose:(n=C==null?void 0:C.onclose)!==null&&n!==void 0?n:function(ie){}},q=this.webSocketFactory.create(y,DD(c),P);q.connect(),await v;const $=ct(this.apiClient,e.model),re=jE(this.apiClient,{model:$}),ne=fm(this.apiClient,{setup:re});return q.send(JSON.stringify(ne)),new bD(q,this.apiClient)}}class bD{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=tI(this.apiClient,e),n=e0(this.apiClient,t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=nI(this.apiClient,e),n=fm(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const t=fm(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Wo.PLAY)}pause(){this.sendPlaybackControl(Wo.PAUSE)}stop(){this.sendPlaybackControl(Wo.STOP)}resetContext(){this.sendPlaybackControl(Wo.RESET_CONTEXT)}close(){this.conn.close()}}function DD(r){const e={};return r.forEach((t,n)=>{e[n]=t}),e}function ND(r){const e=new Headers;for(const[t,n]of Object.entries(r))e.append(t,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VD="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function PD(r,e,t){const n=new TR;let o;if(t.data instanceof Blob?o=JSON.parse(await t.data.text()):o=JSON.parse(t.data),r.isVertexAI()){const a=NI(r,o);Object.assign(n,a)}else{const a=DI(r,o);Object.assign(n,a)}e(n)}class UD{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n,this.music=new MD(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,n,o,a,c,h;const y=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let v;const C=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&o0(e.config.tools)&&a0(C);const S=BD(C);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S);else{const M=this.apiClient.getApiKey();let V="BidiGenerateContent",L="key";M!=null&&M.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),V="BidiGenerateContentConstrained",L="access_token"),v=`${y}/ws/google.ai.generativelanguage.${g}.GenerativeService.${V}?${L}=${M}`}let w=()=>{};const P=new Promise(M=>{w=M}),q=e.callbacks,$=function(){var M;(M=q==null?void 0:q.onopen)===null||M===void 0||M.call(q),w({})},re=this.apiClient,ne={onopen:$,onmessage:M=>{PD(re,q.onmessage,M)},onerror:(t=q==null?void 0:q.onerror)!==null&&t!==void 0?t:function(M){},onclose:(n=q==null?void 0:q.onclose)!==null&&n!==void 0?n:function(M){}},ie=this.webSocketFactory.create(v,OD(S),ne);ie.connect(),await P;let ue=ct(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&ue.startsWith("publishers/")){const M=this.apiClient.getProject(),V=this.apiClient.getLocation();ue=`projects/${M}/locations/${V}/`+ue}let _e={};this.apiClient.isVertexAI()&&((o=e.config)===null||o===void 0?void 0:o.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[tf.AUDIO]}:e.config.responseModalities=[tf.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const fe=(h=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[],b=[];for(const M of fe)if(this.isCallableTool(M)){const V=M;b.push(await V.tool())}else b.push(M);b.length>0&&(e.config.tools=b);const I={model:ue,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?_e=Qw(this.apiClient,I):_e=Kw(this.apiClient,I),delete _e.config,ie.send(JSON.stringify(_e)),new kD(ie,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const LD={turnComplete:!0};class kD{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let n=[];try{n=ai(e,t.turns),e.isVertexAI()?n=n.map(o=>ya(e,o)):n=n.map(o=>yf(e,o))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:n,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let n=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?n=t.functionResponses:n=[t.functionResponses],n.length===0)throw new Error("functionResponses is required.");for(const a of n){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(VD)}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},LD),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:eI(this.apiClient,e)}:t={realtimeInput:jw(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function OD(r){const e={};return r.forEach((t,n)=>{e[n]=t}),e}function BD(r){const e=new Headers;for(const[t,n]of Object.entries(r))e.append(t,n);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xT=10;function wT(r){var e,t,n;if(!((e=r==null?void 0:r.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let o=!1;for(const c of(t=r==null?void 0:r.tools)!==null&&t!==void 0?t:[])if(zc(c)){o=!0;break}if(!o)return!0;const a=(n=r==null?void 0:r.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function zc(r){return"callTool"in r&&typeof r.callTool=="function"}function IT(r){var e;return!(!((e=r==null?void 0:r.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FD extends ga{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var n,o,a,c,h;const y=await this.processParamsForMcpUsage(t);if(!RD(t)||wT(t.config))return await this.generateContentInternal(y);if(xD(t))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let g,v;const C=ai(this.apiClient,y.contents),S=(a=(o=(n=y.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&a!==void 0?a:xT;let w=0;for(;w<S&&(g=await this.generateContentInternal(y),!(!g.functionCalls||g.functionCalls.length===0));){const P=g.candidates[0].content,q=[];for(const $ of(h=(c=t.config)===null||c===void 0?void 0:c.tools)!==null&&h!==void 0?h:[])if(zc($)){const ne=await $.callTool(g.functionCalls);q.push(...ne)}w++,v={role:"user",parts:q},y.contents=ai(this.apiClient,y.contents),y.contents.push(P),y.contents.push(v),IT(y.config)&&(C.push(P),C.push(v))}return IT(y.config)&&(g.automaticFunctionCallingHistory=C),g},this.generateContentStream=async t=>{if(wT(t.config)){const n=await this.processParamsForMcpUsage(t);return await this.generateContentStreamInternal(n)}else return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(n=>{var o;let a;const c=[];if(n!=null&&n.generatedImages)for(const y of n.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((o=y==null?void 0:y.safetyAttributes)===null||o===void 0?void 0:o.contentType)==="Positive Prompt"?a=y==null?void 0:y.safetyAttributes:c.push(y);let h;return a?h={generatedImages:c,positivePromptSafetyAttributes:a}:h={generatedImages:c},h}),this.list=async t=>{var n;const c={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((n=c.config)===null||n===void 0)&&n.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new gf(aa.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(c),c)},this.editImage=async t=>{const n={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(n.referenceImages=t.referenceImages.map(o=>o.toReferenceImageAPI())),await this.editImageInternal(n)},this.upscaleImage=async t=>{let n={numberOfImages:1,mode:"upscale"};t.config&&(n=Object.assign(Object.assign({},n),t.config));const o={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:n};return await this.upscaleImageInternal(o)}}async processParamsForMcpUsage(e){var t,n,o;const a=(t=e.config)===null||t===void 0?void 0:t.tools;if(!a)return e;const c=await Promise.all(a.map(async y=>zc(y)?await y.tool():y)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(h.config.tools=c,e.config&&e.config.tools&&o0(e.config.tools)){const y=(o=(n=e.config.httpOptions)===null||n===void 0?void 0:n.headers)!==null&&o!==void 0?o:{};let g=Object.assign({},y);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),a0(g),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:g})}return h}async initAfcToolsMap(e){var t,n,o;const a=new Map;for(const c of(n=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&n!==void 0?n:[])if(zc(c)){const h=c,y=await h.tool();for(const g of(o=y.functionDeclarations)!==null&&o!==void 0?o:[]){if(!g.name)throw new Error("Function declaration name is required.");if(a.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);a.set(g.name,h)}}return a}async processAfcStream(e){var t,n,o;const a=(o=(n=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||n===void 0?void 0:n.maximumRemoteCalls)!==null&&o!==void 0?o:xT;let c=!1,h=0;const y=await this.initAfcToolsMap(e);return(function(g,v,C){var S,w;return ea(this,arguments,function*(){for(var P,q,$,re;h<a;){c&&(h++,c=!1);const _e=yield mt(g.processParamsForMcpUsage(C)),fe=yield mt(g.generateContentStreamInternal(_e)),b=[],I=[];try{for(var ne=!0,ie=(q=void 0,Vl(fe)),ue;ue=yield mt(ie.next()),P=ue.done,!P;ne=!0){re=ue.value,ne=!1;const M=re;if(yield yield mt(M),M.candidates&&(!((S=M.candidates[0])===null||S===void 0)&&S.content)){I.push(M.candidates[0].content);for(const V of(w=M.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(h<a&&V.functionCall){if(!V.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(V.functionCall.name)){const L=yield mt(v.get(V.functionCall.name).callTool([V.functionCall]));b.push(...L)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${V.functionCall.name}`)}}}}catch(M){q={error:M}}finally{try{!ne&&!P&&($=ie.return)&&(yield mt($.call(ie)))}finally{if(q)throw q.error}}if(b.length>0){c=!0;const M=new xl;M.candidates=[{content:{role:"user",parts:b}}],yield yield mt(M);const V=[];V.push(...I),V.push({role:"user",parts:b});const L=ai(g.apiClient,C.contents).concat(V);C.contents=L}else break}})})(this,y,e)}async generateContentInternal(e){var t,n,o,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=ET(this.apiClient,e);return h=Re("{model}:generateContent",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(v=>v.json()),c.then(v=>{const C=AT(this.apiClient,v),S=new xl;return Object.assign(S,C),S})}else{const g=TT(this.apiClient,e);return h=Re("{model}:generateContent",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>{const C=CT(this.apiClient,v),S=new xl;return Object.assign(S,C),S})}}async generateContentStreamInternal(e){var t,n,o,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=ET(this.apiClient,e);h=Re("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g.config,delete g._url,delete g._query;const v=this.apiClient;return c=v.requestStream({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}),c.then(function(C){return ea(this,arguments,function*(){var S,w,P,q;try{for(var $=!0,re=Vl(C),ne;ne=yield mt(re.next()),S=ne.done,!S;$=!0){q=ne.value,$=!1;const ue=AT(v,yield mt(q.json())),_e=new xl;Object.assign(_e,ue),yield yield mt(_e)}}catch(ie){w={error:ie}}finally{try{!$&&!S&&(P=re.return)&&(yield mt(P.call(re)))}finally{if(w)throw w.error}}})})}else{const g=TT(this.apiClient,e);h=Re("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g.config,delete g._url,delete g._query;const v=this.apiClient;return c=v.requestStream({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),c.then(function(C){return ea(this,arguments,function*(){var S,w,P,q;try{for(var $=!0,re=Vl(C),ne;ne=yield mt(re.next()),S=ne.done,!S;$=!0){q=ne.value,$=!1;const ue=CT(v,yield mt(q.json())),_e=new xl;Object.assign(_e,ue),yield yield mt(_e)}}catch(ie){w={error:ie}}finally{try{!$&&!S&&(P=re.return)&&(yield mt(P.call(re)))}finally{if(w)throw w.error}}})})}}async embedContent(e){var t,n,o,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=WM(this.apiClient,e);return h=Re("{model}:predict",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(v=>v.json()),c.then(v=>{const C=eD(this.apiClient,v),S=new eT;return Object.assign(S,C),S})}else{const g=dM(this.apiClient,e);return h=Re("{model}:batchEmbedContents",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>{const C=Nb(this.apiClient,v),S=new eT;return Object.assign(S,C),S})}}async generateImagesInternal(e){var t,n,o,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=eb(this.apiClient,e);return h=Re("{model}:predict",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(v=>v.json()),c.then(v=>{const C=nD(this.apiClient,v),S=new tT;return Object.assign(S,C),S})}else{const g=mM(this.apiClient,e);return h=Re("{model}:predict",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>{const C=Ub(this.apiClient,v),S=new tT;return Object.assign(S,C),S})}}async editImageInternal(e){var t,n;let o,a="",c={};if(this.apiClient.isVertexAI()){const h=ab(this.apiClient,e);return a=Re("{model}:predict",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(y=>y.json()),o.then(y=>{const g=iD(this.apiClient,y),v=new mR;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,n;let o,a="",c={};if(this.apiClient.isVertexAI()){const h=ub(this.apiClient,e);return a=Re("{model}:predict",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(y=>y.json()),o.then(y=>{const g=rD(this.apiClient,y),v=new pR;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,n,o,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=cb(this.apiClient,e);return h=Re("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(v=>v.json()),c.then(v=>hm(this.apiClient,v))}else{const g=pM(this.apiClient,e);return h=Re("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>dm(this.apiClient,v))}}async listInternal(e){var t,n,o,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=db(this.apiClient,e);return h=Re("{models_url}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(v=>v.json()),c.then(v=>{const C=lD(this.apiClient,v),S=new nT;return Object.assign(S,C),S})}else{const g=yM(this.apiClient,e);return h=Re("{models_url}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>{const C=kb(this.apiClient,v),S=new nT;return Object.assign(S,C),S})}}async update(e){var t,n,o,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=mb(this.apiClient,e);return h=Re("{model}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(v=>v.json()),c.then(v=>hm(this.apiClient,v))}else{const g=vM(this.apiClient,e);return h=Re("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>dm(this.apiClient,v))}}async delete(e){var t,n,o,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=pb(this.apiClient,e);return h=Re("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(v=>v.json()),c.then(()=>{const v=uD(),C=new iT;return Object.assign(C,v),C})}else{const g=TM(this.apiClient,e);return h=Re("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(()=>{const v=Ob(),C=new iT;return Object.assign(C,v),C})}}async countTokens(e){var t,n,o,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=yb(this.apiClient,e);return h=Re("{model}:countTokens",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(v=>v.json()),c.then(v=>{const C=cD(this.apiClient,v),S=new rT;return Object.assign(S,C),S})}else{const g=CM(this.apiClient,e);return h=Re("{model}:countTokens",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>{const C=Bb(this.apiClient,v),S=new rT;return Object.assign(S,C),S})}}async computeTokens(e){var t,n;let o,a="",c={};if(this.apiClient.isVertexAI()){const h=_b(this.apiClient,e);return a=Re("{model}:computeTokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(y=>y.json()),o.then(y=>{const g=fD(this.apiClient,y),v=new gR;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,n,o,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=Tb(this.apiClient,e);return h=Re("{model}:predictLongRunning",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(v=>v.json()),c.then(v=>pD(this.apiClient,v))}else{const g=RM(this.apiClient,e);return h=Re("{model}:predictLongRunning",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>Gb(this.apiClient,v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zD(r,e){const t={},n=f(e,["operationName"]);n!=null&&d(t,["_url","operationName"],n);const o=f(e,["config"]);return o!=null&&d(t,["config"],o),t}function qD(r,e){const t={},n=f(e,["operationName"]);n!=null&&d(t,["_url","operationName"],n);const o=f(e,["config"]);return o!=null&&d(t,["config"],o),t}function GD(r,e){const t={},n=f(e,["operationName"]);n!=null&&d(t,["operationName"],n);const o=f(e,["resourceName"]);o!=null&&d(t,["_url","resourceName"],o);const a=f(e,["config"]);return a!=null&&d(t,["config"],a),t}function HD(r,e){const t={},n=f(e,["video","uri"]);n!=null&&d(t,["uri"],n);const o=f(e,["video","encodedVideo"]);o!=null&&d(t,["videoBytes"],fs(r,o));const a=f(e,["encoding"]);return a!=null&&d(t,["mimeType"],a),t}function YD(r,e){const t={},n=f(e,["_self"]);return n!=null&&d(t,["video"],HD(r,n)),t}function $D(r,e){const t={},n=f(e,["generatedSamples"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(h=>YD(r,h))),d(t,["generatedVideos"],c)}const o=f(e,["raiMediaFilteredCount"]);o!=null&&d(t,["raiMediaFilteredCount"],o);const a=f(e,["raiMediaFilteredReasons"]);return a!=null&&d(t,["raiMediaFilteredReasons"],a),t}function KD(r,e){const t={},n=f(e,["name"]);n!=null&&d(t,["name"],n);const o=f(e,["metadata"]);o!=null&&d(t,["metadata"],o);const a=f(e,["done"]);a!=null&&d(t,["done"],a);const c=f(e,["error"]);c!=null&&d(t,["error"],c);const h=f(e,["response","generateVideoResponse"]);return h!=null&&d(t,["response"],$D(r,h)),t}function QD(r,e){const t={},n=f(e,["gcsUri"]);n!=null&&d(t,["uri"],n);const o=f(e,["bytesBase64Encoded"]);o!=null&&d(t,["videoBytes"],fs(r,o));const a=f(e,["mimeType"]);return a!=null&&d(t,["mimeType"],a),t}function JD(r,e){const t={},n=f(e,["_self"]);return n!=null&&d(t,["video"],QD(r,n)),t}function ZD(r,e){const t={},n=f(e,["videos"]);if(n!=null){let c=n;Array.isArray(c)&&(c=c.map(h=>JD(r,h))),d(t,["generatedVideos"],c)}const o=f(e,["raiMediaFilteredCount"]);o!=null&&d(t,["raiMediaFilteredCount"],o);const a=f(e,["raiMediaFilteredReasons"]);return a!=null&&d(t,["raiMediaFilteredReasons"],a),t}function MT(r,e){const t={},n=f(e,["name"]);n!=null&&d(t,["name"],n);const o=f(e,["metadata"]);o!=null&&d(t,["metadata"],o);const a=f(e,["done"]);a!=null&&d(t,["done"],a);const c=f(e,["error"]);c!=null&&d(t,["error"],c);const h=f(e,["response"]);return h!=null&&d(t,["response"],ZD(r,h)),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XD extends ga{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,n=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const o=t.name.split("/operations/")[0];let a;return n&&"httpOptions"in n&&(a=n.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:o,config:{httpOptions:a}})}else return this.getVideosOperationInternal({operationName:t.name,config:n})}async getVideosOperationInternal(e){var t,n,o,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=qD(this.apiClient,e);return h=Re("{operationName}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(v=>v.json()),c.then(v=>MT(this.apiClient,v))}else{const g=zD(this.apiClient,e);return h=Re("{operationName}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>KD(this.apiClient,v))}}async fetchPredictVideosOperationInternal(e){var t,n;let o,a="",c={};if(this.apiClient.isVertexAI()){const h=GD(this.apiClient,e);return a=Re("{resourceName}:fetchPredictOperation",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(y=>y.json()),o.then(y=>MT(this.apiClient,y))}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WD(r,e){const t={},n=f(e,["voiceName"]);return n!=null&&d(t,["voiceName"],n),t}function l0(r,e){const t={},n=f(e,["prebuiltVoiceConfig"]);return n!=null&&d(t,["prebuiltVoiceConfig"],WD(r,n)),t}function jD(r,e){const t={},n=f(e,["speaker"]);n!=null&&d(t,["speaker"],n);const o=f(e,["voiceConfig"]);return o!=null&&d(t,["voiceConfig"],l0(r,o)),t}function eN(r,e){const t={},n=f(e,["speakerVoiceConfigs"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>jD(r,a))),d(t,["speakerVoiceConfigs"],o)}return t}function tN(r,e){const t={},n=f(e,["voiceConfig"]);n!=null&&d(t,["voiceConfig"],l0(r,n));const o=f(e,["multiSpeakerVoiceConfig"]);o!=null&&d(t,["multiSpeakerVoiceConfig"],eN(r,o));const a=f(e,["languageCode"]);return a!=null&&d(t,["languageCode"],a),t}function nN(r,e){const t={},n=f(e,["fps"]);n!=null&&d(t,["fps"],n);const o=f(e,["endOffset"]);o!=null&&d(t,["endOffset"],o);const a=f(e,["startOffset"]);return a!=null&&d(t,["startOffset"],a),t}function iN(r,e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["data"]);n!=null&&d(t,["data"],n);const o=f(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function rN(r,e){const t={};if(f(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=f(e,["fileUri"]);n!=null&&d(t,["fileUri"],n);const o=f(e,["mimeType"]);return o!=null&&d(t,["mimeType"],o),t}function sN(r,e){const t={},n=f(e,["videoMetadata"]);n!=null&&d(t,["videoMetadata"],nN(r,n));const o=f(e,["thought"]);o!=null&&d(t,["thought"],o);const a=f(e,["inlineData"]);a!=null&&d(t,["inlineData"],iN(r,a));const c=f(e,["fileData"]);c!=null&&d(t,["fileData"],rN(r,c));const h=f(e,["thoughtSignature"]);h!=null&&d(t,["thoughtSignature"],h);const y=f(e,["codeExecutionResult"]);y!=null&&d(t,["codeExecutionResult"],y);const g=f(e,["executableCode"]);g!=null&&d(t,["executableCode"],g);const v=f(e,["functionCall"]);v!=null&&d(t,["functionCall"],v);const C=f(e,["functionResponse"]);C!=null&&d(t,["functionResponse"],C);const S=f(e,["text"]);return S!=null&&d(t,["text"],S),t}function oN(r,e){const t={},n=f(e,["parts"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(c=>sN(r,c))),d(t,["parts"],a)}const o=f(e,["role"]);return o!=null&&d(t,["role"],o),t}function aN(r,e){const t={},n=f(e,["behavior"]);n!=null&&d(t,["behavior"],n);const o=f(e,["description"]);o!=null&&d(t,["description"],o);const a=f(e,["name"]);a!=null&&d(t,["name"],a);const c=f(e,["parameters"]);c!=null&&d(t,["parameters"],c);const h=f(e,["response"]);return h!=null&&d(t,["response"],h),t}function lN(r,e){const t={},n=f(e,["startTime"]);n!=null&&d(t,["startTime"],n);const o=f(e,["endTime"]);return o!=null&&d(t,["endTime"],o),t}function uN(r,e){const t={},n=f(e,["timeRangeFilter"]);return n!=null&&d(t,["timeRangeFilter"],lN(r,n)),t}function cN(r,e){const t={},n=f(e,["mode"]);n!=null&&d(t,["mode"],n);const o=f(e,["dynamicThreshold"]);return o!=null&&d(t,["dynamicThreshold"],o),t}function fN(r,e){const t={},n=f(e,["dynamicRetrievalConfig"]);return n!=null&&d(t,["dynamicRetrievalConfig"],cN(r,n)),t}function dN(){return{}}function hN(r,e){const t={},n=f(e,["functionDeclarations"]);if(n!=null){let y=n;Array.isArray(y)&&(y=y.map(g=>aN(r,g))),d(t,["functionDeclarations"],y)}if(f(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=f(e,["googleSearch"]);o!=null&&d(t,["googleSearch"],uN(r,o));const a=f(e,["googleSearchRetrieval"]);if(a!=null&&d(t,["googleSearchRetrieval"],fN(r,a)),f(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(f(e,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");f(e,["urlContext"])!=null&&d(t,["urlContext"],dN());const h=f(e,["codeExecution"]);return h!=null&&d(t,["codeExecution"],h),t}function mN(r,e){const t={},n=f(e,["handle"]);if(n!=null&&d(t,["handle"],n),f(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function bT(){return{}}function pN(r,e){const t={},n=f(e,["disabled"]);n!=null&&d(t,["disabled"],n);const o=f(e,["startOfSpeechSensitivity"]);o!=null&&d(t,["startOfSpeechSensitivity"],o);const a=f(e,["endOfSpeechSensitivity"]);a!=null&&d(t,["endOfSpeechSensitivity"],a);const c=f(e,["prefixPaddingMs"]);c!=null&&d(t,["prefixPaddingMs"],c);const h=f(e,["silenceDurationMs"]);return h!=null&&d(t,["silenceDurationMs"],h),t}function gN(r,e){const t={},n=f(e,["automaticActivityDetection"]);n!=null&&d(t,["automaticActivityDetection"],pN(r,n));const o=f(e,["activityHandling"]);o!=null&&d(t,["activityHandling"],o);const a=f(e,["turnCoverage"]);return a!=null&&d(t,["turnCoverage"],a),t}function yN(r,e){const t={},n=f(e,["targetTokens"]);return n!=null&&d(t,["targetTokens"],n),t}function _N(r,e){const t={},n=f(e,["triggerTokens"]);n!=null&&d(t,["triggerTokens"],n);const o=f(e,["slidingWindow"]);return o!=null&&d(t,["slidingWindow"],yN(r,o)),t}function vN(r,e){const t={},n=f(e,["proactiveAudio"]);return n!=null&&d(t,["proactiveAudio"],n),t}function TN(r,e,t){const n={},o=f(e,["generationConfig"]);t!==void 0&&o!=null&&d(t,["setup","generationConfig"],o);const a=f(e,["responseModalities"]);t!==void 0&&a!=null&&d(t,["setup","generationConfig","responseModalities"],a);const c=f(e,["temperature"]);t!==void 0&&c!=null&&d(t,["setup","generationConfig","temperature"],c);const h=f(e,["topP"]);t!==void 0&&h!=null&&d(t,["setup","generationConfig","topP"],h);const y=f(e,["topK"]);t!==void 0&&y!=null&&d(t,["setup","generationConfig","topK"],y);const g=f(e,["maxOutputTokens"]);t!==void 0&&g!=null&&d(t,["setup","generationConfig","maxOutputTokens"],g);const v=f(e,["mediaResolution"]);t!==void 0&&v!=null&&d(t,["setup","generationConfig","mediaResolution"],v);const C=f(e,["seed"]);t!==void 0&&C!=null&&d(t,["setup","generationConfig","seed"],C);const S=f(e,["speechConfig"]);t!==void 0&&S!=null&&d(t,["setup","generationConfig","speechConfig"],tN(r,qm(r,S)));const w=f(e,["enableAffectiveDialog"]);t!==void 0&&w!=null&&d(t,["setup","generationConfig","enableAffectiveDialog"],w);const P=f(e,["systemInstruction"]);t!==void 0&&P!=null&&d(t,["setup","systemInstruction"],oN(r,_n(r,P)));const q=f(e,["tools"]);if(t!==void 0&&q!=null){let fe=Xl(r,q);Array.isArray(fe)&&(fe=fe.map(b=>hN(r,Zl(r,b)))),d(t,["setup","tools"],fe)}const $=f(e,["sessionResumption"]);t!==void 0&&$!=null&&d(t,["setup","sessionResumption"],mN(r,$));const re=f(e,["inputAudioTranscription"]);t!==void 0&&re!=null&&d(t,["setup","inputAudioTranscription"],bT());const ne=f(e,["outputAudioTranscription"]);t!==void 0&&ne!=null&&d(t,["setup","outputAudioTranscription"],bT());const ie=f(e,["realtimeInputConfig"]);t!==void 0&&ie!=null&&d(t,["setup","realtimeInputConfig"],gN(r,ie));const ue=f(e,["contextWindowCompression"]);t!==void 0&&ue!=null&&d(t,["setup","contextWindowCompression"],_N(r,ue));const _e=f(e,["proactivity"]);return t!==void 0&&_e!=null&&d(t,["setup","proactivity"],vN(r,_e)),n}function EN(r,e){const t={},n=f(e,["model"]);n!=null&&d(t,["setup","model"],ct(r,n));const o=f(e,["config"]);return o!=null&&d(t,["config"],TN(r,o,t)),t}function CN(r,e,t){const n={},o=f(e,["expireTime"]);t!==void 0&&o!=null&&d(t,["expireTime"],o);const a=f(e,["newSessionExpireTime"]);t!==void 0&&a!=null&&d(t,["newSessionExpireTime"],a);const c=f(e,["uses"]);t!==void 0&&c!=null&&d(t,["uses"],c);const h=f(e,["liveConnectConstraints"]);t!==void 0&&h!=null&&d(t,["bidiGenerateContentSetup"],EN(r,h));const y=f(e,["lockAdditionalFields"]);return t!==void 0&&y!=null&&d(t,["fieldMask"],y),n}function AN(r,e){const t={},n=f(e,["config"]);return n!=null&&d(t,["config"],CN(r,n,t)),t}function SN(r,e){const t={},n=f(e,["name"]);return n!=null&&d(t,["name"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RN(r){const e=[];for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)){const n=r[t];if(typeof n=="object"&&n!=null&&Object.keys(n).length>0){const o=Object.keys(n).map(a=>`${t}.${a}`);e.push(...o)}else e.push(t)}return e.join(",")}function xN(r,e){let t=null;const n=r.bidiGenerateContentSetup;if(typeof n=="object"&&n!==null&&"setup"in n){const a=n.setup;typeof a=="object"&&a!==null?(r.bidiGenerateContentSetup=a,t=a):delete r.bidiGenerateContentSetup}else n!==void 0&&delete r.bidiGenerateContentSetup;const o=r.fieldMask;if(t){const a=RN(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?r.fieldMask=a:delete r.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&o!==null&&Array.isArray(o)&&o.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];o.length>0&&(h=o.map(g=>c.includes(g)?`generationConfig.${g}`:g));const y=[];a&&y.push(a),h.length>0&&y.push(...h),y.length>0?r.fieldMask=y.join(","):delete r.fieldMask}else delete r.fieldMask}else o!==null&&Array.isArray(o)&&o.length>0?r.fieldMask=o.join(","):delete r.fieldMask;return r}class wN extends ga{constructor(e){super(),this.apiClient=e}async create(e){var t,n;let o,a="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=AN(this.apiClient,e);a=Re("auth_tokens",h._url),c=h._query,delete h.config,delete h._url,delete h._query;const y=xN(h,e.config);return o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(g=>g.json()),o.then(g=>SN(this.apiClient,g))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function IN(r,e){const t={},n=f(e,["name"]);n!=null&&d(t,["_url","name"],n);const o=f(e,["config"]);return o!=null&&d(t,["config"],o),t}function MN(r,e,t){const n={},o=f(e,["pageSize"]);t!==void 0&&o!=null&&d(t,["_query","pageSize"],o);const a=f(e,["pageToken"]);t!==void 0&&a!=null&&d(t,["_query","pageToken"],a);const c=f(e,["filter"]);return t!==void 0&&c!=null&&d(t,["_query","filter"],c),n}function bN(r,e){const t={},n=f(e,["config"]);return n!=null&&d(t,["config"],MN(r,n,t)),t}function DN(r,e){const t={},n=f(e,["textInput"]);n!=null&&d(t,["textInput"],n);const o=f(e,["output"]);return o!=null&&d(t,["output"],o),t}function NN(r,e){const t={};if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=f(e,["examples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(a=>DN(r,a))),d(t,["examples","examples"],o)}return t}function VN(r,e,t){const n={};if(f(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=f(e,["tunedModelDisplayName"]);if(t!==void 0&&o!=null&&d(t,["displayName"],o),f(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=f(e,["epochCount"]);t!==void 0&&a!=null&&d(t,["tuningTask","hyperparameters","epochCount"],a);const c=f(e,["learningRateMultiplier"]);if(c!=null&&d(n,["tuningTask","hyperparameters","learningRateMultiplier"],c),f(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=f(e,["batchSize"]);t!==void 0&&h!=null&&d(t,["tuningTask","hyperparameters","batchSize"],h);const y=f(e,["learningRate"]);return t!==void 0&&y!=null&&d(t,["tuningTask","hyperparameters","learningRate"],y),n}function PN(r,e){const t={},n=f(e,["baseModel"]);n!=null&&d(t,["baseModel"],n);const o=f(e,["trainingDataset"]);o!=null&&d(t,["tuningTask","trainingData"],NN(r,o));const a=f(e,["config"]);return a!=null&&d(t,["config"],VN(r,a,t)),t}function UN(r,e){const t={},n=f(e,["name"]);n!=null&&d(t,["_url","name"],n);const o=f(e,["config"]);return o!=null&&d(t,["config"],o),t}function LN(r,e,t){const n={},o=f(e,["pageSize"]);t!==void 0&&o!=null&&d(t,["_query","pageSize"],o);const a=f(e,["pageToken"]);t!==void 0&&a!=null&&d(t,["_query","pageToken"],a);const c=f(e,["filter"]);return t!==void 0&&c!=null&&d(t,["_query","filter"],c),n}function kN(r,e){const t={},n=f(e,["config"]);return n!=null&&d(t,["config"],LN(r,n,t)),t}function ON(r,e,t){const n={},o=f(e,["gcsUri"]);if(t!==void 0&&o!=null&&d(t,["supervisedTuningSpec","trainingDatasetUri"],o),f(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return n}function BN(r,e){const t={},n=f(e,["gcsUri"]);return n!=null&&d(t,["validationDatasetUri"],n),t}function FN(r,e,t){const n={},o=f(e,["validationDataset"]);t!==void 0&&o!=null&&d(t,["supervisedTuningSpec"],BN(r,o));const a=f(e,["tunedModelDisplayName"]);t!==void 0&&a!=null&&d(t,["tunedModelDisplayName"],a);const c=f(e,["description"]);t!==void 0&&c!=null&&d(t,["description"],c);const h=f(e,["epochCount"]);t!==void 0&&h!=null&&d(t,["supervisedTuningSpec","hyperParameters","epochCount"],h);const y=f(e,["learningRateMultiplier"]);t!==void 0&&y!=null&&d(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y);const g=f(e,["exportLastCheckpointOnly"]);t!==void 0&&g!=null&&d(t,["supervisedTuningSpec","exportLastCheckpointOnly"],g);const v=f(e,["adapterSize"]);if(t!==void 0&&v!=null&&d(t,["supervisedTuningSpec","hyperParameters","adapterSize"],v),f(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");return n}function zN(r,e){const t={},n=f(e,["baseModel"]);n!=null&&d(t,["baseModel"],n);const o=f(e,["trainingDataset"]);o!=null&&d(t,["supervisedTuningSpec","trainingDatasetUri"],ON(r,o,t));const a=f(e,["config"]);return a!=null&&d(t,["config"],FN(r,a,t)),t}function qN(r,e){const t={},n=f(e,["name"]);n!=null&&d(t,["model"],n);const o=f(e,["name"]);return o!=null&&d(t,["endpoint"],o),t}function u0(r,e){const t={},n=f(e,["name"]);n!=null&&d(t,["name"],n);const o=f(e,["state"]);o!=null&&d(t,["state"],YE(r,o));const a=f(e,["createTime"]);a!=null&&d(t,["createTime"],a);const c=f(e,["tuningTask","startTime"]);c!=null&&d(t,["startTime"],c);const h=f(e,["tuningTask","completeTime"]);h!=null&&d(t,["endTime"],h);const y=f(e,["updateTime"]);y!=null&&d(t,["updateTime"],y);const g=f(e,["description"]);g!=null&&d(t,["description"],g);const v=f(e,["baseModel"]);v!=null&&d(t,["baseModel"],v);const C=f(e,["_self"]);C!=null&&d(t,["tunedModel"],qN(r,C));const S=f(e,["distillationSpec"]);S!=null&&d(t,["distillationSpec"],S);const w=f(e,["experiment"]);w!=null&&d(t,["experiment"],w);const P=f(e,["labels"]);P!=null&&d(t,["labels"],P);const q=f(e,["pipelineJob"]);q!=null&&d(t,["pipelineJob"],q);const $=f(e,["serviceAccount"]);$!=null&&d(t,["serviceAccount"],$);const re=f(e,["tunedModelDisplayName"]);return re!=null&&d(t,["tunedModelDisplayName"],re),t}function GN(r,e){const t={},n=f(e,["nextPageToken"]);n!=null&&d(t,["nextPageToken"],n);const o=f(e,["tunedModels"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>u0(r,c))),d(t,["tuningJobs"],a)}return t}function HN(r,e){const t={},n=f(e,["name"]);n!=null&&d(t,["name"],n);const o=f(e,["metadata"]);o!=null&&d(t,["metadata"],o);const a=f(e,["done"]);a!=null&&d(t,["done"],a);const c=f(e,["error"]);return c!=null&&d(t,["error"],c),t}function YN(r,e){const t={},n=f(e,["checkpointId"]);n!=null&&d(t,["checkpointId"],n);const o=f(e,["epoch"]);o!=null&&d(t,["epoch"],o);const a=f(e,["step"]);a!=null&&d(t,["step"],a);const c=f(e,["endpoint"]);return c!=null&&d(t,["endpoint"],c),t}function $N(r,e){const t={},n=f(e,["model"]);n!=null&&d(t,["model"],n);const o=f(e,["endpoint"]);o!=null&&d(t,["endpoint"],o);const a=f(e,["checkpoints"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>YN(r,h))),d(t,["checkpoints"],c)}return t}function gm(r,e){const t={},n=f(e,["name"]);n!=null&&d(t,["name"],n);const o=f(e,["state"]);o!=null&&d(t,["state"],YE(r,o));const a=f(e,["createTime"]);a!=null&&d(t,["createTime"],a);const c=f(e,["startTime"]);c!=null&&d(t,["startTime"],c);const h=f(e,["endTime"]);h!=null&&d(t,["endTime"],h);const y=f(e,["updateTime"]);y!=null&&d(t,["updateTime"],y);const g=f(e,["error"]);g!=null&&d(t,["error"],g);const v=f(e,["description"]);v!=null&&d(t,["description"],v);const C=f(e,["baseModel"]);C!=null&&d(t,["baseModel"],C);const S=f(e,["tunedModel"]);S!=null&&d(t,["tunedModel"],$N(r,S));const w=f(e,["supervisedTuningSpec"]);w!=null&&d(t,["supervisedTuningSpec"],w);const P=f(e,["tuningDataStats"]);P!=null&&d(t,["tuningDataStats"],P);const q=f(e,["encryptionSpec"]);q!=null&&d(t,["encryptionSpec"],q);const $=f(e,["partnerModelTuningSpec"]);$!=null&&d(t,["partnerModelTuningSpec"],$);const re=f(e,["distillationSpec"]);re!=null&&d(t,["distillationSpec"],re);const ne=f(e,["experiment"]);ne!=null&&d(t,["experiment"],ne);const ie=f(e,["labels"]);ie!=null&&d(t,["labels"],ie);const ue=f(e,["pipelineJob"]);ue!=null&&d(t,["pipelineJob"],ue);const _e=f(e,["serviceAccount"]);_e!=null&&d(t,["serviceAccount"],_e);const fe=f(e,["tunedModelDisplayName"]);return fe!=null&&d(t,["tunedModelDisplayName"],fe),t}function KN(r,e){const t={},n=f(e,["nextPageToken"]);n!=null&&d(t,["nextPageToken"],n);const o=f(e,["tuningJobs"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(c=>gm(r,c))),d(t,["tuningJobs"],a)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QN extends ga{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new gf(aa.PAGED_ITEM_TUNING_JOBS,n=>this.listInternal(n),await this.listInternal(t),t),this.tune=async t=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(t);{const n=await this.tuneMldevInternal(t);let o="";return n.metadata!==void 0&&n.metadata.tunedModel!==void 0?o=n.metadata.tunedModel:n.name!==void 0&&n.name.includes("/operations/")&&(o=n.name.split("/operations/")[0]),{name:o,state:am.JOB_STATE_QUEUED}}}}async getInternal(e){var t,n,o,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=UN(this.apiClient,e);return h=Re("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(v=>v.json()),c.then(v=>gm(this.apiClient,v))}else{const g=IN(this.apiClient,e);return h=Re("{name}",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>u0(this.apiClient,v))}}async listInternal(e){var t,n,o,a;let c,h="",y={};if(this.apiClient.isVertexAI()){const g=kN(this.apiClient,e);return h=Re("tuningJobs",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(v=>v.json()),c.then(v=>{const C=KN(this.apiClient,v),S=new sT;return Object.assign(S,C),S})}else{const g=bN(this.apiClient,e);return h=Re("tunedModels",g._url),y=g._query,delete g.config,delete g._url,delete g._query,c=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),c.then(v=>{const C=GN(this.apiClient,v),S=new sT;return Object.assign(S,C),S})}}async tuneInternal(e){var t,n;let o,a="",c={};if(this.apiClient.isVertexAI()){const h=zN(this.apiClient,e);return a=Re("tuningJobs",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(y=>y.json()),o.then(y=>gm(this.apiClient,y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,n;let o,a="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=PN(this.apiClient,e);return a=Re("tunedModels",h._url),c=h._query,delete h.config,delete h._url,delete h._query,o=this.apiClient.request({path:a,queryParams:c,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(n=e.config)===null||n===void 0?void 0:n.abortSignal}).then(y=>y.json()),o.then(y=>HN(this.apiClient,y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JN{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const ZN=1024*1024*8,XN=3,WN=1e3,jN=2,Yh="x-goog-upload-status";async function e1(r,e,t){var n,o,a;let c=0,h=0,y=new lm(new Response),g="upload";for(c=r.size;h<c;){const C=Math.min(ZN,c-h),S=r.slice(h,h+C);h+C>=c&&(g+=", finalize");let w=0,P=WN;for(;w<XN&&(y=await t.request({path:"",body:S,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":g,"X-Goog-Upload-Offset":String(h),"Content-Length":String(C)}}}),!(!((n=y==null?void 0:y.headers)===null||n===void 0)&&n[Yh]));)w++,await n1(P),P=P*jN;if(h+=C,((o=y==null?void 0:y.headers)===null||o===void 0?void 0:o[Yh])!=="active")break;if(c<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((a=y==null?void 0:y.headers)===null||a===void 0?void 0:a[Yh])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function t1(r){return{size:r.size,type:r.type}}function n1(r){return new Promise(e=>setTimeout(e,r))}class i1{async upload(e,t,n){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await e1(e,t,n)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await t1(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class r1{create(e,t,n){return new s1(e,t,n)}}class s1{constructor(e,t,n){this.url=e,this.headers=t,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DT="x-goog-api-key";class o1{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(DT)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(DT,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const a1="gl-node/";class l1{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const n=hR(e,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion;const o=new o1(this.apiKey);this.apiClient=new AD({auth:o,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:a1+"web",uploader:new i1,downloader:new JN}),this.models=new FD(this.apiClient),this.live=new UD(this.apiClient,o,new r1),this.chats=new Bx(this.models,this.apiClient),this.caches=new Lx(this.apiClient),this.files=new Wx(this.apiClient),this.operations=new XD(this.apiClient),this.authTokens=new wN(this.apiClient),this.tunings=new QN(this.apiClient)}}const u1=async(r,e)=>{var t;try{return((t=(await new l1({apiKey:void 0}).models.generateContent({model:"gemini-3-flash-preview",contents:`The following is a community post about ${e}: "${r}"`,config:{systemInstruction:"You are a mental health advocate for the Centre for Addiction and Mental Health (CAMH) community feed. Generate a single, short (max 20 words), empathetic reflection or supportive tip that adds value to this post. Ensure it is professional yet warm. Do not use quotes. Focus on encouragement and resilience.",temperature:.6,topP:.9}})).text)==null?void 0:t.trim())||"Thank you for sharing your thoughts."}catch(n){return console.error("Gemini enhancement failed:",n),"Thank you for sharing. Remember that reaching out is a powerful step toward healing."}},c1=({onAddPost:r})=>{const[e,t]=cn.useState(""),[n,o]=cn.useState("General Support"),[a,c]=cn.useState(!1),h=async y=>{if(y.preventDefault(),!(!e.trim()||a)){c(!0);try{const g=await u1(e,n);r(e,n,g),t(""),o("General Support")}catch(g){console.error("Failed to post:",g)}finally{c(!1)}}};return O.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-slate-200 mb-8 transition-all hover:shadow-md",children:[O.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2 text-slate-800",children:[O.jsx("i",{className:"fa-solid fa-pen-to-square text-indigo-500"}),"Share a Helpful Thought or Resource"]}),O.jsxs("form",{onSubmit:h,children:[O.jsx("div",{className:"mb-4",children:O.jsx("textarea",{value:e,onChange:y=>t(y.target.value),placeholder:"What's a tip or encouraging word you'd like to share today?",className:"w-full h-32 p-4 bg-slate-50 border border-slate-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-transparent outline-none transition-all resize-none text-slate-700 placeholder:text-slate-400",required:!0})}),O.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[O.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[O.jsx("label",{className:"text-sm font-medium text-slate-500 whitespace-nowrap",children:"Category:"}),O.jsxs("select",{value:n,onChange:y=>o(y.target.value),className:"bg-slate-50 border border-slate-200 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-indigo-500 outline-none w-full text-slate-700 cursor-pointer transition-colors",children:[O.jsx("option",{value:"General Support",children:"General Support"}),O.jsx("option",{value:"Anxiety",children:"Anxiety"}),O.jsx("option",{value:"Depression",children:"Depression"}),O.jsx("option",{value:"Resources",children:"Resources"})]})]}),O.jsx("button",{type:"submit",disabled:a||!e.trim(),className:`w-full sm:w-auto px-8 py-2.5 rounded-xl font-semibold transition-all flex items-center justify-center gap-2 ${a||!e.trim()?"bg-slate-100 text-slate-400 cursor-not-allowed border border-slate-200":"bg-indigo-600 hover:bg-indigo-700 text-white shadow-sm hover:shadow-md active:scale-95"}`,children:a?O.jsxs(O.Fragment,{children:[O.jsx("i",{className:"fa-solid fa-circle-notch animate-spin"}),"Processing..."]}):O.jsxs(O.Fragment,{children:[O.jsx("i",{className:"fa-solid fa-paper-plane text-xs"}),"Post Anonymously"]})})]})]})]})},f1=({posts:r,onDeletePost:e,onToggleHelpful:t,moderatorMode:n})=>{const[o,a]=cn.useState(null),[c,h]=cn.useState(null),y=g=>{if(o!==g){a(g);return}h(g),setTimeout(()=>{e(g),a(null),h(null)},200)};return r.length===0?O.jsxs("div",{className:"text-center py-16 bg-white rounded-3xl border border-dashed border-slate-300",children:[O.jsx("div",{className:"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4 text-slate-300",children:O.jsx("i",{className:"fa-solid fa-comment-medical text-2xl"})}),O.jsx("h4",{className:"text-slate-800 font-bold mb-1",children:"Quiet in the community"}),O.jsx("p",{className:"text-slate-500 text-sm",children:"Be the first to share a supportive thought above."})]}):O.jsx("div",{className:"space-y-6",children:r.map(g=>O.jsxs("div",{className:`group bg-white rounded-2xl shadow-sm border transition-all duration-300 overflow-hidden relative ${c===g.id?"opacity-0 scale-95 translate-y-4":"opacity-100 scale-100 translate-y-0"} ${n?"border-red-200 ring-1 ring-red-50 shadow-sm":"border-slate-200 hover:border-indigo-200 hover:shadow-md"}`,children:[n&&O.jsxs("div",{className:"bg-red-50 border-b border-red-100 px-6 py-3 flex items-center justify-between relative z-30 pointer-events-auto",children:[O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx("span",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),O.jsx("span",{className:"text-[10px] font-black text-red-500 uppercase tracking-[0.2em]",children:"Moderator Action Required"})]}),O.jsxs("div",{className:"flex items-center gap-2",children:[o===g.id&&O.jsx("button",{onClick:()=>a(null),className:"text-slate-500 hover:text-slate-700 text-[10px] font-bold uppercase tracking-tight px-3 py-1 bg-white rounded-lg border border-slate-200 shadow-sm",children:"Cancel"}),O.jsxs("button",{type:"button",onClick:v=>{v.preventDefault(),v.stopPropagation(),y(g.id)},className:`px-4 py-1.5 rounded-lg text-xs font-bold transition-all border flex items-center gap-2 shadow-sm active:scale-95 ${o===g.id?"bg-red-600 text-white border-red-700 animate-pulse":"bg-white text-red-600 border-red-200 hover:bg-red-50"}`,children:[O.jsx("i",{className:`fa-solid ${o===g.id?"fa-triangle-exclamation":"fa-trash-can"} text-[10px]`}),o===g.id?"Confirm Removal?":"Delete Post"]})]})]}),O.jsxs("div",{className:"p-6",children:[O.jsxs("div",{className:"flex items-center justify-between mb-4",children:[O.jsx("span",{className:"inline-block px-3 py-1 bg-indigo-50 text-indigo-700 text-[10px] font-black rounded-full uppercase tracking-widest",children:g.category}),O.jsxs("span",{className:"text-slate-400 text-xs flex items-center gap-1.5 font-medium",children:[O.jsx("i",{className:"fa-regular fa-calendar"}),new Date(g.timestamp).toLocaleDateString()]})]}),O.jsx("p",{className:"text-slate-700 leading-relaxed mb-6 whitespace-pre-wrap font-medium",children:g.content}),g.aiReflection&&O.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-white border-l-4 border-indigo-400 p-4 rounded-r-xl",children:[O.jsxs("div",{className:"flex items-center gap-2 text-indigo-600 font-bold text-[10px] uppercase tracking-widest mb-1.5",children:[O.jsx("i",{className:"fa-solid fa-sparkles"}),"Supportive Reflection"]}),O.jsxs("p",{className:"text-slate-600 text-sm italic leading-snug",children:['"',g.aiReflection,'"']})]}),O.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-50 flex items-center justify-between",children:[O.jsxs("div",{className:"flex items-center gap-2",children:[O.jsx("div",{className:"w-6 h-6 bg-slate-100 rounded-full flex items-center justify-center text-slate-400 text-[10px]",children:O.jsx("i",{className:"fa-solid fa-user"})}),O.jsx("span",{className:"text-slate-400 text-xs italic",children:g.author})]}),O.jsx("div",{className:"flex items-center gap-4",children:O.jsxs("button",{type:"button",onClick:()=>t(g.id),className:`transition-all duration-300 flex items-center gap-2 px-3 py-1.5 rounded-full border group/btn active:scale-90 ${(g.helpfulCount||0)>0?"bg-indigo-50 border-indigo-100 text-indigo-600":"bg-white border-slate-100 text-slate-400 hover:border-indigo-200 hover:text-indigo-600"}`,children:[O.jsx("i",{className:`${(g.helpfulCount||0)>0?"fa-solid":"fa-regular"} fa-heart group-hover/btn:scale-125 transition-transform`}),O.jsx("span",{className:"text-xs font-bold",children:(g.helpfulCount||0)>0?g.helpfulCount:"Helpful"})]})})]})]})]},g.id))})},d1=({children:r})=>{const[e,t]=cn.useState(!1),[n,o]=cn.useState(!0);cn.useEffect(()=>{localStorage.getItem("camh_privacy_accepted")==="true"&&t(!0),o(!1)},[]);const a=()=>{localStorage.setItem("camh_privacy_accepted","true"),t(!0)};return n?null:e?O.jsx(O.Fragment,{children:r}):O.jsxs("div",{className:"fixed inset-0 z-[200] bg-slate-900/60 backdrop-blur-xl flex items-center justify-center p-4 animate-fade-in overflow-y-auto",children:[O.jsxs("div",{className:"bg-white rounded-[2.5rem] p-8 md:p-10 max-w-3xl w-full shadow-2xl border border-slate-100 my-8",children:[O.jsxs("div",{className:"text-center mb-6",children:[O.jsx("div",{className:"w-16 h-16 bg-indigo-50 text-indigo-600 rounded-full flex items-center justify-center mx-auto mb-4",children:O.jsx("i",{className:"fa-solid fa-shield-halved text-2xl"})}),O.jsx("h2",{className:"text-3xl font-black text-slate-900 mb-2",children:"Privacy Policy"}),O.jsx("p",{className:"text-slate-500 text-sm",children:"Please review our privacy policy before using this platform."})]}),O.jsxs("div",{className:"bg-slate-50 rounded-2xl p-6 md:p-8 max-h-[50vh] overflow-y-auto border border-slate-200 mb-6 space-y-6 text-left",children:[O.jsxs("section",{children:[O.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-3 flex items-center gap-2",children:[O.jsx("i",{className:"fa-solid fa-circle-info text-indigo-600 text-sm"}),"Overview"]}),O.jsx("p",{className:"text-slate-700 text-sm leading-relaxed",children:"The Fund CAMH platform is a community awareness project designed to redirect support to the Centre for Addiction and Mental Health (CAMH). This privacy policy explains how we handle your information when you use our platform."})]}),O.jsxs("section",{children:[O.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-3 flex items-center gap-2",children:[O.jsx("i",{className:"fa-solid fa-database text-indigo-600 text-sm"}),"Data Collection Practices"]}),O.jsx("p",{className:"text-slate-700 text-sm leading-relaxed mb-2",children:"We collect minimal information necessary to operate the community feed:"}),O.jsxs("ul",{className:"list-disc list-inside text-slate-700 text-sm space-y-1 ml-2",children:[O.jsx("li",{children:"Anonymous community posts you choose to share"}),O.jsx("li",{children:"Post categories and timestamps"}),O.jsx("li",{children:"Helpful vote counts on posts"}),O.jsx("li",{children:"Local browser storage for your privacy acceptance"})]}),O.jsxs("p",{className:"text-slate-700 text-sm leading-relaxed mt-2",children:[O.jsx("strong",{className:"text-slate-900",children:"We do NOT collect:"})," Personal identifying information, email addresses, names, or any contact details. All posts are completely anonymous."]})]}),O.jsxs("section",{children:[O.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-3 flex items-center gap-2",children:[O.jsx("i",{className:"fa-solid fa-comments text-indigo-600 text-sm"}),"Use of Community Posts"]}),O.jsx("p",{className:"text-slate-700 text-sm leading-relaxed",children:"Community posts are shared publicly on the platform to foster support and awareness. By submitting a post, you grant permission for it to be displayed anonymously on the community feed. Posts may be moderated for appropriateness. You are responsible for ensuring your posts do not contain personally identifying information."})]}),O.jsxs("section",{children:[O.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-3 flex items-center gap-2",children:[O.jsx("i",{className:"fa-solid fa-robot text-indigo-600 text-sm"}),"AI Reflection Service"]}),O.jsx("p",{className:"text-slate-700 text-sm leading-relaxed",children:"Our platform uses Google's Gemini AI to provide supportive reflections on community posts. When you submit a post, the content is sent to Gemini API to generate an empathetic response. This processing is done in real-time and the content is not stored by the AI service beyond what's necessary for generating the reflection. Please refer to Google's privacy policy for information on how they handle API requests."})]}),O.jsxs("section",{children:[O.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-3 flex items-center gap-2",children:[O.jsx("i",{className:"fa-solid fa-user-shield text-indigo-600 text-sm"}),"Your Privacy Rights"]}),O.jsx("p",{className:"text-slate-700 text-sm leading-relaxed mb-2",children:"You have the right to:"}),O.jsxs("ul",{className:"list-disc list-inside text-slate-700 text-sm space-y-1 ml-2",children:[O.jsx("li",{children:"Access and review posts you have contributed (through browser history during your session)"}),O.jsx("li",{children:"Request removal of your posts by contacting a moderator"}),O.jsx("li",{children:"Clear your browser's local storage at any time to reset your privacy acceptance"}),O.jsx("li",{children:"Stop using the platform at any time"})]})]}),O.jsxs("section",{children:[O.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-3 flex items-center gap-2",children:[O.jsx("i",{className:"fa-solid fa-shield-heart text-indigo-600 text-sm"}),"Data Security"]}),O.jsx("p",{className:"text-slate-700 text-sm leading-relaxed",children:"We use Firebase for secure data storage and synchronization. All data transmission is encrypted. However, please remember that no method of transmission over the internet is 100% secure. We encourage you to avoid sharing sensitive personal information in your posts."})]}),O.jsxs("section",{children:[O.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-3 flex items-center gap-2",children:[O.jsx("i",{className:"fa-solid fa-hands-helping text-indigo-600 text-sm"}),"Third-Party Services"]}),O.jsx("p",{className:"text-slate-700 text-sm leading-relaxed",children:"This platform integrates with:"}),O.jsxs("ul",{className:"list-disc list-inside text-slate-700 text-sm space-y-1 ml-2 mt-2",children:[O.jsxs("li",{children:[O.jsx("strong",{children:"CAMH Donation Portal:"})," When you click donation links, you are directed to CAMH's official donation page. We do not handle any payment information."]}),O.jsxs("li",{children:[O.jsx("strong",{children:"Google Gemini API:"})," Used for AI-generated reflections on posts."]}),O.jsxs("li",{children:[O.jsx("strong",{children:"Firebase:"})," Used for real-time database and hosting services."]})]})]}),O.jsxs("section",{children:[O.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-3 flex items-center gap-2",children:[O.jsx("i",{className:"fa-solid fa-child text-indigo-600 text-sm"}),"Children's Privacy"]}),O.jsx("p",{className:"text-slate-700 text-sm leading-relaxed",children:"This platform is not intended for children under 13. We do not knowingly collect information from children. If you believe a child has submitted information, please contact us immediately."})]}),O.jsxs("section",{children:[O.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-3 flex items-center gap-2",children:[O.jsx("i",{className:"fa-solid fa-file-contract text-indigo-600 text-sm"}),"Changes to Privacy Policy"]}),O.jsx("p",{className:"text-slate-700 text-sm leading-relaxed",children:"We may update this privacy policy from time to time. Changes will be reflected on this page. Your continued use of the platform after changes constitutes acceptance of the updated policy."})]}),O.jsxs("section",{children:[O.jsxs("h3",{className:"text-lg font-bold text-slate-900 mb-3 flex items-center gap-2",children:[O.jsx("i",{className:"fa-solid fa-envelope text-indigo-600 text-sm"}),"Contact Information"]}),O.jsxs("p",{className:"text-slate-700 text-sm leading-relaxed",children:["If you have questions or concerns about this privacy policy or your data, please contact the project administrator through the platform's admin interface. For questions about CAMH's services or donations, please visit"," ",O.jsx("a",{href:"https://www.camh.ca",target:"_blank",rel:"noopener noreferrer",className:"text-indigo-600 hover:text-indigo-700 font-semibold underline",children:"www.camh.ca"}),"."]})]}),O.jsx("section",{className:"pt-4 border-t border-slate-200",children:O.jsx("p",{className:"text-slate-500 text-xs italic",children:"Last updated: February 2026"})})]}),O.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:O.jsxs("button",{onClick:a,className:"w-full sm:w-auto bg-indigo-600 hover:bg-indigo-700 text-white px-12 py-4 rounded-2xl font-bold shadow-xl transition-all active:scale-95 flex items-center justify-center gap-3",children:[O.jsx("i",{className:"fa-solid fa-check-circle"}),"I Agree"]})}),O.jsx("p",{className:"text-center text-slate-400 text-xs mt-6",children:'By clicking "I Agree", you acknowledge that you have read and understood this privacy policy.'})]}),O.jsx("style",{children:`
        @keyframes fade-in {
          from { opacity: 0; transform: translateY(15px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in { 
          animation: fade-in 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards; 
        }
      `})]})};var NT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let o=r.charCodeAt(n);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},h1=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const o=r[t++];if(o<128)e[n++]=String.fromCharCode(o);else if(o>191&&o<224){const a=r[t++];e[n++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=r[t++],c=r[t++],h=r[t++],y=((o&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[n++]=String.fromCharCode(55296+(y>>10)),e[n++]=String.fromCharCode(56320+(y&1023))}else{const a=r[t++],c=r[t++];e[n++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},f0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let o=0;o<r.length;o+=3){const a=r[o],c=o+1<r.length,h=c?r[o+1]:0,y=o+2<r.length,g=y?r[o+2]:0,v=a>>2,C=(a&3)<<4|h>>4;let S=(h&15)<<2|g>>6,w=g&63;y||(w=64,c||(S=64)),n.push(t[v],t[C],t[S],t[w])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(c0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):h1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let o=0;o<r.length;){const a=t[r.charAt(o++)],h=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const C=o<r.length?t[r.charAt(o)]:64;if(++o,a==null||h==null||g==null||C==null)throw new m1;const S=a<<2|h>>4;if(n.push(S),g!==64){const w=h<<4&240|g>>2;if(n.push(w),C!==64){const P=g<<6&192|C;n.push(P)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};let m1=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}};const p1=function(r){const e=c0(r);return f0.encodeByteArray(e,!0)},d0=function(r){return p1(r).replace(/\./g,"")},g1=function(r){try{return f0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1=()=>y1().__FIREBASE_DEFAULTS__,v1=()=>{if(typeof process>"u"||typeof NT>"u")return;const r=NT.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},T1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&g1(r[1]);return e&&JSON.parse(e)},E1=()=>{try{return _1()||v1()||T1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},h0=()=>{var r;return(r=E1())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}function A1(){try{return typeof indexedDB=="object"}catch{return!1}}function S1(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(n);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var a;e(((a=o.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1="FirebaseError";let Km=class m0 extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=R1,Object.setPrototypeOf(this,m0.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,p0.prototype.create)}},p0=class{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?x1(a,n):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new Km(o,h,n)}};function x1(r,e){return r.replace(w1,(t,n)=>{const o=e[n];return o!=null?String(o):`<${n}?>`})}const w1=/\{\$([^}]+)}/g;function ym(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const o of t){if(!n.includes(o))return!1;const a=r[o],c=e[o];if(VT(a)&&VT(c)){if(!ym(a,c))return!1}else if(a!==c)return!1}for(const o of n)if(!t.includes(o))return!1;return!0}function VT(r){return r!==null&&typeof r=="object"}let sf=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new C1;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&n.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(o)return null;throw a}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(b1(e))try{this.getOrInitializeService({instanceIdentifier:Ys})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:o});n.resolve(a)}catch{}}}}clearInstance(e=Ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ys){return this.instances.has(e)}getOptions(e=Ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[a,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);n===h&&c.resolve(o)}return o}onInit(e,t){var n;const o=this.normalizeInstanceIdentifier(t),a=(n=this.onInitCallbacks.get(o))!==null&&n!==void 0?n:new Set;a.add(e),this.onInitCallbacks.set(o,a);const c=this.instances.get(o);return c&&e(c,o),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const o of n)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:M1(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Ys){return this.component?this.component.multipleInstances?e:Ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function M1(r){return r===Ys?void 0:r}function b1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new I1(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(pt||(pt={}));const N1={debug:pt.DEBUG,verbose:pt.VERBOSE,info:pt.INFO,warn:pt.WARN,error:pt.ERROR,silent:pt.SILENT},V1=pt.INFO,P1={[pt.DEBUG]:"log",[pt.VERBOSE]:"log",[pt.INFO]:"info",[pt.WARN]:"warn",[pt.ERROR]:"error"},U1=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),o=P1[e];if(o)console[o](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let L1=class{constructor(e){this.name=e,this._logLevel=V1,this._logHandler=U1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?N1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pt.DEBUG,...e),this._logHandler(this,pt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pt.VERBOSE,...e),this._logHandler(this,pt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pt.INFO,...e),this._logHandler(this,pt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pt.WARN,...e),this._logHandler(this,pt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pt.ERROR,...e),this._logHandler(this,pt.ERROR,...e)}};const k1=(r,e)=>e.some(t=>r instanceof t);let PT,UT;function O1(){return PT||(PT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function B1(){return UT||(UT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const g0=new WeakMap,_m=new WeakMap,y0=new WeakMap,$h=new WeakMap,Qm=new WeakMap;function F1(r){const e=new Promise((t,n)=>{const o=()=>{r.removeEventListener("success",a),r.removeEventListener("error",c)},a=()=>{t(es(r.result)),o()},c=()=>{n(r.error),o()};r.addEventListener("success",a),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&g0.set(t,r)}).catch(()=>{}),Qm.set(e,r),e}function z1(r){if(_m.has(r))return;const e=new Promise((t,n)=>{const o=()=>{r.removeEventListener("complete",a),r.removeEventListener("error",c),r.removeEventListener("abort",c)},a=()=>{t(),o()},c=()=>{n(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",a),r.addEventListener("error",c),r.addEventListener("abort",c)});_m.set(r,e)}let vm={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return _m.get(r);if(e==="objectStoreNames")return r.objectStoreNames||y0.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return es(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function q1(r){vm=r(vm)}function G1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(Kh(this),e,...t);return y0.set(n,e.sort?e.sort():[e]),es(n)}:B1().includes(r)?function(...e){return r.apply(Kh(this),e),es(g0.get(this))}:function(...e){return es(r.apply(Kh(this),e))}}function H1(r){return typeof r=="function"?G1(r):(r instanceof IDBTransaction&&z1(r),k1(r,O1())?new Proxy(r,vm):r)}function es(r){if(r instanceof IDBRequest)return F1(r);if($h.has(r))return $h.get(r);const e=H1(r);return e!==r&&($h.set(r,e),Qm.set(e,r)),e}const Kh=r=>Qm.get(r);function Y1(r,e,{blocked:t,upgrade:n,blocking:o,terminated:a}={}){const c=indexedDB.open(r,e),h=es(c);return n&&c.addEventListener("upgradeneeded",y=>{n(es(c.result),y.oldVersion,y.newVersion,es(c.transaction),y)}),t&&c.addEventListener("blocked",y=>t(y.oldVersion,y.newVersion,y)),h.then(y=>{a&&y.addEventListener("close",()=>a()),o&&y.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const $1=["get","getKey","getAll","getAllKeys","count"],K1=["put","add","delete","clear"],Qh=new Map;function LT(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Qh.get(e))return Qh.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,o=K1.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(o||$1.includes(t)))return;const a=async function(c,...h){const y=this.transaction(c,o?"readwrite":"readonly");let g=y.store;return n&&(g=g.index(h.shift())),(await Promise.all([g[t](...h),o&&y.done]))[0]};return Qh.set(e,a),a}q1(r=>({...r,get:(e,t,n)=>LT(e,t)||r.get(e,t,n),has:(e,t)=>!!LT(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(J1(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function J1(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tm="@firebase/app",kT="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new L1("@firebase/app"),Z1="@firebase/app-compat",X1="@firebase/analytics-compat",W1="@firebase/analytics",j1="@firebase/app-check-compat",eV="@firebase/app-check",tV="@firebase/auth",nV="@firebase/auth-compat",iV="@firebase/database",rV="@firebase/data-connect",sV="@firebase/database-compat",oV="@firebase/functions",aV="@firebase/functions-compat",lV="@firebase/installations",uV="@firebase/installations-compat",cV="@firebase/messaging",fV="@firebase/messaging-compat",dV="@firebase/performance",hV="@firebase/performance-compat",mV="@firebase/remote-config",pV="@firebase/remote-config-compat",gV="@firebase/storage",yV="@firebase/storage-compat",_V="@firebase/firestore",vV="@firebase/vertexai",TV="@firebase/firestore-compat",EV="firebase",CV="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="[DEFAULT]",AV={[Tm]:"fire-core",[Z1]:"fire-core-compat",[W1]:"fire-analytics",[X1]:"fire-analytics-compat",[eV]:"fire-app-check",[j1]:"fire-app-check-compat",[tV]:"fire-auth",[nV]:"fire-auth-compat",[iV]:"fire-rtdb",[rV]:"fire-data-connect",[sV]:"fire-rtdb-compat",[oV]:"fire-fn",[aV]:"fire-fn-compat",[lV]:"fire-iid",[uV]:"fire-iid-compat",[cV]:"fire-fcm",[fV]:"fire-fcm-compat",[dV]:"fire-perf",[hV]:"fire-perf-compat",[mV]:"fire-rc",[pV]:"fire-rc-compat",[gV]:"fire-gcs",[yV]:"fire-gcs-compat",[_V]:"fire-fst",[TV]:"fire-fst-compat",[vV]:"fire-vertex","fire-js":"fire-js",[EV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=new Map,SV=new Map,Cm=new Map;function OT(r,e){try{r.container.addComponent(e)}catch(t){or.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function of(r){const e=r.name;if(Cm.has(e))return or.debug(`There were multiple attempts to register component ${e}.`),!1;Cm.set(e,r);for(const t of Fl.values())OT(t,r);for(const t of SV.values())OT(t,r);return!0}function RV(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new p0("app","Firebase",xV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new sf("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV=CV;function _0(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Em,automaticDataCollectionEnabled:!1},e),o=n.name;if(typeof o!="string"||!o)throw ts.create("bad-app-name",{appName:String(o)});if(t||(t=h0()),!t)throw ts.create("no-options");const a=Fl.get(o);if(a){if(ym(t,a.options)&&ym(n,a.config))return a;throw ts.create("duplicate-app",{appName:o})}const c=new D1(o);for(const y of Cm.values())c.addComponent(y);const h=new wV(t,n,c);return Fl.set(o,h),h}function v0(r=Em){const e=Fl.get(r);if(!e&&r===Em&&h0())return _0();if(!e)throw ts.create("no-app",{appName:r});return e}function MV(){return Array.from(Fl.values())}function Pl(r,e,t){var n;let o=(n=AV[r])!==null&&n!==void 0?n:r;t&&(o+=`-${t}`);const a=o.match(/\s|\//),c=e.match(/\s|\//);if(a||c){const h=[`Unable to register library "${o}" with version "${e}":`];a&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),a&&c&&h.push("and"),c&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),or.warn(h.join(" "));return}of(new sf(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bV="firebase-heartbeat-database",DV=1,zl="firebase-heartbeat-store";let Jh=null;function T0(){return Jh||(Jh=Y1(bV,DV,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(zl)}catch(t){console.warn(t)}}}}).catch(r=>{throw ts.create("idb-open",{originalErrorMessage:r.message})})),Jh}async function NV(r){try{const t=(await T0()).transaction(zl),n=await t.objectStore(zl).get(E0(r));return await t.done,n}catch(e){if(e instanceof Km)or.warn(e.message);else{const t=ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});or.warn(t.message)}}}async function BT(r,e){try{const n=(await T0()).transaction(zl,"readwrite");await n.objectStore(zl).put(e,E0(r)),await n.done}catch(t){if(t instanceof Km)or.warn(t.message);else{const n=ts.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});or.warn(n.message)}}}function E0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV=1024,PV=720*60*60*1e3;class UV{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new kV(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=FT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(c=>c.date===a)?void 0:(this._heartbeatsCache.heartbeats.push({date:a,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(c=>{const h=new Date(c.date).valueOf();return Date.now()-h<=PV}),this._storage.overwrite(this._heartbeatsCache))}catch(n){or.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=FT(),{heartbeatsToSend:n,unsentEntries:o}=LV(this._heartbeatsCache.heartbeats),a=d0(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return or.warn(t),""}}}function FT(){return new Date().toISOString().substring(0,10)}function LV(r,e=VV){const t=[];let n=r.slice();for(const o of r){const a=t.find(c=>c.agent===o.agent);if(a){if(a.dates.push(o.date),zT(t)>e){a.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),zT(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class kV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return A1()?S1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await NV(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return BT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return BT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function zT(r){return d0(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(r){of(new sf("platform-logger",e=>new Q1(e),"PRIVATE")),of(new sf("heartbeat",e=>new UV(e),"PRIVATE")),Pl(Tm,kT,r),Pl(Tm,kT,"esm2017"),Pl("fire-js","")}OV("");var qT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let o=r.charCodeAt(n);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},BV=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const o=r[t++];if(o<128)e[n++]=String.fromCharCode(o);else if(o>191&&o<224){const a=r[t++];e[n++]=String.fromCharCode((o&31)<<6|a&63)}else if(o>239&&o<365){const a=r[t++],c=r[t++],h=r[t++],y=((o&7)<<18|(a&63)<<12|(c&63)<<6|h&63)-65536;e[n++]=String.fromCharCode(55296+(y>>10)),e[n++]=String.fromCharCode(56320+(y&1023))}else{const a=r[t++],c=r[t++];e[n++]=String.fromCharCode((o&15)<<12|(a&63)<<6|c&63)}}return e.join("")},A0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let o=0;o<r.length;o+=3){const a=r[o],c=o+1<r.length,h=c?r[o+1]:0,y=o+2<r.length,g=y?r[o+2]:0,v=a>>2,C=(a&3)<<4|h>>4;let S=(h&15)<<2|g>>6,w=g&63;y||(w=64,c||(S=64)),n.push(t[v],t[C],t[S],t[w])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(C0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):BV(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let o=0;o<r.length;){const a=t[r.charAt(o++)],h=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const C=o<r.length?t[r.charAt(o)]:64;if(++o,a==null||h==null||g==null||C==null)throw new FV;const S=a<<2|h>>4;if(n.push(S),g!==64){const w=h<<4&240|g>>2;if(n.push(w),C!==64){const P=g<<6&192|C;n.push(P)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class FV extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zV=function(r){const e=C0(r);return A0.encodeByteArray(e,!0)},GT=function(r){return zV(r).replace(/\./g,"")},qV=function(r){try{return A0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HV=()=>GV().__FIREBASE_DEFAULTS__,YV=()=>{if(typeof process>"u"||typeof qT>"u")return;const r=qT.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},$V=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&qV(r[1]);return e&&JSON.parse(e)},S0=()=>{try{return HV()||YV()||$V()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},KV=r=>{var e,t;return(t=(e=S0())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},QV=r=>{const e=KV(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JV(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",o=r.iat||0,a=r.sub||r.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:o,exp:o+3600,auth_time:o,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},r);return[GT(JSON.stringify(t)),GT(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZV(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XV(){var r;const e=(r=S0())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function WV(){return!XV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV="FirebaseError";class _f extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=jV,Object.setPrototypeOf(this,_f.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,e2.prototype.create)}}class e2{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},o=`${this.service}/${e}`,a=this.errors[e],c=a?t2(a,n):"Error",h=`${this.serviceName}: ${c} (${o}).`;return new _f(o,h,n)}}function t2(r,e){return r.replace(n2,(t,n)=>{const o=e[n];return o!=null?String(o):`<${n}?>`})}const n2=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(r){return r&&r._delegate?r._delegate:r}class i2{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})($e||($e={}));const r2={debug:$e.DEBUG,verbose:$e.VERBOSE,info:$e.INFO,warn:$e.WARN,error:$e.ERROR,silent:$e.SILENT},s2=$e.INFO,o2={[$e.DEBUG]:"log",[$e.VERBOSE]:"log",[$e.INFO]:"info",[$e.WARN]:"warn",[$e.ERROR]:"error"},a2=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),o=o2[e];if(o)console[o](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class l2{constructor(e){this.name=e,this._logLevel=s2,this._logHandler=a2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?r2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$e.DEBUG,...e),this._logHandler(this,$e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$e.VERBOSE,...e),this._logHandler(this,$e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$e.INFO,...e),this._logHandler(this,$e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$e.WARN,...e),this._logHandler(this,$e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$e.ERROR,...e),this._logHandler(this,$e.ERROR,...e)}}var HT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ks,R0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(b,I){function M(){}M.prototype=I.prototype,b.D=I.prototype,b.prototype=new M,b.prototype.constructor=b,b.C=function(V,L,F){for(var N=Array(arguments.length-2),it=2;it<arguments.length;it++)N[it-2]=arguments[it];return I.prototype[L].apply(V,N)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(b,I,M){M||(M=0);var V=Array(16);if(typeof I=="string")for(var L=0;16>L;++L)V[L]=I.charCodeAt(M++)|I.charCodeAt(M++)<<8|I.charCodeAt(M++)<<16|I.charCodeAt(M++)<<24;else for(L=0;16>L;++L)V[L]=I[M++]|I[M++]<<8|I[M++]<<16|I[M++]<<24;I=b.g[0],M=b.g[1],L=b.g[2];var F=b.g[3],N=I+(F^M&(L^F))+V[0]+3614090360&4294967295;I=M+(N<<7&4294967295|N>>>25),N=F+(L^I&(M^L))+V[1]+3905402710&4294967295,F=I+(N<<12&4294967295|N>>>20),N=L+(M^F&(I^M))+V[2]+606105819&4294967295,L=F+(N<<17&4294967295|N>>>15),N=M+(I^L&(F^I))+V[3]+3250441966&4294967295,M=L+(N<<22&4294967295|N>>>10),N=I+(F^M&(L^F))+V[4]+4118548399&4294967295,I=M+(N<<7&4294967295|N>>>25),N=F+(L^I&(M^L))+V[5]+1200080426&4294967295,F=I+(N<<12&4294967295|N>>>20),N=L+(M^F&(I^M))+V[6]+2821735955&4294967295,L=F+(N<<17&4294967295|N>>>15),N=M+(I^L&(F^I))+V[7]+4249261313&4294967295,M=L+(N<<22&4294967295|N>>>10),N=I+(F^M&(L^F))+V[8]+1770035416&4294967295,I=M+(N<<7&4294967295|N>>>25),N=F+(L^I&(M^L))+V[9]+2336552879&4294967295,F=I+(N<<12&4294967295|N>>>20),N=L+(M^F&(I^M))+V[10]+4294925233&4294967295,L=F+(N<<17&4294967295|N>>>15),N=M+(I^L&(F^I))+V[11]+2304563134&4294967295,M=L+(N<<22&4294967295|N>>>10),N=I+(F^M&(L^F))+V[12]+1804603682&4294967295,I=M+(N<<7&4294967295|N>>>25),N=F+(L^I&(M^L))+V[13]+4254626195&4294967295,F=I+(N<<12&4294967295|N>>>20),N=L+(M^F&(I^M))+V[14]+2792965006&4294967295,L=F+(N<<17&4294967295|N>>>15),N=M+(I^L&(F^I))+V[15]+1236535329&4294967295,M=L+(N<<22&4294967295|N>>>10),N=I+(L^F&(M^L))+V[1]+4129170786&4294967295,I=M+(N<<5&4294967295|N>>>27),N=F+(M^L&(I^M))+V[6]+3225465664&4294967295,F=I+(N<<9&4294967295|N>>>23),N=L+(I^M&(F^I))+V[11]+643717713&4294967295,L=F+(N<<14&4294967295|N>>>18),N=M+(F^I&(L^F))+V[0]+3921069994&4294967295,M=L+(N<<20&4294967295|N>>>12),N=I+(L^F&(M^L))+V[5]+3593408605&4294967295,I=M+(N<<5&4294967295|N>>>27),N=F+(M^L&(I^M))+V[10]+38016083&4294967295,F=I+(N<<9&4294967295|N>>>23),N=L+(I^M&(F^I))+V[15]+3634488961&4294967295,L=F+(N<<14&4294967295|N>>>18),N=M+(F^I&(L^F))+V[4]+3889429448&4294967295,M=L+(N<<20&4294967295|N>>>12),N=I+(L^F&(M^L))+V[9]+568446438&4294967295,I=M+(N<<5&4294967295|N>>>27),N=F+(M^L&(I^M))+V[14]+3275163606&4294967295,F=I+(N<<9&4294967295|N>>>23),N=L+(I^M&(F^I))+V[3]+4107603335&4294967295,L=F+(N<<14&4294967295|N>>>18),N=M+(F^I&(L^F))+V[8]+1163531501&4294967295,M=L+(N<<20&4294967295|N>>>12),N=I+(L^F&(M^L))+V[13]+2850285829&4294967295,I=M+(N<<5&4294967295|N>>>27),N=F+(M^L&(I^M))+V[2]+4243563512&4294967295,F=I+(N<<9&4294967295|N>>>23),N=L+(I^M&(F^I))+V[7]+1735328473&4294967295,L=F+(N<<14&4294967295|N>>>18),N=M+(F^I&(L^F))+V[12]+2368359562&4294967295,M=L+(N<<20&4294967295|N>>>12),N=I+(M^L^F)+V[5]+4294588738&4294967295,I=M+(N<<4&4294967295|N>>>28),N=F+(I^M^L)+V[8]+2272392833&4294967295,F=I+(N<<11&4294967295|N>>>21),N=L+(F^I^M)+V[11]+1839030562&4294967295,L=F+(N<<16&4294967295|N>>>16),N=M+(L^F^I)+V[14]+4259657740&4294967295,M=L+(N<<23&4294967295|N>>>9),N=I+(M^L^F)+V[1]+2763975236&4294967295,I=M+(N<<4&4294967295|N>>>28),N=F+(I^M^L)+V[4]+1272893353&4294967295,F=I+(N<<11&4294967295|N>>>21),N=L+(F^I^M)+V[7]+4139469664&4294967295,L=F+(N<<16&4294967295|N>>>16),N=M+(L^F^I)+V[10]+3200236656&4294967295,M=L+(N<<23&4294967295|N>>>9),N=I+(M^L^F)+V[13]+681279174&4294967295,I=M+(N<<4&4294967295|N>>>28),N=F+(I^M^L)+V[0]+3936430074&4294967295,F=I+(N<<11&4294967295|N>>>21),N=L+(F^I^M)+V[3]+3572445317&4294967295,L=F+(N<<16&4294967295|N>>>16),N=M+(L^F^I)+V[6]+76029189&4294967295,M=L+(N<<23&4294967295|N>>>9),N=I+(M^L^F)+V[9]+3654602809&4294967295,I=M+(N<<4&4294967295|N>>>28),N=F+(I^M^L)+V[12]+3873151461&4294967295,F=I+(N<<11&4294967295|N>>>21),N=L+(F^I^M)+V[15]+530742520&4294967295,L=F+(N<<16&4294967295|N>>>16),N=M+(L^F^I)+V[2]+3299628645&4294967295,M=L+(N<<23&4294967295|N>>>9),N=I+(L^(M|~F))+V[0]+4096336452&4294967295,I=M+(N<<6&4294967295|N>>>26),N=F+(M^(I|~L))+V[7]+1126891415&4294967295,F=I+(N<<10&4294967295|N>>>22),N=L+(I^(F|~M))+V[14]+2878612391&4294967295,L=F+(N<<15&4294967295|N>>>17),N=M+(F^(L|~I))+V[5]+4237533241&4294967295,M=L+(N<<21&4294967295|N>>>11),N=I+(L^(M|~F))+V[12]+1700485571&4294967295,I=M+(N<<6&4294967295|N>>>26),N=F+(M^(I|~L))+V[3]+2399980690&4294967295,F=I+(N<<10&4294967295|N>>>22),N=L+(I^(F|~M))+V[10]+4293915773&4294967295,L=F+(N<<15&4294967295|N>>>17),N=M+(F^(L|~I))+V[1]+2240044497&4294967295,M=L+(N<<21&4294967295|N>>>11),N=I+(L^(M|~F))+V[8]+1873313359&4294967295,I=M+(N<<6&4294967295|N>>>26),N=F+(M^(I|~L))+V[15]+4264355552&4294967295,F=I+(N<<10&4294967295|N>>>22),N=L+(I^(F|~M))+V[6]+2734768916&4294967295,L=F+(N<<15&4294967295|N>>>17),N=M+(F^(L|~I))+V[13]+1309151649&4294967295,M=L+(N<<21&4294967295|N>>>11),N=I+(L^(M|~F))+V[4]+4149444226&4294967295,I=M+(N<<6&4294967295|N>>>26),N=F+(M^(I|~L))+V[11]+3174756917&4294967295,F=I+(N<<10&4294967295|N>>>22),N=L+(I^(F|~M))+V[2]+718787259&4294967295,L=F+(N<<15&4294967295|N>>>17),N=M+(F^(L|~I))+V[9]+3951481745&4294967295,b.g[0]=b.g[0]+I&4294967295,b.g[1]=b.g[1]+(L+(N<<21&4294967295|N>>>11))&4294967295,b.g[2]=b.g[2]+L&4294967295,b.g[3]=b.g[3]+F&4294967295}n.prototype.u=function(b,I){I===void 0&&(I=b.length);for(var M=I-this.blockSize,V=this.B,L=this.h,F=0;F<I;){if(L==0)for(;F<=M;)o(this,b,F),F+=this.blockSize;if(typeof b=="string"){for(;F<I;)if(V[L++]=b.charCodeAt(F++),L==this.blockSize){o(this,V),L=0;break}}else for(;F<I;)if(V[L++]=b[F++],L==this.blockSize){o(this,V),L=0;break}}this.h=L,this.o+=I},n.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var I=1;I<b.length-8;++I)b[I]=0;var M=8*this.o;for(I=b.length-8;I<b.length;++I)b[I]=M&255,M/=256;for(this.u(b),b=Array(16),I=M=0;4>I;++I)for(var V=0;32>V;V+=8)b[M++]=this.g[I]>>>V&255;return b};function a(b,I){var M=h;return Object.prototype.hasOwnProperty.call(M,b)?M[b]:M[b]=I(b)}function c(b,I){this.h=I;for(var M=[],V=!0,L=b.length-1;0<=L;L--){var F=b[L]|0;V&&F==I||(M[L]=F,V=!1)}this.g=M}var h={};function y(b){return-128<=b&&128>b?a(b,function(I){return new c([I|0],0>I?-1:0)}):new c([b|0],0>b?-1:0)}function g(b){if(isNaN(b)||!isFinite(b))return C;if(0>b)return $(g(-b));for(var I=[],M=1,V=0;b>=M;V++)I[V]=b/M|0,M*=4294967296;return new c(I,0)}function v(b,I){if(b.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(b.charAt(0)=="-")return $(v(b.substring(1),I));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=g(Math.pow(I,8)),V=C,L=0;L<b.length;L+=8){var F=Math.min(8,b.length-L),N=parseInt(b.substring(L,L+F),I);8>F?(F=g(Math.pow(I,F)),V=V.j(F).add(g(N))):(V=V.j(M),V=V.add(g(N)))}return V}var C=y(0),S=y(1),w=y(16777216);r=c.prototype,r.m=function(){if(q(this))return-$(this).m();for(var b=0,I=1,M=0;M<this.g.length;M++){var V=this.i(M);b+=(0<=V?V:4294967296+V)*I,I*=4294967296}return b},r.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(P(this))return"0";if(q(this))return"-"+$(this).toString(b);for(var I=g(Math.pow(b,6)),M=this,V="";;){var L=ue(M,I).g;M=re(M,L.j(I));var F=((0<M.g.length?M.g[0]:M.h)>>>0).toString(b);if(M=L,P(M))return F+V;for(;6>F.length;)F="0"+F;V=F+V}},r.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function P(b){if(b.h!=0)return!1;for(var I=0;I<b.g.length;I++)if(b.g[I]!=0)return!1;return!0}function q(b){return b.h==-1}r.l=function(b){return b=re(this,b),q(b)?-1:P(b)?0:1};function $(b){for(var I=b.g.length,M=[],V=0;V<I;V++)M[V]=~b.g[V];return new c(M,~b.h).add(S)}r.abs=function(){return q(this)?$(this):this},r.add=function(b){for(var I=Math.max(this.g.length,b.g.length),M=[],V=0,L=0;L<=I;L++){var F=V+(this.i(L)&65535)+(b.i(L)&65535),N=(F>>>16)+(this.i(L)>>>16)+(b.i(L)>>>16);V=N>>>16,F&=65535,N&=65535,M[L]=N<<16|F}return new c(M,M[M.length-1]&-2147483648?-1:0)};function re(b,I){return b.add($(I))}r.j=function(b){if(P(this)||P(b))return C;if(q(this))return q(b)?$(this).j($(b)):$($(this).j(b));if(q(b))return $(this.j($(b)));if(0>this.l(w)&&0>b.l(w))return g(this.m()*b.m());for(var I=this.g.length+b.g.length,M=[],V=0;V<2*I;V++)M[V]=0;for(V=0;V<this.g.length;V++)for(var L=0;L<b.g.length;L++){var F=this.i(V)>>>16,N=this.i(V)&65535,it=b.i(L)>>>16,St=b.i(L)&65535;M[2*V+2*L]+=N*St,ne(M,2*V+2*L),M[2*V+2*L+1]+=F*St,ne(M,2*V+2*L+1),M[2*V+2*L+1]+=N*it,ne(M,2*V+2*L+1),M[2*V+2*L+2]+=F*it,ne(M,2*V+2*L+2)}for(V=0;V<I;V++)M[V]=M[2*V+1]<<16|M[2*V];for(V=I;V<2*I;V++)M[V]=0;return new c(M,0)};function ne(b,I){for(;(b[I]&65535)!=b[I];)b[I+1]+=b[I]>>>16,b[I]&=65535,I++}function ie(b,I){this.g=b,this.h=I}function ue(b,I){if(P(I))throw Error("division by zero");if(P(b))return new ie(C,C);if(q(b))return I=ue($(b),I),new ie($(I.g),$(I.h));if(q(I))return I=ue(b,$(I)),new ie($(I.g),I.h);if(30<b.g.length){if(q(b)||q(I))throw Error("slowDivide_ only works with positive integers.");for(var M=S,V=I;0>=V.l(b);)M=_e(M),V=_e(V);var L=fe(M,1),F=fe(V,1);for(V=fe(V,2),M=fe(M,2);!P(V);){var N=F.add(V);0>=N.l(b)&&(L=L.add(M),F=N),V=fe(V,1),M=fe(M,1)}return I=re(b,L.j(I)),new ie(L,I)}for(L=C;0<=b.l(I);){for(M=Math.max(1,Math.floor(b.m()/I.m())),V=Math.ceil(Math.log(M)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),F=g(M),N=F.j(I);q(N)||0<N.l(b);)M-=V,F=g(M),N=F.j(I);P(F)&&(F=S),L=L.add(F),b=re(b,N)}return new ie(L,b)}r.A=function(b){return ue(this,b).h},r.and=function(b){for(var I=Math.max(this.g.length,b.g.length),M=[],V=0;V<I;V++)M[V]=this.i(V)&b.i(V);return new c(M,this.h&b.h)},r.or=function(b){for(var I=Math.max(this.g.length,b.g.length),M=[],V=0;V<I;V++)M[V]=this.i(V)|b.i(V);return new c(M,this.h|b.h)},r.xor=function(b){for(var I=Math.max(this.g.length,b.g.length),M=[],V=0;V<I;V++)M[V]=this.i(V)^b.i(V);return new c(M,this.h^b.h)};function _e(b){for(var I=b.g.length+1,M=[],V=0;V<I;V++)M[V]=b.i(V)<<1|b.i(V-1)>>>31;return new c(M,b.h)}function fe(b,I){var M=I>>5;I%=32;for(var V=b.g.length-M,L=[],F=0;F<V;F++)L[F]=0<I?b.i(F+M)>>>I|b.i(F+M+1)<<32-I:b.i(F+M);return new c(L,b.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,R0=n,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=v,Ks=c}).apply(typeof HT<"u"?HT:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var x0,Ml,w0,qc,Am,I0,M0,b0;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(m,T,A){return m==Array.prototype||m==Object.prototype||(m[T]=A.value),m};function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var T=0;T<m.length;++T){var A=m[T];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var n=t(this);function o(m,T){if(T)e:{var A=n;m=m.split(".");for(var x=0;x<m.length-1;x++){var z=m[x];if(!(z in A))break e;A=A[z]}m=m[m.length-1],x=A[m],T=T(x),T!=x&&T!=null&&e(A,m,{configurable:!0,writable:!0,value:T})}}function a(m,T){m instanceof String&&(m+="");var A=0,x=!1,z={next:function(){if(!x&&A<m.length){var Q=A++;return{value:T(Q,m[Q]),done:!1}}return x=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(m){return m||function(){return a(this,function(T,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},h=this||self;function y(m){var T=typeof m;return T=T!="object"?T:m?Array.isArray(m)?"array":T:"null",T=="array"||T=="object"&&typeof m.length=="number"}function g(m){var T=typeof m;return T=="object"&&m!=null||T=="function"}function v(m,T,A){return m.call.apply(m.bind,arguments)}function C(m,T,A){if(!m)throw Error();if(2<arguments.length){var x=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,x),m.apply(T,z)}}return function(){return m.apply(T,arguments)}}function S(m,T,A){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:C,S.apply(null,arguments)}function w(m,T){var A=Array.prototype.slice.call(arguments,1);return function(){var x=A.slice();return x.push.apply(x,arguments),m.apply(this,x)}}function P(m,T){function A(){}A.prototype=T.prototype,m.aa=T.prototype,m.prototype=new A,m.prototype.constructor=m,m.Qb=function(x,z,Q){for(var ae=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)ae[tt-2]=arguments[tt];return T.prototype[z].apply(x,ae)}}function q(m){const T=m.length;if(0<T){const A=Array(T);for(let x=0;x<T;x++)A[x]=m[x];return A}return[]}function $(m,T){for(let A=1;A<arguments.length;A++){const x=arguments[A];if(y(x)){const z=m.length||0,Q=x.length||0;m.length=z+Q;for(let ae=0;ae<Q;ae++)m[z+ae]=x[ae]}else m.push(x)}}class re{constructor(T,A){this.i=T,this.j=A,this.h=0,this.g=null}get(){let T;return 0<this.h?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function ne(m){return/^[\s\xa0]*$/.test(m)}function ie(){var m=h.navigator;return m&&(m=m.userAgent)?m:""}function ue(m){return ue[" "](m),m}ue[" "]=function(){};var _e=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function fe(m,T,A){for(const x in m)T.call(A,m[x],x,m)}function b(m,T){for(const A in m)T.call(void 0,m[A],A,m)}function I(m){const T={};for(const A in m)T[A]=m[A];return T}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(m,T){let A,x;for(let z=1;z<arguments.length;z++){x=arguments[z];for(A in x)m[A]=x[A];for(let Q=0;Q<M.length;Q++)A=M[Q],Object.prototype.hasOwnProperty.call(x,A)&&(m[A]=x[A])}}function L(m){var T=1;m=m.split(":");const A=[];for(;0<T&&m.length;)A.push(m.shift()),T--;return m.length&&A.push(m.join(":")),A}function F(m){h.setTimeout(()=>{throw m},0)}function N(){var m=Qe;let T=null;return m.g&&(T=m.g,m.g=m.g.next,m.g||(m.h=null),T.next=null),T}class it{constructor(){this.h=this.g=null}add(T,A){const x=St.get();x.set(T,A),this.h?this.h.next=x:this.g=x,this.h=x}}var St=new re(()=>new Z,m=>m.reset());class Z{constructor(){this.next=this.g=this.h=null}set(T,A){this.h=T,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let le,Ee=!1,Qe=new it,et=()=>{const m=h.Promise.resolve(void 0);le=()=>{m.then(k)}};var k=()=>{for(var m;m=N();){try{m.h.call(m.g)}catch(A){F(A)}var T=St;T.j(m),100>T.h&&(T.h++,m.next=T.g,T.g=m)}Ee=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(m,T){this.type=m,this.g=this.target=T,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var pe=(function(){if(!h.addEventListener||!Object.defineProperty)return!1;var m=!1,T=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const A=()=>{};h.addEventListener("test",A,T),h.removeEventListener("test",A,T)}catch{}return m})();function Se(m,T){if(se.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m){var A=this.type=m.type,x=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;if(this.target=m.target||m.srcElement,this.g=T,T=m.relatedTarget){if(_e){e:{try{ue(T.nodeName);var z=!0;break e}catch{}z=!1}z||(T=null)}}else A=="mouseover"?T=m.fromElement:A=="mouseout"&&(T=m.toElement);this.relatedTarget=T,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=typeof m.pointerType=="string"?m.pointerType:Ue[m.pointerType]||"",this.state=m.state,this.i=m,m.defaultPrevented&&Se.aa.h.call(this)}}P(Se,se);var Ue={2:"touch",3:"pen",4:"mouse"};Se.prototype.h=function(){Se.aa.h.call(this);var m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var qe="closure_listenable_"+(1e6*Math.random()|0),Kt=0;function _t(m,T,A,x,z){this.listener=m,this.proxy=null,this.src=T,this.type=A,this.capture=!!x,this.ha=z,this.key=++Kt,this.da=this.fa=!1}function ci(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function Ni(m){this.src=m,this.g={},this.h=0}Ni.prototype.add=function(m,T,A,x,z){var Q=m.toString();m=this.g[Q],m||(m=this.g[Q]=[],this.h++);var ae=no(m,T,x,z);return-1<ae?(T=m[ae],A||(T.fa=!1)):(T=new _t(T,this.src,Q,!!x,z),T.fa=A,m.push(T)),T};function ms(m,T){var A=T.type;if(A in m.g){var x=m.g[A],z=Array.prototype.indexOf.call(x,T,void 0),Q;(Q=0<=z)&&Array.prototype.splice.call(x,z,1),Q&&(ci(T),m.g[A].length==0&&(delete m.g[A],m.h--))}}function no(m,T,A,x){for(var z=0;z<m.length;++z){var Q=m[z];if(!Q.da&&Q.listener==T&&Q.capture==!!A&&Q.ha==x)return z}return-1}var ei="closure_lm_"+(1e6*Math.random()|0),ps={};function io(m,T,A,x,z){if(Array.isArray(T)){for(var Q=0;Q<T.length;Q++)io(m,T[Q],A,x,z);return null}return A=ru(A),m&&m[qe]?m.K(T,A,g(x)?!!x.capture:!1,z):Uf(m,T,A,!1,x,z)}function Uf(m,T,A,x,z,Q){if(!T)throw Error("Invalid event type");var ae=g(z)?!!z.capture:!!z,tt=Aa(m);if(tt||(m[ei]=tt=new Ni(m)),A=tt.add(T,A,x,ae,Q),A.proxy)return A;if(x=iu(),A.proxy=x,x.src=m,x.listener=A,m.addEventListener)pe||(z=ae),z===void 0&&(z=!1),m.addEventListener(T.toString(),x,z);else if(m.attachEvent)m.attachEvent(so(T.toString()),x);else if(m.addListener&&m.removeListener)m.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return A}function iu(){function m(A){return T.call(m.src,m.listener,A)}const T=Lf;return m}function ro(m,T,A,x,z){if(Array.isArray(T))for(var Q=0;Q<T.length;Q++)ro(m,T[Q],A,x,z);else x=g(x)?!!x.capture:!!x,A=ru(A),m&&m[qe]?(m=m.i,T=String(T).toString(),T in m.g&&(Q=m.g[T],A=no(Q,A,x,z),-1<A&&(ci(Q[A]),Array.prototype.splice.call(Q,A,1),Q.length==0&&(delete m.g[T],m.h--)))):m&&(m=Aa(m))&&(T=m.g[T.toString()],m=-1,T&&(m=no(T,A,x,z)),(A=-1<m?T[m]:null)&&gs(A))}function gs(m){if(typeof m!="number"&&m&&!m.da){var T=m.src;if(T&&T[qe])ms(T.i,m);else{var A=m.type,x=m.proxy;T.removeEventListener?T.removeEventListener(A,x,m.capture):T.detachEvent?T.detachEvent(so(A),x):T.addListener&&T.removeListener&&T.removeListener(x),(A=Aa(T))?(ms(A,m),A.h==0&&(A.src=null,T[ei]=null)):ci(m)}}}function so(m){return m in ps?ps[m]:ps[m]="on"+m}function Lf(m,T){if(m.da)m=!0;else{T=new Se(T,this);var A=m.listener,x=m.ha||m.src;m.fa&&gs(m),m=A.call(x,T)}return m}function Aa(m){return m=m[ei],m instanceof Ni?m:null}var Qt="__closure_events_fn_"+(1e9*Math.random()>>>0);function ru(m){return typeof m=="function"?m:(m[Qt]||(m[Qt]=function(T){return m.handleEvent(T)}),m[Qt])}function kt(){X.call(this),this.i=new Ni(this),this.M=this,this.F=null}P(kt,X),kt.prototype[qe]=!0,kt.prototype.removeEventListener=function(m,T,A,x){ro(this,m,T,A,x)};function Ft(m,T){var A,x=m.F;if(x)for(A=[];x;x=x.F)A.push(x);if(m=m.M,x=T.type||T,typeof T=="string")T=new se(T,m);else if(T instanceof se)T.target=T.target||m;else{var z=T;T=new se(x,m),V(T,z)}if(z=!0,A)for(var Q=A.length-1;0<=Q;Q--){var ae=T.g=A[Q];z=Vi(ae,x,!0,T)&&z}if(ae=T.g=m,z=Vi(ae,x,!0,T)&&z,z=Vi(ae,x,!1,T)&&z,A)for(Q=0;Q<A.length;Q++)ae=T.g=A[Q],z=Vi(ae,x,!1,T)&&z}kt.prototype.N=function(){if(kt.aa.N.call(this),this.i){var m=this.i,T;for(T in m.g){for(var A=m.g[T],x=0;x<A.length;x++)ci(A[x]);delete m.g[T],m.h--}}this.F=null},kt.prototype.K=function(m,T,A,x){return this.i.add(String(m),T,!1,A,x)},kt.prototype.L=function(m,T,A,x){return this.i.add(String(m),T,!0,A,x)};function Vi(m,T,A,x){if(T=m.i.g[String(T)],!T)return!0;T=T.concat();for(var z=!0,Q=0;Q<T.length;++Q){var ae=T[Q];if(ae&&!ae.da&&ae.capture==A){var tt=ae.listener,Mt=ae.ha||ae.src;ae.fa&&ms(m.i,ae),z=tt.call(Mt,x)!==!1&&z}}return z&&!x.defaultPrevented}function su(m,T,A){if(typeof m=="function")A&&(m=S(m,A));else if(m&&typeof m.handleEvent=="function")m=S(m.handleEvent,m);else throw Error("Invalid listener argument");return 2147483647<Number(T)?-1:h.setTimeout(m,T||0)}function Sa(m){m.g=su(()=>{m.g=null,m.i&&(m.i=!1,Sa(m))},m.l);const T=m.h;m.h=null,m.m.apply(null,T)}class kf extends X{constructor(T,A){super(),this.m=T,this.l=A,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:Sa(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ys(m){X.call(this),this.h=m,this.g={}}P(ys,X);var ur=[];function sn(m){fe(m.g,function(T,A){this.g.hasOwnProperty(A)&&gs(T)},m),m.g={}}ys.prototype.N=function(){ys.aa.N.call(this),sn(this)},ys.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fn=h.JSON.stringify,dn=h.JSON.parse,Of=class{stringify(m){return h.JSON.stringify(m,void 0)}parse(m){return h.JSON.parse(m,void 0)}};function Ra(){}Ra.prototype.h=null;function ou(m){return m.h||(m.h=m.i())}function _s(){}var fi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function cr(){se.call(this,"d")}P(cr,se);function ti(){se.call(this,"c")}P(ti,se);var zn={},fr=null;function oo(){return fr=fr||new kt}zn.La="serverreachability";function xa(m){se.call(this,zn.La,m)}P(xa,se);function Pi(m){const T=oo();Ft(T,new xa(T))}zn.STAT_EVENT="statevent";function dr(m,T){se.call(this,zn.STAT_EVENT,m),this.stat=T}P(dr,se);function Jt(m){const T=oo();Ft(T,new dr(T,m))}zn.Ma="timingevent";function wa(m,T){se.call(this,zn.Ma,m),this.size=T}P(wa,se);function hr(m,T){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){m()},T)}function mr(){this.g=!0}mr.prototype.xa=function(){this.g=!1};function Ia(m,T,A,x,z,Q){m.info(function(){if(m.g)if(Q)for(var ae="",tt=Q.split("&"),Mt=0;Mt<tt.length;Mt++){var Le=tt[Mt].split("=");if(1<Le.length){var qt=Le[0];Le=Le[1];var Gt=qt.split("_");ae=2<=Gt.length&&Gt[1]=="type"?ae+(qt+"="+Le+"&"):ae+(qt+"=redacted&")}}else ae=null;else ae=Q;return"XMLHTTP REQ ("+x+") [attempt "+z+"]: "+T+`
`+A+`
`+ae})}function Ma(m,T,A,x,z,Q,ae){m.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+z+"]: "+T+`
`+A+`
`+Q+" "+ae})}function Ui(m,T,A,x){m.info(function(){return"XMLHTTP TEXT ("+T+"): "+di(m,A)+(x?" "+x:"")})}function au(m,T){m.info(function(){return"TIMEOUT: "+T})}mr.prototype.info=function(){};function di(m,T){if(!m.g)return T;if(!T)return null;try{var A=JSON.parse(T);if(A){for(m=0;m<A.length;m++)if(Array.isArray(A[m])){var x=A[m];if(!(2>x.length)){var z=x[1];if(Array.isArray(z)&&!(1>z.length)){var Q=z[0];if(Q!="noop"&&Q!="stop"&&Q!="close")for(var ae=1;ae<z.length;ae++)z[ae]=""}}}}return Fn(A)}catch{return T}}var Tt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Zt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},hi;function pr(){}P(pr,Ra),pr.prototype.g=function(){return new XMLHttpRequest},pr.prototype.i=function(){return{}},hi=new pr;function mi(m,T,A,x){this.j=m,this.i=T,this.l=A,this.R=x||1,this.U=new ys(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lu}function lu(){this.i=null,this.g="",this.h=!1}var ba={},Li={};function vs(m,T,A){m.L=1,m.v=Cs(Et(T)),m.m=A,m.P=!0,ki(m,null)}function ki(m,T){m.F=Date.now(),ni(m),m.A=Et(m.v);var A=m.A,x=m.R;Array.isArray(x)||(x=[String(x)]),Fi(A.i,"t",x),m.C=0,A=m.j.J,m.h=new lu,m.g=Su(m.j,A?T:null,!m.m),0<m.O&&(m.M=new kf(S(m.Y,m,m.g),m.O)),T=m.U,A=m.g,x=m.ca;var z="readystatechange";Array.isArray(z)||(z&&(ur[0]=z.toString()),z=ur);for(var Q=0;Q<z.length;Q++){var ae=io(A,z[Q],x||T.handleEvent,!1,T.h||T);if(!ae)break;T.g[ae.key]=ae}T=m.H?I(m.H):{},m.m?(m.u||(m.u="POST"),T["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.A,m.u,m.m,T)):(m.u="GET",m.g.ea(m.A,m.u,null,T)),Pi(),Ia(m.i,m.u,m.A,m.l,m.R,m.m)}mi.prototype.ca=function(m){m=m.target;const T=this.M;T&&pn(m)==3?T.j():this.Y(m)},mi.prototype.Y=function(m){try{if(m==this.g)e:{const Gt=pn(this.g);var T=this.g.Ba();const Ir=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||Rs(this.g)))){this.J||Gt!=4||T==7||(T==8||0>=Ir?Pi(3):Pi(2)),ao(this);var A=this.g.Z();this.X=A;t:if(Oi(this)){var x=Rs(this.g);m="";var z=x.length,Q=pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hn(this),gr(this);var ae="";break t}this.h.i=new h.TextDecoder}for(T=0;T<z;T++)this.h.h=!0,m+=this.h.i.decode(x[T],{stream:!(Q&&T==z-1)});x.length=0,this.h.g+=m,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=A==200,Ma(this.i,this.u,this.A,this.l,this.R,Gt,A),this.o){if(this.T&&!this.K){t:{if(this.g){var tt,Mt=this.g;if((tt=Mt.g?Mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(tt)){var Le=tt;break t}}Le=null}if(A=Le)Ui(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pi(this,A);else{this.o=!1,this.s=3,Jt(12),hn(this),gr(this);break e}}if(this.P){A=!0;let En;for(;!this.J&&this.C<ae.length;)if(En=Ts(this,ae),En==Li){Gt==4&&(this.s=4,Jt(14),A=!1),Ui(this.i,this.l,null,"[Incomplete Response]");break}else if(En==ba){this.s=4,Jt(15),Ui(this.i,this.l,ae,"[Invalid Chunk]"),A=!1;break}else Ui(this.i,this.l,En,null),pi(this,En);if(Oi(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||ae.length!=0||this.h.h||(this.s=1,Jt(16),A=!1),this.o=this.o&&A,!A)Ui(this.i,this.l,ae,"[Invalid Chunked Response]"),hn(this),gr(this);else if(0<ae.length&&!this.W){this.W=!0;var qt=this.j;qt.g==this&&qt.ba&&!qt.M&&(qt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),za(qt),qt.M=!0,Jt(11))}}else Ui(this.i,this.l,ae,null),pi(this,ae);Gt==4&&hn(this),this.o&&!this.J&&(Gt==4?Eu(this.j,this):(this.o=!1,ni(this)))}else pu(this.g),A==400&&0<ae.indexOf("Unknown SID")?(this.s=3,Jt(12)):(this.s=0,Jt(13)),hn(this),gr(this)}}}catch{}finally{}};function Oi(m){return m.g?m.u=="GET"&&m.L!=2&&m.j.Ca:!1}function Ts(m,T){var A=m.C,x=T.indexOf(`
`,A);return x==-1?Li:(A=Number(T.substring(A,x)),isNaN(A)?ba:(x+=1,x+A>T.length?Li:(T=T.slice(x,x+A),m.C=x+A,T)))}mi.prototype.cancel=function(){this.J=!0,hn(this)};function ni(m){m.S=Date.now()+m.I,Rt(m,m.I)}function Rt(m,T){if(m.B!=null)throw Error("WatchDog timer not null");m.B=hr(S(m.ba,m),T)}function ao(m){m.B&&(h.clearTimeout(m.B),m.B=null)}mi.prototype.ba=function(){this.B=null;const m=Date.now();0<=m-this.S?(au(this.i,this.A),this.L!=2&&(Pi(),Jt(17)),hn(this),this.s=2,gr(this)):Rt(this,this.S-m)};function gr(m){m.j.G==0||m.J||Eu(m.j,m)}function hn(m){ao(m);var T=m.M;T&&typeof T.ma=="function"&&T.ma(),m.M=null,sn(m.U),m.g&&(T=m.g,m.g=null,T.abort(),T.ma())}function pi(m,T){try{var A=m.j;if(A.G!=0&&(A.g==m||yr(A.h,m))){if(!m.K&&yr(A.h,m)&&A.G==3){try{var x=A.Da.g.parse(T)}catch{x=null}if(Array.isArray(x)&&x.length==3){var z=x;if(z[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<m.F)xr(A),Rr(A);else break e;Fa(A),Jt(18)}}else A.za=z[1],0<A.za-A.T&&37500>z[2]&&A.F&&A.v==0&&!A.C&&(A.C=hr(S(A.Za,A),6e3));if(1>=uu(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else qi(A,11)}else if((m.K||A.g==m)&&xr(A),!ne(T))for(z=A.Da.g.parse(T),T=0;T<z.length;T++){let Le=z[T];if(A.T=Le[0],Le=Le[1],A.G==2)if(Le[0]=="c"){A.K=Le[1],A.ia=Le[2];const qt=Le[3];qt!=null&&(A.la=qt,A.j.info("VER="+A.la));const Gt=Le[4];Gt!=null&&(A.Aa=Gt,A.j.info("SVER="+A.Aa));const Ir=Le[5];Ir!=null&&typeof Ir=="number"&&0<Ir&&(x=1.5*Ir,A.L=x,A.j.info("backChannelRequestTimeoutMs_="+x)),x=A;const En=m.g;if(En){const Is=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Is){var Q=x.h;Q.g||Is.indexOf("spdy")==-1&&Is.indexOf("quic")==-1&&Is.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(_r(Q,Q.h),Q.h=null))}if(x.D){const Gi=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;Gi&&(x.ya=Gi,Je(x.I,x.D,Gi))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-m.F,A.j.info("Handshake RTT: "+A.R+"ms")),x=A;var ae=m;if(x.qa=Au(x,x.J?x.ia:null,x.W),ae.K){qn(x.h,ae);var tt=ae,Mt=x.L;Mt&&(tt.I=Mt),tt.B&&(ao(tt),ni(tt)),x.g=ae}else vu(x);0<A.i.length&&go(A)}else Le[0]!="stop"&&Le[0]!="close"||qi(A,7);else A.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?qi(A,7):Oa(A):Le[0]!="noop"&&A.l&&A.l.ta(Le),A.v=0)}}Pi(4)}catch{}}var Bf=class{constructor(m,T){this.g=m,this.map=T}};function Da(m){this.l=m||10,h.PerformanceNavigationTiming?(m=h.performance.getEntriesByType("navigation"),m=0<m.length&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Na(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function uu(m){return m.h?1:m.g?m.g.size:0}function yr(m,T){return m.h?m.h==T:m.g?m.g.has(T):!1}function _r(m,T){m.g?m.g.add(T):m.h=T}function qn(m,T){m.h&&m.h==T?m.h=null:m.g&&m.g.has(T)&&m.g.delete(T)}Da.prototype.cancel=function(){if(this.i=mn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function mn(m){if(m.h!=null)return m.i.concat(m.h.D);if(m.g!=null&&m.g.size!==0){let T=m.i;for(const A of m.g.values())T=T.concat(A.D);return T}return q(m.i)}function cu(m){if(m.V&&typeof m.V=="function")return m.V();if(typeof Map<"u"&&m instanceof Map||typeof Set<"u"&&m instanceof Set)return Array.from(m.values());if(typeof m=="string")return m.split("");if(y(m)){for(var T=[],A=m.length,x=0;x<A;x++)T.push(m[x]);return T}T=[],A=0;for(x in m)T[A++]=m[x];return T}function Ff(m){if(m.na&&typeof m.na=="function")return m.na();if(!m.V||typeof m.V!="function"){if(typeof Map<"u"&&m instanceof Map)return Array.from(m.keys());if(!(typeof Set<"u"&&m instanceof Set)){if(y(m)||typeof m=="string"){var T=[];m=m.length;for(var A=0;A<m;A++)T.push(A);return T}T=[],A=0;for(const x in m)T[A++]=x;return T}}}function lo(m,T){if(m.forEach&&typeof m.forEach=="function")m.forEach(T,void 0);else if(y(m)||typeof m=="string")Array.prototype.forEach.call(m,T,void 0);else for(var A=Ff(m),x=cu(m),z=x.length,Q=0;Q<z;Q++)T.call(void 0,x[Q],A&&A[Q],m)}var Va=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function uo(m,T){if(m){m=m.split("&");for(var A=0;A<m.length;A++){var x=m[A].indexOf("="),z=null;if(0<=x){var Q=m[A].substring(0,x);z=m[A].substring(x+1)}else Q=m[A];T(Q,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Bi(m){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,m instanceof Bi){this.h=m.h,vr(this,m.j),this.o=m.o,this.g=m.g,Es(this,m.s),this.l=m.l;var T=m.i,A=new gi;A.i=T.i,T.g&&(A.g=new Map(T.g),A.h=T.h),co(this,A),this.m=m.m}else m&&(T=String(m).match(Va))?(this.h=!1,vr(this,T[1]||"",!0),this.o=Tr(T[2]||""),this.g=Tr(T[3]||"",!0),Es(this,T[4]),this.l=Tr(T[5]||"",!0),co(this,T[6]||"",!0),this.m=Tr(T[7]||"")):(this.h=!1,this.i=new gi(null,this.h))}Bi.prototype.toString=function(){var m=[],T=this.j;T&&m.push(Gn(T,Pa,!0),":");var A=this.g;return(A||T=="file")&&(m.push("//"),(T=this.o)&&m.push(Gn(T,Pa,!0),"@"),m.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&m.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&m.push("/"),m.push(Gn(A,A.charAt(0)=="/"?Ua:fu,!0))),(A=this.i.toString())&&m.push("?",A),(A=this.m)&&m.push("#",Gn(A,Gf)),m.join("")};function Et(m){return new Bi(m)}function vr(m,T,A){m.j=A?Tr(T,!0):T,m.j&&(m.j=m.j.replace(/:$/,""))}function Es(m,T){if(T){if(T=Number(T),isNaN(T)||0>T)throw Error("Bad port number "+T);m.s=T}else m.s=null}function co(m,T,A){T instanceof gi?(m.i=T,du(m.i,m.h)):(A||(T=Gn(T,qf)),m.i=new gi(T,m.h))}function Je(m,T,A){m.i.set(T,A)}function Cs(m){return Je(m,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),m}function Tr(m,T){return m?T?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function Gn(m,T,A){return typeof m=="string"?(m=encodeURI(m).replace(T,zf),A&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function zf(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var Pa=/[#\/\?@]/g,fu=/[#\?:]/g,Ua=/[#\?]/g,qf=/[#\?@]/g,Gf=/#/g;function gi(m,T){this.h=this.g=null,this.i=m||null,this.j=!!T}function zt(m){m.g||(m.g=new Map,m.h=0,m.i&&uo(m.i,function(T,A){m.add(decodeURIComponent(T.replace(/\+/g," ")),A)}))}r=gi.prototype,r.add=function(m,T){zt(this),this.i=null,m=bn(this,m);var A=this.g.get(m);return A||this.g.set(m,A=[]),A.push(T),this.h+=1,this};function fo(m,T){zt(m),T=bn(m,T),m.g.has(T)&&(m.i=null,m.h-=m.g.get(T).length,m.g.delete(T))}function ho(m,T){return zt(m),T=bn(m,T),m.g.has(T)}r.forEach=function(m,T){zt(this),this.g.forEach(function(A,x){A.forEach(function(z){m.call(T,z,x,this)},this)},this)},r.na=function(){zt(this);const m=Array.from(this.g.values()),T=Array.from(this.g.keys()),A=[];for(let x=0;x<T.length;x++){const z=m[x];for(let Q=0;Q<z.length;Q++)A.push(T[x])}return A},r.V=function(m){zt(this);let T=[];if(typeof m=="string")ho(this,m)&&(T=T.concat(this.g.get(bn(this,m))));else{m=Array.from(this.g.values());for(let A=0;A<m.length;A++)T=T.concat(m[A])}return T},r.set=function(m,T){return zt(this),this.i=null,m=bn(this,m),ho(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[T]),this.h+=1,this},r.get=function(m,T){return m?(m=this.V(m),0<m.length?String(m[0]):T):T};function Fi(m,T,A){fo(m,T),0<A.length&&(m.i=null,m.g.set(bn(m,T),q(A)),m.h+=A.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],T=Array.from(this.g.keys());for(var A=0;A<T.length;A++){var x=T[A];const Q=encodeURIComponent(String(x)),ae=this.V(x);for(x=0;x<ae.length;x++){var z=Q;ae[x]!==""&&(z+="="+encodeURIComponent(String(ae[x]))),m.push(z)}}return this.i=m.join("&")};function bn(m,T){return T=String(T),m.j&&(T=T.toLowerCase()),T}function du(m,T){T&&!m.j&&(zt(m),m.i=null,m.g.forEach(function(A,x){var z=x.toLowerCase();x!=z&&(fo(this,x),Fi(this,z,A))},m)),m.j=T}function La(m,T){const A=new mr;if(h.Image){const x=new Image;x.onload=w(Tn,A,"TestLoadImage: loaded",!0,T,x),x.onerror=w(Tn,A,"TestLoadImage: error",!1,T,x),x.onabort=w(Tn,A,"TestLoadImage: abort",!1,T,x),x.ontimeout=w(Tn,A,"TestLoadImage: timeout",!1,T,x),h.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=m}else T(!1)}function hu(m,T){const A=new mr,x=new AbortController,z=setTimeout(()=>{x.abort(),Tn(A,"TestPingServer: timeout",!1,T)},1e4);fetch(m,{signal:x.signal}).then(Q=>{clearTimeout(z),Q.ok?Tn(A,"TestPingServer: ok",!0,T):Tn(A,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(z),Tn(A,"TestPingServer: error",!1,T)})}function Tn(m,T,A,x,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),x(A)}catch{}}function ii(){this.g=new Of}function ka(m,T,A){const x=A||"";try{lo(m,function(z,Q){let ae=z;g(z)&&(ae=Fn(z)),T.push(x+Q+"="+encodeURIComponent(ae))})}catch(z){throw T.push(x+"type="+encodeURIComponent("_badmap")),z}}function yi(m){this.l=m.Ub||null,this.j=m.eb||!1}P(yi,Ra),yi.prototype.g=function(){return new Dn(this.l,this.j)},yi.prototype.i=(function(m){return function(){return m}})({});function Dn(m,T){kt.call(this),this.D=m,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(Dn,kt),r=Dn.prototype,r.open=function(m,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=m,this.A=T,this.readyState=1,Er(this)},r.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const T={headers:this.u,method:this.B,credentials:this.m,cache:void 0};m&&(T.body=m),(this.D||h).fetch(new Request(this.A,T)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_i(this)),this.readyState=0},r.Sa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Er(this)),this.g&&(this.readyState=3,Er(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;mo(this)}else m.text().then(this.Ra.bind(this),this.ga.bind(this))};function mo(m){m.j.read().then(m.Pa.bind(m)).catch(m.ga.bind(m))}r.Pa=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var T=m.value?m.value:new Uint8Array(0);(T=this.v.decode(T,{stream:!m.done}))&&(this.response=this.responseText+=T)}m.done?_i(this):Er(this),this.readyState==3&&mo(this)}},r.Ra=function(m){this.g&&(this.response=this.responseText=m,_i(this))},r.Qa=function(m){this.g&&(this.response=m,_i(this))},r.ga=function(){this.g&&_i(this)};function _i(m){m.readyState=4,m.l=null,m.j=null,m.v=null,Er(m)}r.setRequestHeader=function(m,T){this.u.append(m,T)},r.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],T=this.h.entries();for(var A=T.next();!A.done;)A=A.value,m.push(A[0]+": "+A[1]),A=T.next();return m.join(`\r
`)};function Er(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(Dn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function As(m){let T="";return fe(m,function(A,x){T+=x,T+=":",T+=A,T+=`\r
`}),T}function Cr(m,T,A){e:{for(x in A){var x=!1;break e}x=!0}x||(A=As(A),typeof m=="string"?A!=null&&encodeURIComponent(String(A)):Je(m,T,A))}function ft(m){kt.call(this),this.headers=new Map,this.o=m||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(ft,kt);var on=/^https?$/i,zi=["POST","PUT"];r=ft.prototype,r.Ha=function(m){this.J=m},r.ea=function(m,T,A,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);T=T?T.toUpperCase():"GET",this.D=m,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():hi.g(),this.v=this.o?ou(this.o):ou(hi),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(T,String(m),!0),this.B=!1}catch(Q){Ss(this,Q);return}if(m=A||"",A=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var z in x)A.set(z,x[z]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const Q of x.keys())A.set(Q,x.get(Q));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(A.keys()).find(Q=>Q.toLowerCase()=="content-type"),z=h.FormData&&m instanceof h.FormData,!(0<=Array.prototype.indexOf.call(zi,T,void 0))||x||z||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ae]of A)this.g.setRequestHeader(Q,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{po(this),this.u=!0,this.g.send(m),this.u=!1}catch(Q){Ss(this,Q)}};function Ss(m,T){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=T,m.m=5,Ar(m),Sr(m)}function Ar(m){m.A||(m.A=!0,Ft(m,"complete"),Ft(m,"error"))}r.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=m||7,Ft(this,"complete"),Ft(this,"abort"),Sr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Sr(this,!0)),ft.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?mu(this):this.bb())},r.bb=function(){mu(this)};function mu(m){if(m.h&&typeof c<"u"&&(!m.v[1]||pn(m)!=4||m.Z()!=2)){if(m.u&&pn(m)==4)su(m.Ea,0,m);else if(Ft(m,"readystatechange"),pn(m)==4){m.h=!1;try{const ae=m.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var A;if(!(A=T)){var x;if(x=ae===0){var z=String(m.D).match(Va)[1]||null;!z&&h.self&&h.self.location&&(z=h.self.location.protocol.slice(0,-1)),x=!on.test(z?z.toLowerCase():"")}A=x}if(A)Ft(m,"complete"),Ft(m,"success");else{m.m=6;try{var Q=2<pn(m)?m.g.statusText:""}catch{Q=""}m.l=Q+" ["+m.Z()+"]",Ar(m)}}finally{Sr(m)}}}}function Sr(m,T){if(m.g){po(m);const A=m.g,x=m.v[0]?()=>{}:null;m.g=null,m.v=null,T||Ft(m,"ready");try{A.onreadystatechange=x}catch{}}}function po(m){m.I&&(h.clearTimeout(m.I),m.I=null)}r.isActive=function(){return!!this.g};function pn(m){return m.g?m.g.readyState:0}r.Z=function(){try{return 2<pn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(m){if(this.g){var T=this.g.responseText;return m&&T.indexOf(m)==0&&(T=T.substring(m.length)),dn(T)}};function Rs(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.H){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function pu(m){const T={};m=(m.g&&2<=pn(m)&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<m.length;x++){if(ne(m[x]))continue;var A=L(m[x]);const z=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const Q=T[z]||[];T[z]=Q,Q.push(A)}b(T,function(x){return x.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xs(m,T,A){return A&&A.internalChannelParams&&A.internalChannelParams[m]||T}function gu(m){this.Aa=0,this.i=[],this.j=new mr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xs("failFast",!1,m),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xs("baseRetryDelayMs",5e3,m),this.cb=xs("retryDelaySeedMs",1e4,m),this.Wa=xs("forwardChannelMaxRetries",2,m),this.wa=xs("forwardChannelRequestTimeoutMs",2e4,m),this.pa=m&&m.xmlHttpFactory||void 0,this.Xa=m&&m.Tb||void 0,this.Ca=m&&m.useFetchStreams||!1,this.L=void 0,this.J=m&&m.supportsCrossDomainXhr||!1,this.K="",this.h=new Da(m&&m.concurrentRequestLimit),this.Da=new ii,this.P=m&&m.fastHandshake||!1,this.O=m&&m.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=m&&m.Rb||!1,m&&m.xa&&this.j.xa(),m&&m.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&m&&m.detectBufferingProxy||!1,this.ja=void 0,m&&m.longPollingTimeout&&0<m.longPollingTimeout&&(this.ja=m.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=gu.prototype,r.la=8,r.G=1,r.connect=function(m,T,A,x){Jt(0),this.W=m,this.H=T||{},A&&x!==void 0&&(this.H.OSID=A,this.H.OAID=x),this.F=this.X,this.I=Au(this,null,this.W),go(this)};function Oa(m){if(yu(m),m.G==3){var T=m.U++,A=Et(m.I);if(Je(A,"SID",m.K),Je(A,"RID",T),Je(A,"TYPE","terminate"),ws(m,A),T=new mi(m,m.j,T),T.L=2,T.v=Cs(Et(A)),A=!1,h.navigator&&h.navigator.sendBeacon)try{A=h.navigator.sendBeacon(T.v.toString(),"")}catch{}!A&&h.Image&&(new Image().src=T.v,A=!0),A||(T.g=Su(T.j,null),T.g.ea(T.v)),T.F=Date.now(),ni(T)}qa(m)}function Rr(m){m.g&&(za(m),m.g.cancel(),m.g=null)}function yu(m){Rr(m),m.u&&(h.clearTimeout(m.u),m.u=null),xr(m),m.h.cancel(),m.s&&(typeof m.s=="number"&&h.clearTimeout(m.s),m.s=null)}function go(m){if(!Na(m.h)&&!m.s){m.s=!0;var T=m.Ga;le||et(),Ee||(le(),Ee=!0),Qe.add(T,m),m.B=0}}function Hf(m,T){return uu(m.h)>=m.h.j-(m.s?1:0)?!1:m.s?(m.i=T.D.concat(m.i),!0):m.G==1||m.G==2||m.B>=(m.Va?0:m.Wa)?!1:(m.s=hr(S(m.Ga,m,T),Cu(m,m.B)),m.B++,!0)}r.Ga=function(m){if(this.s)if(this.s=null,this.G==1){if(!m){this.U=Math.floor(1e5*Math.random()),m=this.U++;const z=new mi(this,this.j,m);let Q=this.o;if(this.S&&(Q?(Q=I(Q),V(Q,this.S)):Q=this.S),this.m!==null||this.O||(z.H=Q,Q=null),this.P)e:{for(var T=0,A=0;A<this.i.length;A++){t:{var x=this.i[A];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(T+=x,4096<T){T=A;break e}if(T===4096||A===this.i.length-1){T=A+1;break e}}T=1e3}else T=1e3;T=Ba(this,z,T),A=Et(this.I),Je(A,"RID",m),Je(A,"CVER",22),this.D&&Je(A,"X-HTTP-Session-Id",this.D),ws(this,A),Q&&(this.O?T="headers="+encodeURIComponent(String(As(Q)))+"&"+T:this.m&&Cr(A,this.m,Q)),_r(this.h,z),this.Ua&&Je(A,"TYPE","init"),this.P?(Je(A,"$req",T),Je(A,"SID","null"),z.T=!0,vs(z,A,null)):vs(z,A,T),this.G=2}}else this.G==3&&(m?_u(this,m):this.i.length==0||Na(this.h)||_u(this))};function _u(m,T){var A;T?A=T.l:A=m.U++;const x=Et(m.I);Je(x,"SID",m.K),Je(x,"RID",A),Je(x,"AID",m.T),ws(m,x),m.m&&m.o&&Cr(x,m.m,m.o),A=new mi(m,m.j,A,m.B+1),m.m===null&&(A.H=m.o),T&&(m.i=T.D.concat(m.i)),T=Ba(m,A,1e3),A.I=Math.round(.5*m.wa)+Math.round(.5*m.wa*Math.random()),_r(m.h,A),vs(A,x,T)}function ws(m,T){m.H&&fe(m.H,function(A,x){Je(T,x,A)}),m.l&&lo({},function(A,x){Je(T,x,A)})}function Ba(m,T,A){A=Math.min(m.i.length,A);var x=m.l?S(m.l.Na,m.l,m):null;e:{var z=m.i;let Q=-1;for(;;){const ae=["count="+A];Q==-1?0<A?(Q=z[0].g,ae.push("ofs="+Q)):Q=0:ae.push("ofs="+Q);let tt=!0;for(let Mt=0;Mt<A;Mt++){let Le=z[Mt].g;const qt=z[Mt].map;if(Le-=Q,0>Le)Q=Math.max(0,z[Mt].g-100),tt=!1;else try{ka(qt,ae,"req"+Le+"_")}catch{x&&x(qt)}}if(tt){x=ae.join("&");break e}}}return m=m.i.splice(0,A),T.D=m,x}function vu(m){if(!m.g&&!m.u){m.Y=1;var T=m.Fa;le||et(),Ee||(le(),Ee=!0),Qe.add(T,m),m.v=0}}function Fa(m){return m.g||m.u||3<=m.v?!1:(m.Y++,m.u=hr(S(m.Fa,m),Cu(m,m.v)),m.v++,!0)}r.Fa=function(){if(this.u=null,Tu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var m=2*this.R;this.j.info("BP detection timer enabled: "+m),this.A=hr(S(this.ab,this),m)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jt(10),Rr(this),Tu(this))};function za(m){m.A!=null&&(h.clearTimeout(m.A),m.A=null)}function Tu(m){m.g=new mi(m,m.j,"rpc",m.Y),m.m===null&&(m.g.H=m.o),m.g.O=0;var T=Et(m.qa);Je(T,"RID","rpc"),Je(T,"SID",m.K),Je(T,"AID",m.T),Je(T,"CI",m.F?"0":"1"),!m.F&&m.ja&&Je(T,"TO",m.ja),Je(T,"TYPE","xmlhttp"),ws(m,T),m.m&&m.o&&Cr(T,m.m,m.o),m.L&&(m.g.I=m.L);var A=m.g;m=m.ia,A.L=1,A.v=Cs(Et(T)),A.m=null,A.P=!0,ki(A,m)}r.Za=function(){this.C!=null&&(this.C=null,Rr(this),Fa(this),Jt(19))};function xr(m){m.C!=null&&(h.clearTimeout(m.C),m.C=null)}function Eu(m,T){var A=null;if(m.g==T){xr(m),za(m),m.g=null;var x=2}else if(yr(m.h,T))A=T.D,qn(m.h,T),x=1;else return;if(m.G!=0){if(T.o)if(x==1){A=T.m?T.m.length:0,T=Date.now()-T.F;var z=m.B;x=oo(),Ft(x,new wa(x,A)),go(m)}else vu(m);else if(z=T.s,z==3||z==0&&0<T.X||!(x==1&&Hf(m,T)||x==2&&Fa(m)))switch(A&&0<A.length&&(T=m.h,T.i=T.i.concat(A)),z){case 1:qi(m,5);break;case 4:qi(m,10);break;case 3:qi(m,6);break;default:qi(m,2)}}}function Cu(m,T){let A=m.Ta+Math.floor(Math.random()*m.cb);return m.isActive()||(A*=2),A*T}function qi(m,T){if(m.j.info("Error code "+T),T==2){var A=S(m.fb,m),x=m.Xa;const z=!x;x=new Bi(x||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||vr(x,"https"),Cs(x),z?La(x.toString(),A):hu(x.toString(),A)}else Jt(2);m.G=0,m.l&&m.l.sa(T),qa(m),yu(m)}r.fb=function(m){m?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function qa(m){if(m.G=0,m.ka=[],m.l){const T=mn(m.h);(T.length!=0||m.i.length!=0)&&($(m.ka,T),$(m.ka,m.i),m.h.i.length=0,q(m.i),m.i.length=0),m.l.ra()}}function Au(m,T,A){var x=A instanceof Bi?Et(A):new Bi(A);if(x.g!="")T&&(x.g=T+"."+x.g),Es(x,x.s);else{var z=h.location;x=z.protocol,T=T?T+"."+z.hostname:z.hostname,z=+z.port;var Q=new Bi(null);x&&vr(Q,x),T&&(Q.g=T),z&&Es(Q,z),A&&(Q.l=A),x=Q}return A=m.D,T=m.ya,A&&T&&Je(x,A,T),Je(x,"VER",m.la),ws(m,x),x}function Su(m,T,A){if(T&&!m.J)throw Error("Can't create secondary domain capable XhrIo object.");return T=m.Ca&&!m.pa?new ft(new yi({eb:A})):new ft(m.pa),T.Ha(m.J),T}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ru(){}r=Ru.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function yo(){}yo.prototype.g=function(m,T){return new gn(m,T)};function gn(m,T){kt.call(this),this.g=new gu(T),this.l=m,this.h=T&&T.messageUrlParams||null,m=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(m?m["X-WebChannel-Content-Type"]=T.messageContentType:m={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.va&&(m?m["X-WebChannel-Client-Profile"]=T.va:m={"X-WebChannel-Client-Profile":T.va}),this.g.S=m,(m=T&&T.Sb)&&!ne(m)&&(this.g.m=m),this.v=T&&T.supportsCrossDomainXhr||!1,this.u=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!ne(T)&&(this.g.D=T,m=this.h,m!==null&&T in m&&(m=this.h,T in m&&delete m[T])),this.j=new wr(this)}P(gn,kt),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Oa(this.g)},gn.prototype.o=function(m){var T=this.g;if(typeof m=="string"){var A={};A.__data__=m,m=A}else this.u&&(A={},A.__data__=Fn(m),m=A);T.i.push(new Bf(T.Ya++,m)),T.G==3&&go(T)},gn.prototype.N=function(){this.g.l=null,delete this.j,Oa(this.g),delete this.g,gn.aa.N.call(this)};function xu(m){cr.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var T=m.__sm__;if(T){e:{for(const A in T){m=A;break e}m=void 0}(this.i=m)&&(m=this.i,T=T!==null&&m in T?T[m]:void 0),this.data=T}else this.data=m}P(xu,cr);function wu(){ti.call(this),this.status=1}P(wu,ti);function wr(m){this.g=m}P(wr,Ru),wr.prototype.ua=function(){Ft(this.g,"a")},wr.prototype.ta=function(m){Ft(this.g,new xu(m))},wr.prototype.sa=function(m){Ft(this.g,new wu)},wr.prototype.ra=function(){Ft(this.g,"b")},yo.prototype.createWebChannel=yo.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,b0=function(){return new yo},M0=function(){return oo()},I0=zn,Am={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Tt.NO_ERROR=0,Tt.TIMEOUT=8,Tt.HTTP_ERROR=6,qc=Tt,Zt.COMPLETE="complete",w0=Zt,_s.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",kt.prototype.listen=kt.prototype.K,Ml=_s,ft.prototype.listenOnce=ft.prototype.L,ft.prototype.getLastError=ft.prototype.Ka,ft.prototype.getLastErrorCode=ft.prototype.Ba,ft.prototype.getStatus=ft.prototype.Z,ft.prototype.getResponseJson=ft.prototype.Oa,ft.prototype.getResponseText=ft.prototype.oa,ft.prototype.send=ft.prototype.ea,ft.prototype.setWithCredentials=ft.prototype.Ha,x0=ft}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});const YT="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _a="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new l2("@firebase/firestore");function Qo(){return Ws.logLevel}function de(r,...e){if(Ws.logLevel<=$e.DEBUG){const t=e.map(Jm);Ws.debug(`Firestore (${_a}): ${r}`,...t)}}function ar(r,...e){if(Ws.logLevel<=$e.ERROR){const t=e.map(Jm);Ws.error(`Firestore (${_a}): ${r}`,...t)}}function la(r,...e){if(Ws.logLevel<=$e.WARN){const t=e.map(Jm);Ws.warn(`Firestore (${_a}): ${r}`,...t)}}function Jm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(r="Unexpected state"){const e=`FIRESTORE (${_a}) INTERNAL ASSERTION FAILED: `+r;throw ar(e),new Error(e)}function nt(r,e){r||xe()}function De(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends _f{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class u2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(un.UNAUTHENTICATED)))}shutdown(){}}class c2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class f2{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){nt(this.o===void 0);let n=this.i;const o=y=>this.i!==n?(n=this.i,t(y)):Promise.resolve();let a=new Qs;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Qs,e.enqueueRetryable((()=>o(this.currentUser)))};const c=()=>{const y=a;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},h=y=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((y=>h(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?h(y):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Qs)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((n=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(nt(typeof n.accessToken=="string"),new D0(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return nt(e===null||typeof e=="string"),new un(e)}}class d2{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=un.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class h2{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new d2(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class m2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class p2{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){nt(this.o===void 0);const n=a=>{a.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.R;return this.R=a.token,de("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>n(a)))};const o=a=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((a=>o(a))),setTimeout((()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?o(a):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(nt(typeof t.token=="string"),this.R=t.token,new m2(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const o=g2(40);for(let a=0;a<o.length;++a)n.length<20&&o[a]<t&&(n+=e.charAt(o[a]%e.length))}return n}}function Ke(r,e){return r<e?-1:r>e?1:0}function ua(r,e,t){return r.length===e.length&&r.every(((n,o)=>t(n,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new me(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new me(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new me(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Bt.fromMillis(Date.now())}static fromDate(e){return Bt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Bt(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ke(this.nanoseconds,e.nanoseconds):Ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ie(e)}static min(){return new Ie(new Bt(0,0))}static max(){return new Ie(new Bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(e,t,n){t===void 0?t=0:t>e.length&&xe(),n===void 0?n=e.length-t:n>e.length-t&&xe(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return ql.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ql?e.forEach((n=>{t.push(n)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let o=0;o<n;o++){const a=e.get(o),c=t.get(o);if(a<c)return-1;if(a>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class gt extends ql{construct(e,t,n){return new gt(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new me(te.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((o=>o.length>0)))}return new gt(t)}static emptyPath(){return new gt([])}}const y2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nn extends ql{construct(e,t,n){return new nn(e,t,n)}static isValidIdentifier(e){return y2.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new nn(["__name__"])}static fromServerFormat(e){const t=[];let n="",o=0;const a=()=>{if(n.length===0)throw new me(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let c=!1;for(;o<e.length;){const h=e[o];if(h==="\\"){if(o+1===e.length)throw new me(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new me(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=y,o+=2}else h==="`"?(c=!c,o++):h!=="."||c?(n+=h,o++):(a(),o++)}if(a(),c)throw new me(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nn(t)}static emptyPath(){return new nn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.path=e}static fromPath(e){return new Ce(gt.fromString(e))}static fromName(e){return new Ce(gt.fromString(e).popFirst(5))}static empty(){return new Ce(gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return gt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ce(new gt(e.slice()))}}function _2(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,o=Ie.fromTimestamp(n===1e9?new Bt(t+1,0):new Bt(t,n));return new ss(o,Ce.empty(),e)}function v2(r){return new ss(r.readTime,r.key,-1)}class ss{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new ss(Ie.min(),Ce.empty(),-1)}static max(){return new ss(Ie.max(),Ce.empty(),-1)}}function T2(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Ce.comparator(r.documentKey,e.documentKey),t!==0?t:Ke(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function va(r){if(r.code!==te.FAILED_PRECONDITION||r.message!==E2)throw r;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee(((n,o)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,o)},this.catchCallback=a=>{this.wrapFailure(t,a).next(n,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ee.reject(t)}static resolve(e){return new ee(((t,n)=>{t(e)}))}static reject(e){return new ee(((t,n)=>{n(e)}))}static waitFor(e){return new ee(((t,n)=>{let o=0,a=0,c=!1;e.forEach((h=>{++o,h.next((()=>{++a,c&&a===o&&t()}),(y=>n(y)))})),c=!0,a===o&&t()}))}static or(e){let t=ee.resolve(!1);for(const n of e)t=t.next((o=>o?ee.resolve(o):n()));return t}static forEach(e,t){const n=[];return e.forEach(((o,a)=>{n.push(t.call(this,o,a))})),this.waitFor(n)}static mapArray(e,t){return new ee(((n,o)=>{const a=e.length,c=new Array(a);let h=0;for(let y=0;y<a;y++){const g=y;t(e[g]).next((v=>{c[g]=v,++h,h===a&&n(c)}),(v=>o(v)))}}))}static doWhile(e,t){return new ee(((n,o)=>{const a=()=>{e()===!0?t().next((()=>{a()}),o):n()};a()}))}}function A2(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ta(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ie(n),this.se=n=>t.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}vf.oe=-1;function Tf(r){return r==null}function af(r){return r===0&&1/r==-1/0}function S2(r){return typeof r=="number"&&Number.isInteger(r)&&!af(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R2(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=$T(e)),e=x2(r.get(t),e);return $T(e)}function x2(r,e){let t=e;const n=r.length;for(let o=0;o<n;o++){const a=r.charAt(o);switch(a){case"\0":t+="";break;case"":t+="";break;default:t+=a}}return t}function $T(r){return r+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function ds(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function V0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,t){this.comparator=e,this.root=t||tn.EMPTY}insert(e,t){return new vt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(e){return new vt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(o===0)return t+n.left.size;o<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pc(this.root,e,this.comparator,!0)}}class Pc{constructor(e,t,n,o){this.isReverse=o,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?n(e.key,t):1,t&&o&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tn{constructor(e,t,n,o,a){this.key=e,this.value=t,this.color=n??tn.RED,this.left=o??tn.EMPTY,this.right=a??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,o,a){return new tn(e??this.key,t??this.value,n??this.color,o??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let o=this;const a=n(e,o.key);return o=a<0?o.copy(null,null,null,o.left.insert(e,t,n),null):a===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,n)),o.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return tn.EMPTY;n=o.right.min(),o=o.copy(n.key,n.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const e=this.left.check();if(e!==this.right.check())throw xe();return e+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(e,t,n,o,a){return this}insert(e,t,n){return new tn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.comparator=e,this.data=new vt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const o=n.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new QT(this.data.getIterator())}getIteratorFrom(e){return new QT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((n=>{t=t.add(n)})),t}isEqual(e){if(!(e instanceof $t)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=n.getNext().key;if(this.comparator(o,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new $t(this.comparator);return t.data=e,t}}class QT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.fields=e,e.sort(nn.comparator)}static empty(){return new Bn([])}unionWith(e){let t=new $t(nn.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Bn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ua(this.fields,e.fields,((t,n)=>t.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new P0("Invalid base64 string: "+a):a}})(e);return new rn(t)}static fromUint8Array(e){const t=(function(o){let a="";for(let c=0;c<o.length;++c)a+=String.fromCharCode(o[c]);return a})(e);return new rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const n=new Uint8Array(t.length);for(let o=0;o<t.length;o++)n[o]=t.charCodeAt(o);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const w2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function os(r){if(nt(!!r),typeof r=="string"){let e=0;const t=w2.exec(r);if(nt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:It(r.seconds),nanos:It(r.nanos)}}function It(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function as(r){return typeof r=="string"?rn.fromBase64String(r):rn.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zm(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Ef(r){const e=r.mapValue.fields.__previous_value__;return Zm(e)?Ef(e):e}function Gl(r){const e=os(r.mapValue.fields.__local_write_time__.timestampValue);return new Bt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,t,n,o,a,c,h,y,g){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=o,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=y,this.useFetchStreams=g}}class Hl{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Hl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Hl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc={mapValue:{}};function ls(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Zm(r)?4:b2(r)?9007199254740991:M2(r)?10:11:xe()}function Di(r,e){if(r===e)return!0;const t=ls(r);if(t!==ls(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Gl(r).isEqual(Gl(e));case 3:return(function(o,a){if(typeof o.timestampValue=="string"&&typeof a.timestampValue=="string"&&o.timestampValue.length===a.timestampValue.length)return o.timestampValue===a.timestampValue;const c=os(o.timestampValue),h=os(a.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,a){return as(o.bytesValue).isEqual(as(a.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,a){return It(o.geoPointValue.latitude)===It(a.geoPointValue.latitude)&&It(o.geoPointValue.longitude)===It(a.geoPointValue.longitude)})(r,e);case 2:return(function(o,a){if("integerValue"in o&&"integerValue"in a)return It(o.integerValue)===It(a.integerValue);if("doubleValue"in o&&"doubleValue"in a){const c=It(o.doubleValue),h=It(a.doubleValue);return c===h?af(c)===af(h):isNaN(c)&&isNaN(h)}return!1})(r,e);case 9:return ua(r.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:case 11:return(function(o,a){const c=o.mapValue.fields||{},h=a.mapValue.fields||{};if(KT(c)!==KT(h))return!1;for(const y in c)if(c.hasOwnProperty(y)&&(h[y]===void 0||!Di(c[y],h[y])))return!1;return!0})(r,e);default:return xe()}}function Yl(r,e){return(r.values||[]).find((t=>Di(t,e)))!==void 0}function ca(r,e){if(r===e)return 0;const t=ls(r),n=ls(e);if(t!==n)return Ke(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ke(r.booleanValue,e.booleanValue);case 2:return(function(a,c){const h=It(a.integerValue||a.doubleValue),y=It(c.integerValue||c.doubleValue);return h<y?-1:h>y?1:h===y?0:isNaN(h)?isNaN(y)?0:-1:1})(r,e);case 3:return JT(r.timestampValue,e.timestampValue);case 4:return JT(Gl(r),Gl(e));case 5:return Ke(r.stringValue,e.stringValue);case 6:return(function(a,c){const h=as(a),y=as(c);return h.compareTo(y)})(r.bytesValue,e.bytesValue);case 7:return(function(a,c){const h=a.split("/"),y=c.split("/");for(let g=0;g<h.length&&g<y.length;g++){const v=Ke(h[g],y[g]);if(v!==0)return v}return Ke(h.length,y.length)})(r.referenceValue,e.referenceValue);case 8:return(function(a,c){const h=Ke(It(a.latitude),It(c.latitude));return h!==0?h:Ke(It(a.longitude),It(c.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return ZT(r.arrayValue,e.arrayValue);case 10:return(function(a,c){var h,y,g,v;const C=a.fields||{},S=c.fields||{},w=(h=C.value)===null||h===void 0?void 0:h.arrayValue,P=(y=S.value)===null||y===void 0?void 0:y.arrayValue,q=Ke(((g=w==null?void 0:w.values)===null||g===void 0?void 0:g.length)||0,((v=P==null?void 0:P.values)===null||v===void 0?void 0:v.length)||0);return q!==0?q:ZT(w,P)})(r.mapValue,e.mapValue);case 11:return(function(a,c){if(a===Uc.mapValue&&c===Uc.mapValue)return 0;if(a===Uc.mapValue)return 1;if(c===Uc.mapValue)return-1;const h=a.fields||{},y=Object.keys(h),g=c.fields||{},v=Object.keys(g);y.sort(),v.sort();for(let C=0;C<y.length&&C<v.length;++C){const S=Ke(y[C],v[C]);if(S!==0)return S;const w=ca(h[y[C]],g[v[C]]);if(w!==0)return w}return Ke(y.length,v.length)})(r.mapValue,e.mapValue);default:throw xe()}}function JT(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ke(r,e);const t=os(r),n=os(e),o=Ke(t.seconds,n.seconds);return o!==0?o:Ke(t.nanos,n.nanos)}function ZT(r,e){const t=r.values||[],n=e.values||[];for(let o=0;o<t.length&&o<n.length;++o){const a=ca(t[o],n[o]);if(a)return a}return Ke(t.length,n.length)}function fa(r){return Sm(r)}function Sm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const n=os(t);return`time(${n.seconds},${n.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return as(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return Ce.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let n="[",o=!0;for(const a of t.values||[])o?o=!1:n+=",",n+=Sm(a);return n+"]"})(r.arrayValue):"mapValue"in r?(function(t){const n=Object.keys(t.fields||{}).sort();let o="{",a=!0;for(const c of n)a?a=!1:o+=",",o+=`${c}:${Sm(t.fields[c])}`;return o+"}"})(r.mapValue):xe()}function Gc(r){switch(ls(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ef(r);return e?16+Gc(e):16;case 5:return 2*r.stringValue.length;case 6:return as(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((o,a)=>o+Gc(a)),0)})(r.arrayValue);case 10:case 11:return(function(n){let o=0;return ds(n.fields,((a,c)=>{o+=a.length+Gc(c)})),o})(r.mapValue);default:throw xe()}}function XT(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Rm(r){return!!r&&"integerValue"in r}function Xm(r){return!!r&&"arrayValue"in r}function WT(r){return!!r&&"nullValue"in r}function jT(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Hc(r){return!!r&&"mapValue"in r}function M2(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ul(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ds(r.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Ul(n))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ul(r.arrayValue.values[t]);return e}return Object.assign({},r)}function b2(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.value=e}static empty(){return new In({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Hc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ul(t)}setAll(e){let t=nn.emptyPath(),n={},o=[];e.forEach(((c,h)=>{if(!t.isImmediateParentOf(h)){const y=this.getFieldsMap(t);this.applyChanges(y,n,o),n={},o=[],t=h.popLast()}c?n[h.lastSegment()]=Ul(c):o.push(h.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,n,o)}delete(e){const t=this.field(e.popLast());Hc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let o=t.mapValue.fields[e.get(n)];Hc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,n){ds(t,((o,a)=>e[o]=a));for(const o of n)delete e[o]}clone(){return new In(Ul(this.value))}}function U0(r){const e=[];return ds(r.fields,((t,n)=>{const o=new nn([t]);if(Hc(n)){const a=U0(n.mapValue).fields;if(a.length===0)e.push(o);else for(const c of a)e.push(o.child(c))}else e.push(o)})),new Bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,t,n,o,a,c,h){this.key=e,this.documentType=t,this.version=n,this.readTime=o,this.createTime=a,this.data=c,this.documentState=h}static newInvalidDocument(e){return new fn(e,0,Ie.min(),Ie.min(),Ie.min(),In.empty(),0)}static newFoundDocument(e,t,n,o){return new fn(e,1,t,Ie.min(),n,o,0)}static newNoDocument(e,t){return new fn(e,2,t,Ie.min(),Ie.min(),In.empty(),0)}static newUnknownDocument(e,t){return new fn(e,3,t,Ie.min(),Ie.min(),In.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=In.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=In.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,t){this.position=e,this.inclusive=t}}function eE(r,e,t){let n=0;for(let o=0;o<r.position.length;o++){const a=e[o],c=r.position[o];if(a.field.isKeyField()?n=Ce.comparator(Ce.fromName(c.referenceValue),t.key):n=ca(c,t.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function tE(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!Di(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,t="asc"){this.field=e,this.dir=t}}function D2(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{}class Lt extends L0{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new V2(e,t,n):t==="array-contains"?new L2(e,n):t==="in"?new k2(e,n):t==="not-in"?new O2(e,n):t==="array-contains-any"?new B2(e,n):new Lt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new P2(e,n):new U2(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ca(t,this.value)):t!==null&&ls(this.value)===ls(t)&&this.matchesComparison(ca(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ui extends L0{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new ui(e,t)}matches(e){return k0(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function k0(r){return r.op==="and"}function O0(r){return N2(r)&&k0(r)}function N2(r){for(const e of r.filters)if(e instanceof ui)return!1;return!0}function xm(r){if(r instanceof Lt)return r.field.canonicalString()+r.op.toString()+fa(r.value);if(O0(r))return r.filters.map((e=>xm(e))).join(",");{const e=r.filters.map((t=>xm(t))).join(",");return`${r.op}(${e})`}}function B0(r,e){return r instanceof Lt?(function(n,o){return o instanceof Lt&&n.op===o.op&&n.field.isEqual(o.field)&&Di(n.value,o.value)})(r,e):r instanceof ui?(function(n,o){return o instanceof ui&&n.op===o.op&&n.filters.length===o.filters.length?n.filters.reduce(((a,c,h)=>a&&B0(c,o.filters[h])),!0):!1})(r,e):void xe()}function F0(r){return r instanceof Lt?(function(t){return`${t.field.canonicalString()} ${t.op} ${fa(t.value)}`})(r):r instanceof ui?(function(t){return t.op.toString()+" {"+t.getFilters().map(F0).join(" ,")+"}"})(r):"Filter"}class V2 extends Lt{constructor(e,t,n){super(e,t,n),this.key=Ce.fromName(n.referenceValue)}matches(e){const t=Ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class P2 extends Lt{constructor(e,t){super(e,"in",t),this.keys=z0("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class U2 extends Lt{constructor(e,t){super(e,"not-in",t),this.keys=z0("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function z0(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((n=>Ce.fromName(n.referenceValue)))}class L2 extends Lt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Xm(t)&&Yl(t.arrayValue,this.value)}}class k2 extends Lt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Yl(this.value.arrayValue,t)}}class O2 extends Lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Yl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Yl(this.value.arrayValue,t)}}class B2 extends Lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Xm(t)||!t.arrayValue.values)&&t.arrayValue.values.some((n=>Yl(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e,t=null,n=[],o=[],a=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=o,this.limit=a,this.startAt=c,this.endAt=h,this.ue=null}}function nE(r,e=null,t=[],n=[],o=null,a=null,c=null){return new F2(r,e,t,n,o,a,c)}function Wm(r){const e=De(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((n=>xm(n))).join(","),t+="|ob:",t+=e.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),Tf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((n=>fa(n))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((n=>fa(n))).join(",")),e.ue=t}return e.ue}function jm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!D2(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!B0(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!tE(r.startAt,e.startAt)&&tE(r.endAt,e.endAt)}function wm(r){return Ce.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,t=null,n=[],o=[],a=null,c="F",h=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=o,this.limit=a,this.limitType=c,this.startAt=h,this.endAt=y,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function z2(r,e,t,n,o,a,c,h){return new Ea(r,e,t,n,o,a,c,h)}function ep(r){return new Ea(r)}function iE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function q0(r){return r.collectionGroup!==null}function Ll(r){const e=De(r);if(e.ce===null){e.ce=[];const t=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),t.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new $t(nn.comparator);return c.filters.forEach((y=>{y.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.ce.push(new $l(a,n))})),t.has(nn.keyField().canonicalString())||e.ce.push(new $l(nn.keyField(),n))}return e.ce}function wi(r){const e=De(r);return e.le||(e.le=q2(e,Ll(r))),e.le}function q2(r,e){if(r.limitType==="F")return nE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const a=o.dir==="desc"?"asc":"desc";return new $l(o.field,a)}));const t=r.endAt?new lf(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new lf(r.startAt.position,r.startAt.inclusive):null;return nE(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function Im(r,e){const t=r.filters.concat([e]);return new Ea(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function Mm(r,e,t){return new Ea(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Cf(r,e){return jm(wi(r),wi(e))&&r.limitType===e.limitType}function G0(r){return`${Wm(wi(r))}|lt:${r.limitType}`}function Jo(r){return`Query(target=${(function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map((o=>F0(o))).join(", ")}]`),Tf(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map((o=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(o))).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((o=>fa(o))).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((o=>fa(o))).join(",")),`Target(${n})`})(wi(r))}; limitType=${r.limitType})`}function Af(r,e){return e.isFoundDocument()&&(function(n,o){const a=o.key.path;return n.collectionGroup!==null?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):Ce.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(r,e)&&(function(n,o){for(const a of Ll(n))if(!a.field.isKeyField()&&o.data.field(a.field)===null)return!1;return!0})(r,e)&&(function(n,o){for(const a of n.filters)if(!a.matches(o))return!1;return!0})(r,e)&&(function(n,o){return!(n.startAt&&!(function(c,h,y){const g=eE(c,h,y);return c.inclusive?g<=0:g<0})(n.startAt,Ll(n),o)||n.endAt&&!(function(c,h,y){const g=eE(c,h,y);return c.inclusive?g>=0:g>0})(n.endAt,Ll(n),o))})(r,e)}function G2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function H0(r){return(e,t)=>{let n=!1;for(const o of Ll(r)){const a=H2(o,e,t);if(a!==0)return a;n=n||o.field.isKeyField()}return 0}}function H2(r,e,t){const n=r.field.isKeyField()?Ce.comparator(e.key,t.key):(function(a,c,h){const y=c.data.field(a),g=h.data.field(a);return y!==null&&g!==null?ca(y,g):xe()})(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[o,a]of n)if(this.equalsFn(o,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),o=this.inner[n];if(o===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let a=0;a<o.length;a++)if(this.equalsFn(o[a][0],e))return void(o[a]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let o=0;o<n.length;o++)if(this.equalsFn(n[o][0],e))return n.length===1?delete this.inner[t]:n.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ds(this.inner,((t,n)=>{for(const[o,a]of n)e(o,a)}))}isEmpty(){return V0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=new vt(Ce.comparator);function lr(){return Y2}const Y0=new vt(Ce.comparator);function bl(...r){let e=Y0;for(const t of r)e=e.insert(t.key,t);return e}function $0(r){let e=Y0;return r.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function $s(){return kl()}function K0(){return kl()}function kl(){return new js((r=>r.toString()),((r,e)=>r.isEqual(e)))}const $2=new vt(Ce.comparator),K2=new $t(Ce.comparator);function ze(...r){let e=K2;for(const t of r)e=e.add(t);return e}const Q2=new $t(Ke);function J2(){return Q2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:af(e)?"-0":e}}function Q0(r){return{integerValue:""+r}}function J0(r,e){return S2(e)?Q0(e):tp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(){this._=void 0}}function Z2(r,e,t){return r instanceof uf?(function(o,a){const c={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return a&&Zm(a)&&(a=Ef(a)),a&&(c.fields.__previous_value__=a),{mapValue:c}})(t,e):r instanceof Kl?X0(r,e):r instanceof Ql?W0(r,e):(function(o,a){const c=Z0(o,a),h=rE(c)+rE(o.Pe);return Rm(c)&&Rm(o.Pe)?Q0(h):tp(o.serializer,h)})(r,e)}function X2(r,e,t){return r instanceof Kl?X0(r,e):r instanceof Ql?W0(r,e):t}function Z0(r,e){return r instanceof Jl?(function(n){return Rm(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(e)?e:{integerValue:0}:null}class uf extends Sf{}class Kl extends Sf{constructor(e){super(),this.elements=e}}function X0(r,e){const t=j0(e);for(const n of r.elements)t.some((o=>Di(o,n)))||t.push(n);return{arrayValue:{values:t}}}class Ql extends Sf{constructor(e){super(),this.elements=e}}function W0(r,e){let t=j0(e);for(const n of r.elements)t=t.filter((o=>!Di(o,n)));return{arrayValue:{values:t}}}class Jl extends Sf{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function rE(r){return It(r.integerValue||r.doubleValue)}function j0(r){return Xm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e,t){this.field=e,this.transform=t}}function j2(r,e){return r.field.isEqual(e.field)&&(function(n,o){return n instanceof Kl&&o instanceof Kl||n instanceof Ql&&o instanceof Ql?ua(n.elements,o.elements,Di):n instanceof Jl&&o instanceof Jl?Di(n.Pe,o.Pe):n instanceof uf&&o instanceof uf})(r.transform,e.transform)}class eP{constructor(e,t){this.version=e,this.transformResults=t}}class li{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new li}static exists(e){return new li(void 0,e)}static updateTime(e){return new li(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Rf{}function eC(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new np(r.key,li.none()):new Wl(r.key,r.data,li.none());{const t=r.data,n=In.empty();let o=new $t(nn.comparator);for(let a of e.fields)if(!o.has(a)){let c=t.field(a);c===null&&a.length>1&&(a=a.popLast(),c=t.field(a)),c===null?n.delete(a):n.set(a,c),o=o.add(a)}return new hs(r.key,n,new Bn(o.toArray()),li.none())}}function tP(r,e,t){r instanceof Wl?(function(o,a,c){const h=o.value.clone(),y=oE(o.fieldTransforms,a,c.transformResults);h.setAll(y),a.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(r,e,t):r instanceof hs?(function(o,a,c){if(!Yc(o.precondition,a))return void a.convertToUnknownDocument(c.version);const h=oE(o.fieldTransforms,a,c.transformResults),y=a.data;y.setAll(tC(o)),y.setAll(h),a.convertToFoundDocument(c.version,y).setHasCommittedMutations()})(r,e,t):(function(o,a,c){a.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Ol(r,e,t,n){return r instanceof Wl?(function(a,c,h,y){if(!Yc(a.precondition,c))return h;const g=a.value.clone(),v=aE(a.fieldTransforms,y,c);return g.setAll(v),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(r,e,t,n):r instanceof hs?(function(a,c,h,y){if(!Yc(a.precondition,c))return h;const g=aE(a.fieldTransforms,y,c),v=c.data;return v.setAll(tC(a)),v.setAll(g),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),h===null?null:h.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((C=>C.field)))})(r,e,t,n):(function(a,c,h){return Yc(a.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(r,e,t)}function nP(r,e){let t=null;for(const n of r.fieldTransforms){const o=e.data.field(n.field),a=Z0(n.transform,o||null);a!=null&&(t===null&&(t=In.empty()),t.set(n.field,a))}return t||null}function sE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(n,o){return n===void 0&&o===void 0||!(!n||!o)&&ua(n,o,((a,c)=>j2(a,c)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Wl extends Rf{constructor(e,t,n,o=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class hs extends Rf{constructor(e,t,n,o,a=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=o,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function tC(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}})),e}function oE(r,e,t){const n=new Map;nt(r.length===t.length);for(let o=0;o<t.length;o++){const a=r[o],c=a.transform,h=e.data.field(a.field);n.set(a.field,X2(c,h,t[o]))}return n}function aE(r,e,t){const n=new Map;for(const o of r){const a=o.transform,c=t.data.field(o.field);n.set(o.field,Z2(a,c,e))}return n}class np extends Rf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class iP extends Rf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,t,n,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=o}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const a=this.mutations[o];a.key.isEqual(e.key)&&tP(a,e,n[o])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ol(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Ol(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=K0();return this.mutations.forEach((o=>{const a=e.get(o.key),c=a.overlayedDocument;let h=this.applyToLocalView(c,a.mutatedFields);h=t.has(o.key)?null:h;const y=eC(c,h);y!==null&&n.set(o.key,y),c.isValidDocument()||c.convertToNoDocument(Ie.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ze())}isEqual(e){return this.batchId===e.batchId&&ua(this.mutations,e.mutations,((t,n)=>sE(t,n)))&&ua(this.baseMutations,e.baseMutations,((t,n)=>sE(t,n)))}}class ip{constructor(e,t,n,o){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=o}static from(e,t,n){nt(e.mutations.length===n.length);let o=(function(){return $2})();const a=e.mutations;for(let c=0;c<a.length;c++)o=o.insert(a[c].key,n[c].version);return new ip(e,t,n,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Ye;function aP(r){switch(r){default:return xe();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0}}function nC(r){if(r===void 0)return ar("GRPC error has no .code"),te.UNKNOWN;switch(r){case Pt.OK:return te.OK;case Pt.CANCELLED:return te.CANCELLED;case Pt.UNKNOWN:return te.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return te.INTERNAL;case Pt.UNAVAILABLE:return te.UNAVAILABLE;case Pt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Pt.NOT_FOUND:return te.NOT_FOUND;case Pt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Pt.ABORTED:return te.ABORTED;case Pt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Pt.DATA_LOSS:return te.DATA_LOSS;default:return xe()}}(Ye=Pt||(Pt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=new Ks([4294967295,4294967295],0);function lE(r){const e=lP().encode(r),t=new R0;return t.update(e),new Uint8Array(t.digest())}function uE(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),o=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ks([t,n],0),new Ks([o,a],0)]}class rp{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Dl(`Invalid padding: ${t}`);if(n<0)throw new Dl(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Dl(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Dl(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Ks.fromNumber(this.Ie)}Ee(e,t,n){let o=e.add(t.multiply(Ks.fromNumber(n)));return o.compare(uP)===1&&(o=new Ks([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=lE(e),[n,o]=uE(t);for(let a=0;a<this.hashCount;a++){const c=this.Ee(n,o,a);if(!this.de(c))return!1}return!0}static create(e,t,n){const o=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new rp(a,o,t);return n.forEach((h=>c.insert(h))),c}insert(e){if(this.Ie===0)return;const t=lE(e),[n,o]=uE(t);for(let a=0;a<this.hashCount;a++){const c=this.Ee(n,o,a);this.Ae(c)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,t,n,o,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=o,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const o=new Map;return o.set(e,jl.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new xf(Ie.min(),o,new vt(Ke),lr(),ze())}}class jl{constructor(e,t,n,o,a){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=o,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new jl(n,t,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,t,n,o){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=o}}class iC{constructor(e,t){this.targetId=e,this.me=t}}class rC{constructor(e,t,n=rn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=o}}class cE{constructor(){this.fe=0,this.ge=dE(),this.pe=rn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ze(),t=ze(),n=ze();return this.ge.forEach(((o,a)=>{switch(a){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:n=n.add(o);break;default:xe()}})),new jl(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=dE()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,nt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class cP{constructor(e){this.Le=e,this.Be=new Map,this.ke=lr(),this.qe=fE(),this.Qe=new vt(Ke)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:xe()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((n,o)=>{this.ze(o)&&t(o)}))}He(e){const t=e.targetId,n=e.me.count,o=this.Je(t);if(o){const a=o.target;if(wm(a))if(n===0){const c=new Ce(a.path);this.Ue(t,c,fn.newNoDocument(c,Ie.min()))}else nt(n===1);else{const c=this.Ye(t);if(c!==n){const h=this.Ze(e),y=h?this.Xe(h,e,c):1;if(y!==0){this.je(t);const g=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,g)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:o=0},hashCount:a=0}=t;let c,h;try{c=as(n).toUint8Array()}catch(y){if(y instanceof P0)return la("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{h=new rp(c,o,a)}catch(y){return la(y instanceof Dl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return h.Ie===0?null:h}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let o=0;return n.forEach((a=>{const c=this.Le.tt(),h=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;e.mightContain(h)||(this.Ue(t,a,null),o++)})),o}rt(e){const t=new Map;this.Be.forEach(((a,c)=>{const h=this.Je(c);if(h){if(a.current&&wm(h.target)){const y=new Ce(h.target.path);this.ke.get(y)!==null||this.it(c,y)||this.Ue(c,y,fn.newNoDocument(y,e))}a.be&&(t.set(c,a.ve()),a.Ce())}}));let n=ze();this.qe.forEach(((a,c)=>{let h=!0;c.forEachWhile((y=>{const g=this.Je(y);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(n=n.add(a))})),this.ke.forEach(((a,c)=>c.setReadTime(e)));const o=new xf(e,t,this.Qe,this.ke,n);return this.ke=lr(),this.qe=fE(),this.Qe=new vt(Ke),o}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new cE,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new $t(Ke),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new cE),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function fE(){return new vt(Ce.comparator)}function dE(){return new vt(Ce.comparator)}const fP={asc:"ASCENDING",desc:"DESCENDING"},dP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hP={and:"AND",or:"OR"};class mP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function bm(r,e){return r.useProto3Json||Tf(e)?e:{value:e}}function cf(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sC(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function pP(r,e){return cf(r,e.toTimestamp())}function Ii(r){return nt(!!r),Ie.fromTimestamp((function(t){const n=os(t);return new Bt(n.seconds,n.nanos)})(r))}function sp(r,e){return Dm(r,e).canonicalString()}function Dm(r,e){const t=(function(o){return new gt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?t:t.child(e)}function oC(r){const e=gt.fromString(r);return nt(fC(e)),e}function Nm(r,e){return sp(r.databaseId,e.path)}function Zh(r,e){const t=oC(e);if(t.get(1)!==r.databaseId.projectId)throw new me(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new me(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Ce(lC(t))}function aC(r,e){return sp(r.databaseId,e)}function gP(r){const e=oC(r);return e.length===4?gt.emptyPath():lC(e)}function Vm(r){return new gt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function lC(r){return nt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function hE(r,e,t){return{name:Nm(r,e),fields:t.value.mapValue.fields}}function yP(r,e){let t;if("targetChange"in e){e.targetChange;const n=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:xe()})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],a=(function(g,v){return g.useProto3Json?(nt(v===void 0||typeof v=="string"),rn.fromBase64String(v||"")):(nt(v===void 0||v instanceof Buffer||v instanceof Uint8Array),rn.fromUint8Array(v||new Uint8Array))})(r,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(g){const v=g.code===void 0?te.UNKNOWN:nC(g.code);return new me(v,g.message||"")})(c);t=new rC(n,o,a,h||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const o=Zh(r,n.document.name),a=Ii(n.document.updateTime),c=n.document.createTime?Ii(n.document.createTime):Ie.min(),h=new In({mapValue:{fields:n.document.fields}}),y=fn.newFoundDocument(o,a,c,h),g=n.targetIds||[],v=n.removedTargetIds||[];t=new $c(g,v,y.key,y)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const o=Zh(r,n.document),a=n.readTime?Ii(n.readTime):Ie.min(),c=fn.newNoDocument(o,a),h=n.removedTargetIds||[];t=new $c([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const o=Zh(r,n.document),a=n.removedTargetIds||[];t=new $c([],a,o,null)}else{if(!("filter"in e))return xe();{e.filter;const n=e.filter;n.targetId;const{count:o=0,unchangedNames:a}=n,c=new oP(o,a),h=n.targetId;t=new iC(h,c)}}return t}function _P(r,e){let t;if(e instanceof Wl)t={update:hE(r,e.key,e.value)};else if(e instanceof np)t={delete:Nm(r,e.key)};else if(e instanceof hs)t={update:hE(r,e.key,e.data),updateMask:wP(e.fieldMask)};else{if(!(e instanceof iP))return xe();t={verify:Nm(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((n=>(function(a,c){const h=c.transform;if(h instanceof uf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Kl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Ql)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Jl)return{fieldPath:c.field.canonicalString(),increment:h.Pe};throw xe()})(0,n)))),e.precondition.isNone||(t.currentDocument=(function(o,a){return a.updateTime!==void 0?{updateTime:pP(o,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:xe()})(r,e.precondition)),t}function vP(r,e){return r&&r.length>0?(nt(e!==void 0),r.map((t=>(function(o,a){let c=o.updateTime?Ii(o.updateTime):Ii(a);return c.isEqual(Ie.min())&&(c=Ii(a)),new eP(c,o.transformResults||[])})(t,e)))):[]}function TP(r,e){return{documents:[aC(r,e.path)]}}function EP(r,e){const t={structuredQuery:{}},n=e.path;let o;e.collectionGroup!==null?(o=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=aC(r,o);const a=(function(g){if(g.length!==0)return cC(ui.create(g,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const c=(function(g){if(g.length!==0)return g.map((v=>(function(S){return{field:Zo(S.field),direction:SP(S.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=bm(r,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{_t:t,parent:o}}function CP(r){let e=gP(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let o=null;if(n>0){nt(n===1);const v=t.from[0];v.allDescendants?o=v.collectionId:e=e.child(v.collectionId)}let a=[];t.where&&(a=(function(C){const S=uC(C);return S instanceof ui&&O0(S)?S.getFilters():[S]})(t.where));let c=[];t.orderBy&&(c=(function(C){return C.map((S=>(function(P){return new $l(Xo(P.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(P.direction))})(S)))})(t.orderBy));let h=null;t.limit&&(h=(function(C){let S;return S=typeof C=="object"?C.value:C,Tf(S)?null:S})(t.limit));let y=null;t.startAt&&(y=(function(C){const S=!!C.before,w=C.values||[];return new lf(w,S)})(t.startAt));let g=null;return t.endAt&&(g=(function(C){const S=!C.before,w=C.values||[];return new lf(w,S)})(t.endAt)),z2(e,o,c,a,h,"F",y,g)}function AP(r,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function uC(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=Xo(t.unaryFilter.field);return Lt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const o=Xo(t.unaryFilter.field);return Lt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Xo(t.unaryFilter.field);return Lt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Xo(t.unaryFilter.field);return Lt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return xe()}})(r):r.fieldFilter!==void 0?(function(t){return Lt.create(Xo(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return ui.create(t.compositeFilter.filters.map((n=>uC(n))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return xe()}})(t.compositeFilter.op))})(r):xe()}function SP(r){return fP[r]}function RP(r){return dP[r]}function xP(r){return hP[r]}function Zo(r){return{fieldPath:r.canonicalString()}}function Xo(r){return nn.fromServerFormat(r.fieldPath)}function cC(r){return r instanceof Lt?(function(t){if(t.op==="=="){if(jT(t.value))return{unaryFilter:{field:Zo(t.field),op:"IS_NAN"}};if(WT(t.value))return{unaryFilter:{field:Zo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(jT(t.value))return{unaryFilter:{field:Zo(t.field),op:"IS_NOT_NAN"}};if(WT(t.value))return{unaryFilter:{field:Zo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zo(t.field),op:RP(t.op),value:t.value}}})(r):r instanceof ui?(function(t){const n=t.getFilters().map((o=>cC(o)));return n.length===1?n[0]:{compositeFilter:{op:xP(t.op),filters:n}}})(r):xe()}function wP(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function fC(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,t,n,o,a=Ie.min(),c=Ie.min(),h=rn.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=o,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=y}withSequenceNumber(e){return new Wr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e){this.ct=e}}function MP(r){const e=CP({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Mm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(){this.un=new DP}addToCollectionParentIndex(e,t){return this.un.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(ss.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(ss.min())}updateCollectionGroup(e,t,n){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class DP{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),o=this.index[t]||new $t(gt.comparator),a=!o.has(n);return this.index[t]=o.add(n),a}has(e){const t=e.lastSegment(),n=e.popLast(),o=this.index[t];return o&&o.has(n)}getEntries(e){return(this.index[e]||new $t(gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class wn{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new wn(e,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(41943040,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new da(0)}static kn(){return new da(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pE([r,e],[t,n]){const o=Ke(r,t);return o===0?Ke(e,n):o}class NP{constructor(e){this.Un=e,this.buffer=new $t(pE),this.Wn=0}Gn(){return++this.Wn}zn(e){const t=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(t);else{const n=this.buffer.last();pE(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}get maxValue(){return this.buffer.last()[0]}}class VP{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){de("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ta(t)?de("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await va(t)}await this.Hn(3e5)}))}}class PP{constructor(e,t){this.Jn=e,this.params=t}calculateTargetCount(e,t){return this.Jn.Yn(e).next((n=>Math.floor(t/100*n)))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(vf.oe);const n=new NP(t);return this.Jn.forEachTarget(e,(o=>n.zn(o.sequenceNumber))).next((()=>this.Jn.Zn(e,(o=>n.zn(o))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Jn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(mE)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mE):this.Xn(e,t)))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,t){let n,o,a,c,h,y,g;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((C=>(C>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${C}`),o=this.params.maximumSequenceNumbersToCollect):o=C,c=Date.now(),this.nthSequenceNumber(e,o)))).next((C=>(n=C,h=Date.now(),this.removeTargets(e,n,t)))).next((C=>(a=C,y=Date.now(),this.removeOrphanedDocuments(e,n)))).next((C=>(g=Date.now(),Qo()<=$e.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${o} in `+(h-c)+`ms
	Removed ${a} targets in `+(y-h)+`ms
	Removed ${C} documents in `+(g-y)+`ms
Total Duration: ${g-v}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:a,documentsRemoved:C}))))}}function UP(r,e){return new PP(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(){this.changes=new js((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,fn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?ee.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e,t,n,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=o}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(n=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(n!==null&&Ol(n.mutation,o,Bn.empty(),Bt.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.getLocalViewOfDocuments(e,n,ze()).next((()=>n))))}getLocalViewOfDocuments(e,t,n=ze()){const o=$s();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,n).next((a=>{let c=bl();return a.forEach(((h,y)=>{c=c.insert(h,y.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const n=$s();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,ze())))}populateOverlays(e,t,n){const o=[];return n.forEach((a=>{t.has(a)||o.push(a)})),this.documentOverlayCache.getOverlays(e,o).next((a=>{a.forEach(((c,h)=>{t.set(c,h)}))}))}computeViews(e,t,n,o){let a=lr();const c=kl(),h=(function(){return kl()})();return t.forEach(((y,g)=>{const v=n.get(g.key);o.has(g.key)&&(v===void 0||v.mutation instanceof hs)?a=a.insert(g.key,g):v!==void 0?(c.set(g.key,v.mutation.getFieldMask()),Ol(v.mutation,g,v.mutation.getFieldMask(),Bt.now())):c.set(g.key,Bn.empty())})),this.recalculateAndSaveOverlays(e,a).next((y=>(y.forEach(((g,v)=>c.set(g,v))),t.forEach(((g,v)=>{var C;return h.set(g,new kP(v,(C=c.get(g))!==null&&C!==void 0?C:null))})),h)))}recalculateAndSaveOverlays(e,t){const n=kl();let o=new vt(((c,h)=>c-h)),a=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const h of c)h.keys().forEach((y=>{const g=t.get(y);if(g===null)return;let v=n.get(y)||Bn.empty();v=h.applyToLocalView(g,v),n.set(y,v);const C=(o.get(h.batchId)||ze()).add(y);o=o.insert(h.batchId,C)}))})).next((()=>{const c=[],h=o.getReverseIterator();for(;h.hasNext();){const y=h.getNext(),g=y.key,v=y.value,C=K0();v.forEach((S=>{if(!a.has(S)){const w=eC(t.get(S),n.get(S));w!==null&&C.set(S,w),a=a.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(e,g,C))}return ee.waitFor(c)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,t,n,o){return(function(c){return Ce.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):q0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,o):this.getDocumentsMatchingCollectionQuery(e,t,n,o)}getNextDocuments(e,t,n,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,o).next((a=>{const c=o-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,o-a.size):ee.resolve($s());let h=-1,y=a;return c.next((g=>ee.forEach(g,((v,C)=>(h<C.largestBatchId&&(h=C.largestBatchId),a.get(v)?ee.resolve():this.remoteDocumentCache.getEntry(e,v).next((S=>{y=y.insert(v,S)}))))).next((()=>this.populateOverlays(e,g,a))).next((()=>this.computeViews(e,y,g,ze()))).next((v=>({batchId:h,changes:$0(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ce(t)).next((n=>{let o=bl();return n.isFoundDocument()&&(o=o.insert(n.key,n)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,o){const a=t.collectionGroup;let c=bl();return this.indexManager.getCollectionParents(e,a).next((h=>ee.forEach(h,(y=>{const g=(function(C,S){return new Ea(S,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt)})(t,y.child(a));return this.getDocumentsMatchingCollectionQuery(e,g,n,o).next((v=>{v.forEach(((C,S)=>{c=c.insert(C,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,n,o){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((c=>(a=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,a,o)))).next((c=>{a.forEach(((y,g)=>{const v=g.getKey();c.get(v)===null&&(c=c.insert(v,fn.newInvalidDocument(v)))}));let h=bl();return c.forEach(((y,g)=>{const v=a.get(y);v!==void 0&&Ol(v.mutation,g,Bn.empty(),Bt.now()),Af(t,g)&&(h=h.insert(y,g))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return ee.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:Ii(o.createTime)}})(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,(function(o){return{name:o.name,query:MP(o.bundledQuery),readTime:Ii(o.readTime)}})(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(){this.overlays=new vt(Ce.comparator),this.Ir=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const n=$s();return ee.forEach(t,(o=>this.getOverlay(e,o).next((a=>{a!==null&&n.set(o,a)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((o,a)=>{this.ht(e,t,a)})),ee.resolve()}removeOverlaysForBatchId(e,t,n){const o=this.Ir.get(n);return o!==void 0&&(o.forEach((a=>this.overlays=this.overlays.remove(a))),this.Ir.delete(n)),ee.resolve()}getOverlaysForCollection(e,t,n){const o=$s(),a=t.length+1,c=new Ce(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const y=h.getNext().value,g=y.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===a&&y.largestBatchId>n&&o.set(y.getKey(),y)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,t,n,o){let a=new vt(((g,v)=>g-v));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>n){let v=a.get(g.largestBatchId);v===null&&(v=$s(),a=a.insert(g.largestBatchId,v)),v.set(g.getKey(),g)}}const h=$s(),y=a.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((g,v)=>h.set(g,v))),!(h.size()>=o)););return ee.resolve(h)}ht(e,t,n){const o=this.overlays.get(n.key);if(o!==null){const c=this.Ir.get(o.largestBatchId).delete(n.key);this.Ir.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(n.key,new sP(t,n));let a=this.Ir.get(t);a===void 0&&(a=ze(),this.Ir.set(t,a)),this.Ir.set(t,a.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(){this.Tr=new $t(Yt.Er),this.dr=new $t(Yt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new Yt(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach((n=>this.addReference(n,t)))}removeReference(e,t){this.Vr(new Yt(e,t))}mr(e,t){e.forEach((n=>this.removeReference(n,t)))}gr(e){const t=new Ce(new gt([])),n=new Yt(t,e),o=new Yt(t,e+1),a=[];return this.dr.forEachInRange([n,o],(c=>{this.Vr(c),a.push(c.key)})),a}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Ce(new gt([])),n=new Yt(t,e),o=new Yt(t,e+1);let a=ze();return this.dr.forEachInRange([n,o],(c=>{a=a.add(c.key)})),a}containsKey(e){const t=new Yt(e,0),n=this.Tr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class Yt{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Ce.comparator(e.key,t.key)||Ke(e.wr,t.wr)}static Ar(e,t){return Ke(e.wr,t.wr)||Ce.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new $t(Yt.Er)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,o){const a=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new rP(a,t,n,o);this.mutationQueue.push(c);for(const h of o)this.br=this.br.add(new Yt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ee.resolve(c)}lookupMutationBatch(e,t){return ee.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,o=this.vr(n),a=o<0?0:o;return ee.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Yt(t,0),o=new Yt(t,Number.POSITIVE_INFINITY),a=[];return this.br.forEachInRange([n,o],(c=>{const h=this.Dr(c.wr);a.push(h)})),ee.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new $t(Ke);return t.forEach((o=>{const a=new Yt(o,0),c=new Yt(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([a,c],(h=>{n=n.add(h.wr)}))})),ee.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,o=n.length+1;let a=n;Ce.isDocumentKey(a)||(a=a.child(""));const c=new Yt(new Ce(a),0);let h=new $t(Ke);return this.br.forEachWhile((y=>{const g=y.key.path;return!!n.isPrefixOf(g)&&(g.length===o&&(h=h.add(y.wr)),!0)}),c),ee.resolve(this.Cr(h))}Cr(e){const t=[];return e.forEach((n=>{const o=this.Dr(n);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){nt(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return ee.forEach(t.mutations,(o=>{const a=new Yt(o.key,t.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,t){const n=new Yt(t,0),o=this.br.firstAfterOrEqual(n);return ee.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e){this.Mr=e,this.docs=(function(){return new vt(Ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,o=this.docs.get(n),a=o?o.size:0,c=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ee.resolve(n?n.document.mutableCopy():fn.newInvalidDocument(t))}getEntries(e,t){let n=lr();return t.forEach((o=>{const a=this.docs.get(o);n=n.insert(o,a?a.document.mutableCopy():fn.newInvalidDocument(o))})),ee.resolve(n)}getDocumentsMatchingQuery(e,t,n,o){let a=lr();const c=t.path,h=new Ce(c.child("")),y=this.docs.getIteratorFrom(h);for(;y.hasNext();){const{key:g,value:{document:v}}=y.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||T2(v2(v),n)<=0||(o.has(v.key)||Af(t,v))&&(a=a.insert(v.key,v.mutableCopy()))}return ee.resolve(a)}getAllFromCollectionGroup(e,t,n,o){xe()}Or(e,t){return ee.forEach(this.docs,(n=>t(n)))}newChangeBuffer(e){return new HP(this)}getSize(e){return ee.resolve(this.size)}}class HP extends LP{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(n)})),ee.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e){this.persistence=e,this.Nr=new js((t=>Wm(t)),jm),this.lastRemoteSnapshotVersion=Ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new op,this.targetCount=0,this.kr=da.Bn()}forEachTarget(e,t){return this.Nr.forEach(((n,o)=>t(o))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),ee.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new da(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.Kn(t),ee.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,n){let o=0;const a=[];return this.Nr.forEach(((c,h)=>{h.sequenceNumber<=t&&n.get(h.targetId)===null&&(this.Nr.delete(c),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)})),ee.waitFor(a).next((()=>o))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return ee.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),ee.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const o=this.persistence.referenceDelegate,a=[];return o&&t.forEach((c=>{a.push(o.markPotentiallyOrphaned(e,c))})),ee.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return ee.resolve(n)}containsKey(e,t){return ee.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,t){this.qr={},this.overlays={},this.Qr=new vf(0),this.Kr=!1,this.Kr=!0,this.$r=new zP,this.referenceDelegate=e(this),this.Ur=new YP(this),this.indexManager=new bP,this.remoteDocumentCache=(function(o){return new GP(o)})((n=>this.referenceDelegate.Wr(n))),this.serializer=new IP(t),this.Gr=new BP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new FP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new qP(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){de("MemoryPersistence","Starting transaction:",e);const o=new $P(this.Qr.next());return this.referenceDelegate.zr(),n(o).next((a=>this.referenceDelegate.jr(o).next((()=>a)))).toPromise().then((a=>(o.raiseOnCommittedEvent(),a)))}Hr(e,t){return ee.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,t))))}}class $P extends C2{constructor(e){super(),this.currentSequenceNumber=e}}class ap{constructor(e){this.persistence=e,this.Jr=new op,this.Yr=null}static Zr(e){return new ap(e)}get Xr(){if(this.Yr)return this.Yr;throw xe()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),ee.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((o=>this.Xr.add(o.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((a=>this.Xr.add(a.toString())))})).next((()=>n.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.Xr,(n=>{const o=Ce.fromPath(n);return this.ei(e,o).next((a=>{a||t.removeEntry(o,Ie.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((n=>{n?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return ee.or([()=>ee.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class ff{constructor(e,t){this.persistence=e,this.ti=new js((n=>R2(n.path)),((n,o)=>n.isEqual(o))),this.garbageCollector=UP(this,t)}static Zr(e,t){return new ff(e,t)}zr(){}jr(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Yn(e){const t=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>t.next((o=>n+o))))}er(e){let t=0;return this.Zn(e,(n=>{t++})).next((()=>t))}Zn(e,t){return ee.forEach(this.ti,((n,o)=>this.nr(e,n,o).next((a=>a?ee.resolve():t(o)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const o=this.persistence.getRemoteDocumentCache(),a=o.newChangeBuffer();return o.Or(e,(c=>this.nr(e,c,t).next((h=>{h||(n++,a.removeEntry(c,Ie.min()))})))).next((()=>a.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.ti.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.ti.set(n,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,n){return this.ti.set(n,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.ti.set(t,e.currentSequenceNumber),ee.resolve()}Wr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Gc(e.data.value)),t}nr(e,t,n){return ee.or([()=>this.persistence.Hr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.ti.get(t);return ee.resolve(o!==void 0&&o>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,t,n,o){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=o}static Wi(e,t){let n=ze(),o=ze();for(const a of t.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:o=o.add(a.doc.key)}return new lp(e,t.fromCache,n,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(function(){return WV()?8:A2(ZV())>0?6:4})()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,o){const a={result:null};return this.Yi(e,t).next((c=>{a.result=c})).next((()=>{if(!a.result)return this.Zi(e,t,o,n).next((c=>{a.result=c}))})).next((()=>{if(a.result)return;const c=new KP;return this.Xi(e,t,c).next((h=>{if(a.result=h,this.zi)return this.es(e,t,c,h.size)}))})).next((()=>a.result))}es(e,t,n,o){return n.documentReadCount<this.ji?(Qo()<=$e.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Jo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ee.resolve()):(Qo()<=$e.DEBUG&&de("QueryEngine","Query:",Jo(t),"scans",n.documentReadCount,"local documents and returns",o,"documents as results."),n.documentReadCount>this.Hi*o?(Qo()<=$e.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Jo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,wi(t))):ee.resolve())}Yi(e,t){if(iE(t))return ee.resolve(null);let n=wi(t);return this.indexManager.getIndexType(e,n).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=Mm(t,null,"F"),n=wi(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((a=>{const c=ze(...a);return this.Ji.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,n).next((y=>{const g=this.ts(t,h);return this.ns(t,g,c,y.readTime)?this.Yi(e,Mm(t,null,"F")):this.rs(e,g,t,y)}))))})))))}Zi(e,t,n,o){return iE(t)||o.isEqual(Ie.min())?ee.resolve(null):this.Ji.getDocuments(e,n).next((a=>{const c=this.ts(t,a);return this.ns(t,c,n,o)?ee.resolve(null):(Qo()<=$e.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Jo(t)),this.rs(e,c,t,_2(o,-1)).next((h=>h)))}))}ts(e,t){let n=new $t(H0(e));return t.forEach(((o,a)=>{Af(e,a)&&(n=n.add(a))})),n}ns(e,t,n,o){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(o)>0)}Xi(e,t,n){return Qo()<=$e.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Jo(t)),this.Ji.getDocumentsMatchingQuery(e,t,ss.min(),n)}rs(e,t,n,o){return this.Ji.getDocumentsMatchingQuery(e,n,o).next((a=>(t.forEach((c=>{a=a.insert(c.key,c)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,t,n,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new vt(Ke),this._s=new js((a=>Wm(a)),jm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OP(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function ZP(r,e,t,n){return new JP(r,e,t,n)}async function hC(r,e){const t=De(r);return await t.persistence.runTransaction("Handle user change","readonly",(n=>{let o;return t.mutationQueue.getAllMutationBatches(n).next((a=>(o=a,t.ls(e),t.mutationQueue.getAllMutationBatches(n)))).next((a=>{const c=[],h=[];let y=ze();for(const g of o){c.push(g.batchId);for(const v of g.mutations)y=y.add(v.key)}for(const g of a){h.push(g.batchId);for(const v of g.mutations)y=y.add(v.key)}return t.localDocuments.getDocuments(n,y).next((g=>({hs:g,removedBatchIds:c,addedBatchIds:h})))}))}))}function XP(r,e){const t=De(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const o=e.batch.keys(),a=t.cs.newChangeBuffer({trackRemovals:!0});return(function(h,y,g,v){const C=g.batch,S=C.keys();let w=ee.resolve();return S.forEach((P=>{w=w.next((()=>v.getEntry(y,P))).next((q=>{const $=g.docVersions.get(P);nt($!==null),q.version.compareTo($)<0&&(C.applyToRemoteDocument(q,g),q.isValidDocument()&&(q.setReadTime(g.commitVersion),v.addEntry(q)))}))})),w.next((()=>h.mutationQueue.removeMutationBatch(y,C)))})(t,n,e,a).next((()=>a.apply(n))).next((()=>t.mutationQueue.performConsistencyCheck(n))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(n,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(h){let y=ze();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(y=y.add(h.batch.mutations[g].key));return y})(e)))).next((()=>t.localDocuments.getDocuments(n,o)))}))}function mC(r){const e=De(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Ur.getLastRemoteSnapshotVersion(t)))}function WP(r,e){const t=De(r),n=e.snapshotVersion;let o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const c=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;const h=[];e.targetChanges.forEach(((v,C)=>{const S=o.get(C);if(!S)return;h.push(t.Ur.removeMatchingKeys(a,v.removedDocuments,C).next((()=>t.Ur.addMatchingKeys(a,v.addedDocuments,C))));let w=S.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(C)!==null?w=w.withResumeToken(rn.EMPTY_BYTE_STRING,Ie.min()).withLastLimboFreeSnapshotVersion(Ie.min()):v.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(v.resumeToken,n)),o=o.insert(C,w),(function(q,$,re){return q.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8?!0:re.addedDocuments.size+re.modifiedDocuments.size+re.removedDocuments.size>0})(S,w,v)&&h.push(t.Ur.updateTargetData(a,w))}));let y=lr(),g=ze();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,v))})),h.push(jP(a,c,e.documentUpdates).next((v=>{y=v.Ps,g=v.Is}))),!n.isEqual(Ie.min())){const v=t.Ur.getLastRemoteSnapshotVersion(a).next((C=>t.Ur.setTargetsMetadata(a,a.currentSequenceNumber,n)));h.push(v)}return ee.waitFor(h).next((()=>c.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,y,g))).next((()=>y))})).then((a=>(t.os=o,a)))}function jP(r,e,t){let n=ze(),o=ze();return t.forEach((a=>n=n.add(a))),e.getEntries(r,n).next((a=>{let c=lr();return t.forEach(((h,y)=>{const g=a.get(h);y.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(h)),y.isNoDocument()&&y.version.isEqual(Ie.min())?(e.removeEntry(h,y.readTime),c=c.insert(h,y)):!g.isValidDocument()||y.version.compareTo(g.version)>0||y.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(y),c=c.insert(h,y)):de("LocalStore","Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",y.version)})),{Ps:c,Is:o}}))}function eU(r,e){const t=De(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function tU(r,e){const t=De(r);return t.persistence.runTransaction("Allocate target","readwrite",(n=>{let o;return t.Ur.getTargetData(n,e).next((a=>a?(o=a,ee.resolve(o)):t.Ur.allocateTargetId(n).next((c=>(o=new Wr(e,c,"TargetPurposeListen",n.currentSequenceNumber),t.Ur.addTargetData(n,o).next((()=>o)))))))})).then((n=>{const o=t.os.get(n.targetId);return(o===null||n.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(n.targetId,n),t._s.set(e,n.targetId)),n}))}async function Pm(r,e,t){const n=De(r),o=n.os.get(e),a=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",a,(c=>n.persistence.referenceDelegate.removeTarget(c,o)))}catch(c){if(!Ta(c))throw c;de("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}n.os=n.os.remove(e),n._s.delete(o.target)}function gE(r,e,t){const n=De(r);let o=Ie.min(),a=ze();return n.persistence.runTransaction("Execute query","readwrite",(c=>(function(y,g,v){const C=De(y),S=C._s.get(v);return S!==void 0?ee.resolve(C.os.get(S)):C.Ur.getTargetData(g,v)})(n,c,wi(e)).next((h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(c,h.targetId).next((y=>{a=y}))})).next((()=>n.ss.getDocumentsMatchingQuery(c,e,t?o:Ie.min(),t?a:ze()))).next((h=>(nU(n,G2(e),h),{documents:h,Ts:a})))))}function nU(r,e,t){let n=r.us.get(e)||Ie.min();t.forEach(((o,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),r.us.set(e,n)}class yE{constructor(){this.activeTargetIds=J2()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iU{constructor(){this.so=new yE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new yE,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rU{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){de("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){de("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc=null;function Xh(){return Lc===null?Lc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Lc++,"0x"+Lc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln="WebChannelConnection";class aU extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+t.host,this.vo=`projects/${o}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${a}`}get Fo(){return!1}Mo(t,n,o,a,c){const h=Xh(),y=this.xo(t,n.toUriEncodedString());de("RestConnection",`Sending RPC '${t}' ${h}:`,y,o);const g={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(g,a,c),this.No(t,y,g,o).then((v=>(de("RestConnection",`Received RPC '${t}' ${h}: `,v),v)),(v=>{throw la("RestConnection",`RPC '${t}' ${h} failed with error: `,v,"url: ",y,"request:",o),v}))}Lo(t,n,o,a,c,h){return this.Mo(t,n,o,a,c)}Oo(t,n,o){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_a})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((a,c)=>t[c]=a)),o&&o.headers.forEach(((a,c)=>t[c]=a))}xo(t,n){const o=sU[t];return`${this.Do}/v1/${n}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,o){const a=Xh();return new Promise(((c,h)=>{const y=new x0;y.setWithCredentials(!0),y.listenOnce(w0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case qc.NO_ERROR:const v=y.getResponseJson();de(ln,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(v)),c(v);break;case qc.TIMEOUT:de(ln,`RPC '${e}' ${a} timed out`),h(new me(te.DEADLINE_EXCEEDED,"Request time out"));break;case qc.HTTP_ERROR:const C=y.getStatus();if(de(ln,`RPC '${e}' ${a} failed with status:`,C,"response text:",y.getResponseText()),C>0){let S=y.getResponseJson();Array.isArray(S)&&(S=S[0]);const w=S==null?void 0:S.error;if(w&&w.status&&w.message){const P=(function($){const re=$.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(re)>=0?re:te.UNKNOWN})(w.status);h(new me(P,w.message))}else h(new me(te.UNKNOWN,"Server responded with status "+y.getStatus()))}else h(new me(te.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{de(ln,`RPC '${e}' ${a} completed.`)}}));const g=JSON.stringify(o);de(ln,`RPC '${e}' ${a} sending request:`,o),y.send(t,"POST",g,n,15)}))}Bo(e,t,n){const o=Xh(),a=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=b0(),h=M0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(y.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(y.useFetchStreams=!0),this.Oo(y.initMessageHeaders,t,n),y.encodeInitMessageHeaders=!0;const v=a.join("");de(ln,`Creating RPC '${e}' stream ${o}: ${v}`,y);const C=c.createWebChannel(v,y);let S=!1,w=!1;const P=new oU({Io:$=>{w?de(ln,`Not sending because RPC '${e}' stream ${o} is closed:`,$):(S||(de(ln,`Opening RPC '${e}' stream ${o} transport.`),C.open(),S=!0),de(ln,`RPC '${e}' stream ${o} sending:`,$),C.send($))},To:()=>C.close()}),q=($,re,ne)=>{$.listen(re,(ie=>{try{ne(ie)}catch(ue){setTimeout((()=>{throw ue}),0)}}))};return q(C,Ml.EventType.OPEN,(()=>{w||(de(ln,`RPC '${e}' stream ${o} transport opened.`),P.yo())})),q(C,Ml.EventType.CLOSE,(()=>{w||(w=!0,de(ln,`RPC '${e}' stream ${o} transport closed`),P.So())})),q(C,Ml.EventType.ERROR,($=>{w||(w=!0,la(ln,`RPC '${e}' stream ${o} transport errored:`,$),P.So(new me(te.UNAVAILABLE,"The operation could not be completed")))})),q(C,Ml.EventType.MESSAGE,($=>{var re;if(!w){const ne=$.data[0];nt(!!ne);const ie=ne,ue=ie.error||((re=ie[0])===null||re===void 0?void 0:re.error);if(ue){de(ln,`RPC '${e}' stream ${o} received error:`,ue);const _e=ue.status;let fe=(function(M){const V=Pt[M];if(V!==void 0)return nC(V)})(_e),b=ue.message;fe===void 0&&(fe=te.INTERNAL,b="Unknown error status: "+_e+" with message "+ue.message),w=!0,P.So(new me(fe,b)),C.close()}else de(ln,`RPC '${e}' stream ${o} received:`,ne),P.bo(ne)}})),q(h,I0.STAT_EVENT,($=>{$.stat===Am.PROXY?de(ln,`RPC '${e}' stream ${o} detected buffering proxy`):$.stat===Am.NOPROXY&&de(ln,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{P.wo()}),0),P}}function Wh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wf(r){return new mP(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,t,n=1e3,o=1.5,a=6e4){this.ui=e,this.timerId=t,this.ko=n,this.qo=o,this.Qo=a,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-n);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(e,t,n,o,a,c,h,y){this.ui=e,this.Ho=n,this.Jo=o,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=y,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new pC(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(ar(t.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,o])=>{this.Yo===t&&this.P_(n,o)}),(n=>{e((()=>{const o=new me(te.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(o)}))}))}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((o=>{n((()=>this.I_(o)))})),this.stream.onMessage((o=>{n((()=>++this.e_==1?this.E_(o):this.onNext(o)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return de("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(de("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class lU extends gC{constructor(e,t,n,o,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,o,c),this.serializer=a}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=yP(this.serializer,e),n=(function(a){if(!("targetChange"in a))return Ie.min();const c=a.targetChange;return c.targetIds&&c.targetIds.length?Ie.min():c.readTime?Ii(c.readTime):Ie.min()})(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=Vm(this.serializer),t.addTarget=(function(a,c){let h;const y=c.target;if(h=wm(y)?{documents:TP(a,y)}:{query:EP(a,y)._t},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=sC(a,c.resumeToken);const g=bm(a,c.expectedCount);g!==null&&(h.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ie.min())>0){h.readTime=cf(a,c.snapshotVersion.toTimestamp());const g=bm(a,c.expectedCount);g!==null&&(h.expectedCount=g)}return h})(this.serializer,e);const n=AP(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=Vm(this.serializer),t.removeTarget=e,this.a_(t)}}class uU extends gC{constructor(e,t,n,o,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,o,c),this.serializer=a}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return nt(!!e.streamToken),this.lastStreamToken=e.streamToken,nt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=vP(e.writeResults,e.commitTime),n=Ii(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=Vm(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((n=>_P(this.serializer,n)))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cU extends class{}{constructor(e,t,n,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new me(te.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,c])=>this.connection.Mo(e,Dm(t,n),o,a,c))).catch((a=>{throw a.name==="FirebaseError"?(a.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new me(te.UNKNOWN,a.toString())}))}Lo(e,t,n,o,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Lo(e,Dm(t,n),o,c,h,a))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new me(te.UNKNOWN,c.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class fU{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ar(t),this.D_=!1):de("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dU{constructor(e,t,n,o,a){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=a,this.k_._o((c=>{n.enqueueAndForget((async()=>{eo(this)&&(de("RemoteStore","Restarting streams for network reachability change."),await(async function(y){const g=De(y);g.L_.add(4),await eu(g),g.q_.set("Unknown"),g.L_.delete(4),await If(g)})(this))}))})),this.q_=new fU(n,o)}}async function If(r){if(eo(r))for(const e of r.B_)await e(!0)}async function eu(r){for(const e of r.B_)await e(!1)}function yC(r,e){const t=De(r);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),dp(t)?fp(t):Ca(t).r_()&&cp(t,e))}function up(r,e){const t=De(r),n=Ca(t);t.N_.delete(e),n.r_()&&_C(t,e),t.N_.size===0&&(n.r_()?n.o_():eo(t)&&t.q_.set("Unknown"))}function cp(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ie.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ca(r).A_(e)}function _C(r,e){r.Q_.xe(e),Ca(r).R_(e)}function fp(r){r.Q_=new cP({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),Ca(r).start(),r.q_.v_()}function dp(r){return eo(r)&&!Ca(r).n_()&&r.N_.size>0}function eo(r){return De(r).L_.size===0}function vC(r){r.Q_=void 0}async function hU(r){r.q_.set("Online")}async function mU(r){r.N_.forEach(((e,t)=>{cp(r,e)}))}async function pU(r,e){vC(r),dp(r)?(r.q_.M_(e),fp(r)):r.q_.set("Unknown")}async function gU(r,e,t){if(r.q_.set("Online"),e instanceof rC&&e.state===2&&e.cause)try{await(async function(o,a){const c=a.cause;for(const h of a.targetIds)o.N_.has(h)&&(await o.remoteSyncer.rejectListen(h,c),o.N_.delete(h),o.Q_.removeTarget(h))})(r,e)}catch(n){de("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await df(r,n)}else if(e instanceof $c?r.Q_.Ke(e):e instanceof iC?r.Q_.He(e):r.Q_.We(e),!t.isEqual(Ie.min()))try{const n=await mC(r.localStore);t.compareTo(n)>=0&&await(function(a,c){const h=a.Q_.rt(c);return h.targetChanges.forEach(((y,g)=>{if(y.resumeToken.approximateByteSize()>0){const v=a.N_.get(g);v&&a.N_.set(g,v.withResumeToken(y.resumeToken,c))}})),h.targetMismatches.forEach(((y,g)=>{const v=a.N_.get(y);if(!v)return;a.N_.set(y,v.withResumeToken(rn.EMPTY_BYTE_STRING,v.snapshotVersion)),_C(a,y);const C=new Wr(v.target,y,g,v.sequenceNumber);cp(a,C)})),a.remoteSyncer.applyRemoteEvent(h)})(r,t)}catch(n){de("RemoteStore","Failed to raise snapshot:",n),await df(r,n)}}async function df(r,e,t){if(!Ta(e))throw e;r.L_.add(1),await eu(r),r.q_.set("Offline"),t||(t=()=>mC(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{de("RemoteStore","Retrying IndexedDB access"),await t(),r.L_.delete(1),await If(r)}))}function TC(r,e){return e().catch((t=>df(r,t,e)))}async function Mf(r){const e=De(r),t=us(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;yU(e);)try{const o=await eU(e.localStore,n);if(o===null){e.O_.length===0&&t.o_();break}n=o.batchId,_U(e,o)}catch(o){await df(e,o)}EC(e)&&CC(e)}function yU(r){return eo(r)&&r.O_.length<10}function _U(r,e){r.O_.push(e);const t=us(r);t.r_()&&t.V_&&t.m_(e.mutations)}function EC(r){return eo(r)&&!us(r).n_()&&r.O_.length>0}function CC(r){us(r).start()}async function vU(r){us(r).p_()}async function TU(r){const e=us(r);for(const t of r.O_)e.m_(t.mutations)}async function EU(r,e,t){const n=r.O_.shift(),o=ip.from(n,e,t);await TC(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Mf(r)}async function CU(r,e){e&&us(r).V_&&await(async function(n,o){if((function(c){return aP(c)&&c!==te.ABORTED})(o.code)){const a=n.O_.shift();us(n).s_(),await TC(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,o))),await Mf(n)}})(r,e),EC(r)&&CC(r)}async function vE(r,e){const t=De(r);t.asyncQueue.verifyOperationInProgress(),de("RemoteStore","RemoteStore received new credentials");const n=eo(t);t.L_.add(3),await eu(t),n&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await If(t)}async function AU(r,e){const t=De(r);e?(t.L_.delete(2),await If(t)):e||(t.L_.add(2),await eu(t),t.q_.set("Unknown"))}function Ca(r){return r.K_||(r.K_=(function(t,n,o){const a=De(t);return a.w_(),new lU(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(r.datastore,r.asyncQueue,{Eo:hU.bind(null,r),Ro:mU.bind(null,r),mo:pU.bind(null,r),d_:gU.bind(null,r)}),r.B_.push((async e=>{e?(r.K_.s_(),dp(r)?fp(r):r.q_.set("Unknown")):(await r.K_.stop(),vC(r))}))),r.K_}function us(r){return r.U_||(r.U_=(function(t,n,o){const a=De(t);return a.w_(),new uU(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,o)})(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:vU.bind(null,r),mo:CU.bind(null,r),f_:TU.bind(null,r),g_:EU.bind(null,r)}),r.B_.push((async e=>{e?(r.U_.s_(),await Mf(r)):(await r.U_.stop(),r.O_.length>0&&(de("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))}))),r.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,t,n,o,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=o,this.removalCallback=a,this.deferred=new Qs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,o,a){const c=Date.now()+n,h=new hp(e,t,c,o,a);return h.start(n),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mp(r,e){if(ar("AsyncQueue",`${e}: ${r}`),Ta(r))return new me(te.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ce.comparator(t.key,n.key):(t,n)=>Ce.comparator(t.key,n.key),this.keyedMap=bl(),this.sortedSet=new vt(this.comparator)}static emptySet(e){return new ta(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ta)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,a=n.getNext().key;if(!o.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new ta;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(){this.W_=new vt(Ce.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(t,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(t):e.type===1&&n.type===2?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):xe():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class ha{constructor(e,t,n,o,a,c,h,y,g){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=o,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=y,this.hasCachedResults=g}static fromInitialDocuments(e,t,n,o,a){const c=[];return t.forEach((h=>{c.push({type:0,doc:h})})),new ha(e,t,ta.emptySet(t),c,n,o,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==n[o].type||!t[o].doc.isEqual(n[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class RU{constructor(){this.queries=EE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,n){const o=De(t),a=o.queries;o.queries=EE(),a.forEach(((c,h)=>{for(const y of h.j_)y.onError(n)}))})(this,new me(te.ABORTED,"Firestore shutting down"))}}function EE(){return new js((r=>G0(r)),Cf)}async function xU(r,e){const t=De(r);let n=3;const o=e.query;let a=t.queries.get(o);a?!a.H_()&&e.J_()&&(n=2):(a=new SU,n=e.J_()?0:1);try{switch(n){case 0:a.z_=await t.onListen(o,!0);break;case 1:a.z_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const h=mp(c,`Initialization of query '${Jo(e.query)}' failed`);return void e.onError(h)}t.queries.set(o,a),a.j_.push(e),e.Z_(t.onlineState),a.z_&&e.X_(a.z_)&&pp(t)}async function wU(r,e){const t=De(r),n=e.query;let o=3;const a=t.queries.get(n);if(a){const c=a.j_.indexOf(e);c>=0&&(a.j_.splice(c,1),a.j_.length===0?o=e.J_()?0:1:!a.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function IU(r,e){const t=De(r);let n=!1;for(const o of e){const a=o.query,c=t.queries.get(a);if(c){for(const h of c.j_)h.X_(o)&&(n=!0);c.z_=o}}n&&pp(t)}function MU(r,e,t){const n=De(r),o=n.queries.get(e);if(o)for(const a of o.j_)a.onError(t);n.queries.delete(e)}function pp(r){r.Y_.forEach((e=>{e.next()}))}var Um,CE;(CE=Um||(Um={})).ea="default",CE.Cache="cache";class bU{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const o of e.docChanges)o.type!==3&&n.push(o);e=new ha(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const n=t!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=ha.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Um.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e){this.key=e}}class SC{constructor(e){this.key=e}}class DU{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ze(),this.mutatedKeys=ze(),this.Aa=H0(e),this.Ra=new ta(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new TE,o=t?t.Ra:this.Ra;let a=t?t.mutatedKeys:this.mutatedKeys,c=o,h=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((v,C)=>{const S=o.get(v),w=Af(this.query,C)?C:null,P=!!S&&this.mutatedKeys.has(S.key),q=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let $=!1;S&&w?S.data.isEqual(w.data)?P!==q&&(n.track({type:3,doc:w}),$=!0):this.ga(S,w)||(n.track({type:2,doc:w}),$=!0,(y&&this.Aa(w,y)>0||g&&this.Aa(w,g)<0)&&(h=!0)):!S&&w?(n.track({type:0,doc:w}),$=!0):S&&!w&&(n.track({type:1,doc:S}),$=!0,(y||g)&&(h=!0)),$&&(w?(c=c.add(w),a=q?a.add(v):a.delete(v)):(c=c.delete(v),a=a.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),a=a.delete(v.key),n.track({type:1,doc:v})}return{Ra:c,fa:n,ns:h,mutatedKeys:a}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,o){const a=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const c=e.fa.G_();c.sort(((v,C)=>(function(w,P){const q=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return q(w)-q(P)})(v.type,C.type)||this.Aa(v.doc,C.doc))),this.pa(n),o=o!=null&&o;const h=t&&!o?this.ya():[],y=this.da.size===0&&this.current&&!o?1:0,g=y!==this.Ea;return this.Ea=y,c.length!==0||g?{snapshot:new ha(this.query,e.Ra,a,c,e.mutatedKeys,y===0,g,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:h}:{wa:h}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new TE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((t=>this.Ta=this.Ta.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ta=this.Ta.delete(t))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ze(),this.Ra.forEach((n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))}));const t=[];return e.forEach((n=>{this.da.has(n)||t.push(new SC(n))})),this.da.forEach((n=>{e.has(n)||t.push(new AC(n))})),t}ba(e){this.Ta=e.Ts,this.da=ze();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return ha.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class NU{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class VU{constructor(e){this.key=e,this.va=!1}}class PU{constructor(e,t,n,o,a,c){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=o,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.Ca={},this.Fa=new js((h=>G0(h)),Cf),this.Ma=new Map,this.xa=new Set,this.Oa=new vt(Ce.comparator),this.Na=new Map,this.La=new op,this.Ba={},this.ka=new Map,this.qa=da.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function UU(r,e,t=!0){const n=bC(r);let o;const a=n.Fa.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),o=a.view.Da()):o=await RC(n,e,t,!0),o}async function LU(r,e){const t=bC(r);await RC(t,e,!0,!1)}async function RC(r,e,t,n){const o=await tU(r.localStore,wi(e)),a=o.targetId,c=r.sharedClientState.addLocalQueryTarget(a,t);let h;return n&&(h=await kU(r,e,a,c==="current",o.resumeToken)),r.isPrimaryClient&&t&&yC(r.remoteStore,o),h}async function kU(r,e,t,n,o){r.Ka=(C,S,w)=>(async function(q,$,re,ne){let ie=$.view.ma(re);ie.ns&&(ie=await gE(q.localStore,$.query,!1).then((({documents:b})=>$.view.ma(b,ie))));const ue=ne&&ne.targetChanges.get($.targetId),_e=ne&&ne.targetMismatches.get($.targetId)!=null,fe=$.view.applyChanges(ie,q.isPrimaryClient,ue,_e);return SE(q,$.targetId,fe.wa),fe.snapshot})(r,C,S,w);const a=await gE(r.localStore,e,!0),c=new DU(e,a.Ts),h=c.ma(a.documents),y=jl.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",o),g=c.applyChanges(h,r.isPrimaryClient,y);SE(r,t,g.wa);const v=new NU(e,t,c);return r.Fa.set(e,v),r.Ma.has(t)?r.Ma.get(t).push(e):r.Ma.set(t,[e]),g.snapshot}async function OU(r,e,t){const n=De(r),o=n.Fa.get(e),a=n.Ma.get(o.targetId);if(a.length>1)return n.Ma.set(o.targetId,a.filter((c=>!Cf(c,e)))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||await Pm(n.localStore,o.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(o.targetId),t&&up(n.remoteStore,o.targetId),Lm(n,o.targetId)})).catch(va)):(Lm(n,o.targetId),await Pm(n.localStore,o.targetId,!0))}async function BU(r,e){const t=De(r),n=t.Fa.get(e),o=t.Ma.get(n.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),up(t.remoteStore,n.targetId))}async function FU(r,e,t){const n=KU(r);try{const o=await(function(c,h){const y=De(c),g=Bt.now(),v=h.reduce(((w,P)=>w.add(P.key)),ze());let C,S;return y.persistence.runTransaction("Locally write mutations","readwrite",(w=>{let P=lr(),q=ze();return y.cs.getEntries(w,v).next(($=>{P=$,P.forEach(((re,ne)=>{ne.isValidDocument()||(q=q.add(re))}))})).next((()=>y.localDocuments.getOverlayedDocuments(w,P))).next(($=>{C=$;const re=[];for(const ne of h){const ie=nP(ne,C.get(ne.key).overlayedDocument);ie!=null&&re.push(new hs(ne.key,ie,U0(ie.value.mapValue),li.exists(!0)))}return y.mutationQueue.addMutationBatch(w,g,re,h)})).next(($=>{S=$;const re=$.applyToLocalDocumentSet(C,q);return y.documentOverlayCache.saveOverlays(w,$.batchId,re)}))})).then((()=>({batchId:S.batchId,changes:$0(C)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(o.batchId),(function(c,h,y){let g=c.Ba[c.currentUser.toKey()];g||(g=new vt(Ke)),g=g.insert(h,y),c.Ba[c.currentUser.toKey()]=g})(n,o.batchId,t),await tu(n,o.changes),await Mf(n.remoteStore)}catch(o){const a=mp(o,"Failed to persist write");t.reject(a)}}async function xC(r,e){const t=De(r);try{const n=await WP(t.localStore,e);e.targetChanges.forEach(((o,a)=>{const c=t.Na.get(a);c&&(nt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.va=!0:o.modifiedDocuments.size>0?nt(c.va):o.removedDocuments.size>0&&(nt(c.va),c.va=!1))})),await tu(t,n,e)}catch(n){await va(n)}}function AE(r,e,t){const n=De(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const o=[];n.Fa.forEach(((a,c)=>{const h=c.view.Z_(e);h.snapshot&&o.push(h.snapshot)})),(function(c,h){const y=De(c);y.onlineState=h;let g=!1;y.queries.forEach(((v,C)=>{for(const S of C.j_)S.Z_(h)&&(g=!0)})),g&&pp(y)})(n.eventManager,e),o.length&&n.Ca.d_(o),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function zU(r,e,t){const n=De(r);n.sharedClientState.updateQueryState(e,"rejected",t);const o=n.Na.get(e),a=o&&o.key;if(a){let c=new vt(Ce.comparator);c=c.insert(a,fn.newNoDocument(a,Ie.min()));const h=ze().add(a),y=new xf(Ie.min(),new Map,new vt(Ke),c,h);await xC(n,y),n.Oa=n.Oa.remove(a),n.Na.delete(e),gp(n)}else await Pm(n.localStore,e,!1).then((()=>Lm(n,e,t))).catch(va)}async function qU(r,e){const t=De(r),n=e.batch.batchId;try{const o=await XP(t.localStore,e);IC(t,n,null),wC(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await tu(t,o)}catch(o){await va(o)}}async function GU(r,e,t){const n=De(r);try{const o=await(function(c,h){const y=De(c);return y.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let v;return y.mutationQueue.lookupMutationBatch(g,h).next((C=>(nt(C!==null),v=C.keys(),y.mutationQueue.removeMutationBatch(g,C)))).next((()=>y.mutationQueue.performConsistencyCheck(g))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(g,v,h))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v))).next((()=>y.localDocuments.getDocuments(g,v)))}))})(n.localStore,e);IC(n,e,t),wC(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await tu(n,o)}catch(o){await va(o)}}function wC(r,e){(r.ka.get(e)||[]).forEach((t=>{t.resolve()})),r.ka.delete(e)}function IC(r,e,t){const n=De(r);let o=n.Ba[n.currentUser.toKey()];if(o){const a=o.get(e);a&&(t?a.reject(t):a.resolve(),o=o.remove(e)),n.Ba[n.currentUser.toKey()]=o}}function Lm(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Ma.get(e))r.Fa.delete(n),t&&r.Ca.$a(n,t);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach((n=>{r.La.containsKey(n)||MC(r,n)}))}function MC(r,e){r.xa.delete(e.path.canonicalString());const t=r.Oa.get(e);t!==null&&(up(r.remoteStore,t),r.Oa=r.Oa.remove(e),r.Na.delete(t),gp(r))}function SE(r,e,t){for(const n of t)n instanceof AC?(r.La.addReference(n.key,e),HU(r,n)):n instanceof SC?(de("SyncEngine","Document no longer in limbo: "+n.key),r.La.removeReference(n.key,e),r.La.containsKey(n.key)||MC(r,n.key)):xe()}function HU(r,e){const t=e.key,n=t.path.canonicalString();r.Oa.get(t)||r.xa.has(n)||(de("SyncEngine","New document in limbo: "+t),r.xa.add(n),gp(r))}function gp(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const t=new Ce(gt.fromString(e)),n=r.qa.next();r.Na.set(n,new VU(t)),r.Oa=r.Oa.insert(t,n),yC(r.remoteStore,new Wr(wi(ep(t.path)),n,"TargetPurposeLimboResolution",vf.oe))}}async function tu(r,e,t){const n=De(r),o=[],a=[],c=[];n.Fa.isEmpty()||(n.Fa.forEach(((h,y)=>{c.push(n.Ka(y,e,t).then((g=>{var v;if((g||t)&&n.isPrimaryClient){const C=g?!g.fromCache:(v=t==null?void 0:t.targetChanges.get(y.targetId))===null||v===void 0?void 0:v.current;n.sharedClientState.updateQueryState(y.targetId,C?"current":"not-current")}if(g){o.push(g);const C=lp.Wi(y.targetId,g);a.push(C)}})))})),await Promise.all(c),n.Ca.d_(o),await(async function(y,g){const v=De(y);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(C=>ee.forEach(g,(S=>ee.forEach(S.$i,(w=>v.persistence.referenceDelegate.addReference(C,S.targetId,w))).next((()=>ee.forEach(S.Ui,(w=>v.persistence.referenceDelegate.removeReference(C,S.targetId,w)))))))))}catch(C){if(!Ta(C))throw C;de("LocalStore","Failed to update sequence numbers: "+C)}for(const C of g){const S=C.targetId;if(!C.fromCache){const w=v.os.get(S),P=w.snapshotVersion,q=w.withLastLimboFreeSnapshotVersion(P);v.os=v.os.insert(S,q)}}})(n.localStore,a))}async function YU(r,e){const t=De(r);if(!t.currentUser.isEqual(e)){de("SyncEngine","User change. New user:",e.toKey());const n=await hC(t.localStore,e);t.currentUser=e,(function(a,c){a.ka.forEach((h=>{h.forEach((y=>{y.reject(new me(te.CANCELLED,c))}))})),a.ka.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await tu(t,n.hs)}}function $U(r,e){const t=De(r),n=t.Na.get(e);if(n&&n.va)return ze().add(n.key);{let o=ze();const a=t.Ma.get(e);if(!a)return o;for(const c of a){const h=t.Fa.get(c);o=o.unionWith(h.view.Va)}return o}}function bC(r){const e=De(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=xC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$U.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zU.bind(null,e),e.Ca.d_=IU.bind(null,e.eventManager),e.Ca.$a=MU.bind(null,e.eventManager),e}function KU(r){const e=De(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GU.bind(null,e),e}class hf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wf(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return ZP(this.persistence,new QP,e.initialUser,this.serializer)}Ga(e){return new dC(ap.Zr,this.serializer)}Wa(e){return new iU}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hf.provider={build:()=>new hf};class QU extends hf{constructor(e){super(),this.cacheSizeBytes=e}ja(e,t){nt(this.persistence.referenceDelegate instanceof ff);const n=this.persistence.referenceDelegate.garbageCollector;return new VP(n,e.asyncQueue,t)}Ga(e){const t=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new dC((n=>ff.Zr(n,t)),this.serializer)}}class km{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>AE(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=YU.bind(null,this.syncEngine),await AU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new RU})()}createDatastore(e){const t=wf(e.databaseInfo.databaseId),n=(function(a){return new aU(a)})(e.databaseInfo);return(function(a,c,h,y){return new cU(a,c,h,y)})(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return(function(n,o,a,c,h){return new dU(n,o,a,c,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>AE(this.syncEngine,t,0)),(function(){return _E.D()?new _E:new rU})())}createSyncEngine(e,t){return(function(o,a,c,h,y,g,v){const C=new PU(o,a,c,h,y,g);return v&&(C.Qa=!0),C})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const a=De(o);de("RemoteStore","RemoteStore shutting down."),a.L_.add(5),await eu(a),a.k_.shutdown(),a.q_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}km.provider={build:()=>new km};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JU{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ar("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e,t,n,o,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=o,this.user=un.UNAUTHENTICATED,this.clientId=N0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async c=>{de("FirestoreClient","Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(n,(c=>(de("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=mp(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function jh(r,e){r.asyncQueue.verifyOperationInProgress(),de("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener((async o=>{n.isEqual(o)||(await hC(e.localStore,o),n=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function RE(r,e){r.asyncQueue.verifyOperationInProgress();const t=await XU(r);de("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((n=>vE(e.remoteStore,n))),r.setAppCheckTokenChangeListener(((n,o)=>vE(e.remoteStore,o))),r._onlineComponents=e}async function XU(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){de("FirestoreClient","Using user provided OfflineComponentProvider");try{await jh(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;la("Error using user provided cache. Falling back to memory cache: "+t),await jh(r,new hf)}}else de("FirestoreClient","Using default OfflineComponentProvider"),await jh(r,new QU(void 0));return r._offlineComponents}async function DC(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(de("FirestoreClient","Using user provided OnlineComponentProvider"),await RE(r,r._uninitializedComponentsProvider._online)):(de("FirestoreClient","Using default OnlineComponentProvider"),await RE(r,new km))),r._onlineComponents}function WU(r){return DC(r).then((e=>e.syncEngine))}async function xE(r){const e=await DC(r),t=e.eventManager;return t.onListen=UU.bind(null,e.syncEngine),t.onUnlisten=OU.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=LU.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=BU.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(r,e,t){if(!t)throw new me(te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function jU(r,e,t,n){if(e===!0&&n===!0)throw new me(te.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function IE(r){if(!Ce.isDocumentKey(r))throw new me(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function ME(r){if(Ce.isDocumentKey(r))throw new me(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function bf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":xe()}function ns(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new me(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=bf(r);throw new me(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new me(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new me(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NC((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,o){return n.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Df{constructor(e,t,n,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bE(e),e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new u2;switch(n.type){case"firstParty":return new h2(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new me(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const n=wE.get(t);n&&(de("ComponentProvider","Removing Datastore"),wE.delete(t),n.terminate())})(this),Promise.resolve()}}function eL(r,e,t,n={}){var o;const a=(r=ns(r,Df))._getSettings(),c=`${e}:${t}`;if(a.host!=="firestore.googleapis.com"&&a.host!==c&&la("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),n.mockUserToken){let h,y;if(typeof n.mockUserToken=="string")h=n.mockUserToken,y=un.MOCK_USER;else{h=JV(n.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const g=n.mockUserToken.sub||n.mockUserToken.user_id;if(!g)throw new me(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new un(g)}r._authCredentials=new c2(new D0(h,y))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new to(this.firestore,e,this._query)}}class Mn{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mn(this.firestore,e,this._key)}}class is extends to{constructor(e,t,n){super(e,t,ep(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mn(this.firestore,null,new Ce(e))}withConverter(e){return new is(this.firestore,e,this._path)}}function DE(r,e,...t){if(r=bi(r),VC("collection","path",e),r instanceof Df){const n=gt.fromString(e,...t);return ME(n),new is(r,null,n)}{if(!(r instanceof Mn||r instanceof is))throw new me(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(gt.fromString(e,...t));return ME(n),new is(r.firestore,null,n)}}function Om(r,e,...t){if(r=bi(r),arguments.length===1&&(e=N0.newId()),VC("doc","path",e),r instanceof Df){const n=gt.fromString(e,...t);return IE(n),new Mn(r,null,new Ce(n))}{if(!(r instanceof Mn||r instanceof is))throw new me(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(gt.fromString(e,...t));return IE(n),new Mn(r.firestore,r instanceof is?r.converter:null,new Ce(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new pC(this,"async_queue_retry"),this.Vu=()=>{const n=Wh();n&&de("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const t=Wh();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Wh();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new Qs;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ta(e))throw e;de("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((n=>{this.Eu=n,this.du=!1;const o=(function(c){let h=c.message||"";return c.stack&&(h=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),h})(n);throw ar("INTERNAL UNHANDLED ERROR: ",o),n})).then((n=>(this.du=!1,n))))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const o=hp.createAndSchedule(this,e,t,n,(a=>this.yu(a)));return this.Tu.push(o),o}fu(){this.Eu&&xe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((t,n)=>t.targetTimeMs-n.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function VE(r){return(function(t,n){if(typeof t!="object"||t===null)return!1;const o=t;for(const a of n)if(a in o&&typeof o[a]=="function")return!0;return!1})(r,["next","error","complete"])}class ma extends Df{constructor(e,t,n,o){super(e,t,n,o),this.type="firestore",this._queue=new NE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new NE(e),this._firestoreClient=void 0,await e}}}function tL(r,e){const t=typeof r=="object"?r:v0(),n=typeof r=="string"?r:"(default)",o=RV(t,"firestore").getImmediate({identifier:n});if(!o._initialized){const a=QV("firestore");a&&eL(o,...a)}return o}function PC(r){if(r._terminated)throw new me(te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||nL(r),r._firestoreClient}function nL(r){var e,t,n;const o=r._freezeSettings(),a=(function(h,y,g,v){return new I2(h,y,g,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,NC(v.experimentalLongPollingOptions),v.useFetchStreams)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=o.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new ZU(r._authCredentials,r._appCheckCredentials,r._queue,a,r._componentsProvider&&(function(h){const y=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(y),_online:y}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pa(rn.fromBase64String(e))}catch(t){throw new me(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new pa(rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new me(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new me(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new me(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ke(this._lat,e._lat)||Ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,o){if(n.length!==o.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==o[a])return!1;return!0})(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=/^__.*__$/;class rL{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new hs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wl(e,this.data,t,this.fieldTransforms)}}class UC{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new hs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function LC(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class vp{constructor(e,t,n,o,a,c){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=o,a===void 0&&this.vu(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new vp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:n,xu:!1});return o.Ou(e),o}Nu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:n,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return mf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(LC(this.Cu)&&iL.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class sL{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||wf(e)}Qu(e,t,n,o=!1){return new vp({Cu:e,methodName:t,qu:n,path:nn.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tp(r){const e=r._freezeSettings(),t=wf(r._databaseId);return new sL(r._databaseId,!!e.ignoreUndefinedProperties,t)}function oL(r,e,t,n,o,a={}){const c=r.Qu(a.merge||a.mergeFields?2:0,e,t,o);Cp("Data must be an object, but it was:",c,n);const h=kC(n,c);let y,g;if(a.merge)y=new Bn(c.fieldMask),g=c.fieldTransforms;else if(a.mergeFields){const v=[];for(const C of a.mergeFields){const S=Bm(e,C,t);if(!c.contains(S))throw new me(te.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);BC(v,S)||v.push(S)}y=new Bn(v),g=c.fieldTransforms.filter((C=>y.covers(C.field)))}else y=null,g=c.fieldTransforms;return new rL(new In(h),y,g)}class Pf extends Vf{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Pf}}class Ep extends Vf{constructor(e,t){super(e),this.$u=t}_toFieldTransform(e){const t=new Jl(e.serializer,J0(e.serializer,this.$u));return new W2(e.path,t)}isEqual(e){return e instanceof Ep&&this.$u===e.$u}}function aL(r,e,t,n){const o=r.Qu(1,e,t);Cp("Data must be an object, but it was:",o,n);const a=[],c=In.empty();ds(n,((y,g)=>{const v=Ap(e,y,t);g=bi(g);const C=o.Nu(v);if(g instanceof Pf)a.push(v);else{const S=nu(g,C);S!=null&&(a.push(v),c.set(v,S))}}));const h=new Bn(a);return new UC(c,h,o.fieldTransforms)}function lL(r,e,t,n,o,a){const c=r.Qu(1,e,t),h=[Bm(e,n,t)],y=[o];if(a.length%2!=0)throw new me(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<a.length;S+=2)h.push(Bm(e,a[S])),y.push(a[S+1]);const g=[],v=In.empty();for(let S=h.length-1;S>=0;--S)if(!BC(g,h[S])){const w=h[S];let P=y[S];P=bi(P);const q=c.Nu(w);if(P instanceof Pf)g.push(w);else{const $=nu(P,q);$!=null&&(g.push(w),v.set(w,$))}}const C=new Bn(g);return new UC(v,C,c.fieldTransforms)}function uL(r,e,t,n=!1){return nu(t,r.Qu(n?4:3,e))}function nu(r,e){if(OC(r=bi(r)))return Cp("Unsupported field value:",e,r),kC(r,e);if(r instanceof Vf)return(function(n,o){if(!LC(o.Cu))throw o.Bu(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(o);a&&o.fieldTransforms.push(a)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return(function(n,o){const a=[];let c=0;for(const h of n){let y=nu(h,o.Lu(c));y==null&&(y={nullValue:"NULL_VALUE"}),a.push(y),c++}return{arrayValue:{values:a}}})(r,e)}return(function(n,o){if((n=bi(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return J0(o.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Bt.fromDate(n);return{timestampValue:cf(o.serializer,a)}}if(n instanceof Bt){const a=new Bt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:cf(o.serializer,a)}}if(n instanceof yp)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof pa)return{bytesValue:sC(o.serializer,n._byteString)};if(n instanceof Mn){const a=o.databaseId,c=n.firestore._databaseId;if(!c.isEqual(a))throw o.Bu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:sp(n.firestore._databaseId||o.databaseId,n._key.path)}}if(n instanceof _p)return(function(c,h){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:c.toArray().map((y=>{if(typeof y!="number")throw h.Bu("VectorValues must only contain numeric values.");return tp(h.serializer,y)}))}}}}}})(n,o);throw o.Bu(`Unsupported field value: ${bf(n)}`)})(r,e)}function kC(r,e){const t={};return V0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ds(r,((n,o)=>{const a=nu(o,e.Mu(n));a!=null&&(t[n]=a)})),{mapValue:{fields:t}}}function OC(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Bt||r instanceof yp||r instanceof pa||r instanceof Mn||r instanceof Vf||r instanceof _p)}function Cp(r,e,t){if(!OC(t)||!(function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)})(t)){const n=bf(t);throw n==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+n)}}function Bm(r,e,t){if((e=bi(e))instanceof Nf)return e._internalPath;if(typeof e=="string")return Ap(r,e);throw mf("Field path arguments must be of type string or ",r,!1,void 0,t)}const cL=new RegExp("[~\\*/\\[\\]]");function Ap(r,e,t){if(e.search(cL)>=0)throw mf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Nf(...e.split("."))._internalPath}catch{throw mf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function mf(r,e,t,n,o){const a=n&&!n.isEmpty(),c=o!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let y="";return(a||c)&&(y+=" (found",a&&(y+=` in field ${n}`),c&&(y+=` in document ${o}`),y+=")"),new me(te.INVALID_ARGUMENT,h+r+y)}function BC(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,t,n,o,a){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=o,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Sp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class fL extends FC{data(){return super.data()}}function Sp(r,e){return typeof e=="string"?Ap(r,e):e instanceof Nf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new me(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rp{}class zC extends Rp{}function hL(r,e,...t){let n=[];e instanceof Rp&&n.push(e),n=n.concat(t),(function(a){const c=a.filter((y=>y instanceof wp)).length,h=a.filter((y=>y instanceof xp)).length;if(c>1||c>0&&h>0)throw new me(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const o of n)r=o._apply(r);return r}class xp extends zC{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new xp(e,t,n)}_apply(e){const t=this._parse(e);return qC(e._query,t),new to(e.firestore,e.converter,Im(e._query,t))}_parse(e){const t=Tp(e.firestore);return(function(a,c,h,y,g,v,C){let S;if(g.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new me(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){UE(C,v);const w=[];for(const P of C)w.push(PE(y,a,P));S={arrayValue:{values:w}}}else S=PE(y,a,C)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||UE(C,v),S=uL(h,c,C,v==="in"||v==="not-in");return Lt.create(g,v,S)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}class wp extends Rp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new wp(e,t)}_parse(e){const t=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return t.length===1?t[0]:ui.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,a){let c=o;const h=a.getFlattenedFilters();for(const y of h)qC(c,y),c=Im(c,y)})(e._query,t),new to(e.firestore,e.converter,Im(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ip extends zC{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ip(e,t)}_apply(e){const t=(function(o,a,c){if(o.startAt!==null)throw new me(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new me(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $l(a,c)})(e._query,this._field,this._direction);return new to(e.firestore,e.converter,(function(o,a){const c=o.explicitOrderBy.concat([a]);return new Ea(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,t))}}function mL(r,e="asc"){const t=e,n=Sp("orderBy",r);return Ip._create(n,t)}function PE(r,e,t){if(typeof(t=bi(t))=="string"){if(t==="")throw new me(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!q0(e)&&t.indexOf("/")!==-1)throw new me(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(gt.fromString(t));if(!Ce.isDocumentKey(n))throw new me(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return XT(r,new Ce(n))}if(t instanceof Mn)return XT(r,t._key);throw new me(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bf(t)}.`)}function UE(r,e){if(!Array.isArray(r)||r.length===0)throw new me(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qC(r,e){const t=(function(o,a){for(const c of o)for(const h of c.getFlattenedFilters())if(a.indexOf(h.op)>=0)return h.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new me(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new me(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class pL{convertValue(e,t="none"){switch(ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return It(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(as(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw xe()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return ds(e,((o,a)=>{n[o]=this.convertValue(a,t)})),n}convertVectorValue(e){var t,n,o;const a=(o=(n=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||n===void 0?void 0:n.values)===null||o===void 0?void 0:o.map((c=>It(c.doubleValue)));return new _p(a)}convertGeoPoint(e){return new yp(It(e.latitude),It(e.longitude))}convertArray(e,t){return(e.values||[]).map((n=>this.convertValue(n,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ef(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Gl(e));default:return null}}convertTimestamp(e){const t=os(e);return new Bt(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=gt.fromString(e);nt(fC(n));const o=new Hl(n.get(1),n.get(3)),a=new Ce(n.popFirst(5));return o.isEqual(t)||ar(`Document ${a} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(r,e,t){let n;return n=r?r.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class GC extends FC{constructor(e,t,n,o,a,c){super(e,t,n,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Sp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Kc extends GC{data(e={}){return super.data(e)}}class yL{constructor(e,t,n,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Nl(o.hasPendingWrites,o.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Kc(this._firestore,this._userDataWriter,n.key,n,new Nl(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new me(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,a){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map((h=>{const y=new Kc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Nl(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);return h.doc,{type:"added",doc:y,oldIndex:-1,newIndex:c++}}))}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((h=>a||h.type!==3)).map((h=>{const y=new Kc(o._firestore,o._userDataWriter,h.doc.key,h.doc,new Nl(o._snapshot.mutatedKeys.has(h.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,v=-1;return h.type!==0&&(g=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),v=c.indexOf(h.doc.key)),{type:_L(h.type),doc:y,oldIndex:g,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function _L(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}class HC extends pL{constructor(e){super(),this.firestore=e}convertBytes(e){return new pa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mn(this.firestore,null,t)}}function vL(r,e,t,...n){r=ns(r,Mn);const o=ns(r.firestore,ma),a=Tp(o);let c;return c=typeof(e=bi(e))=="string"||e instanceof Nf?lL(a,"updateDoc",r._key,e,t,n):aL(a,"updateDoc",r._key,e),Mp(o,[c.toMutation(r._key,li.exists(!0))])}function TL(r){return Mp(ns(r.firestore,ma),[new np(r._key,li.none())])}function EL(r,e){const t=ns(r.firestore,ma),n=Om(r),o=gL(r.converter,e);return Mp(t,[oL(Tp(r.firestore),"addDoc",n._key,o,r.converter!==null,{}).toMutation(n._key,li.exists(!1))]).then((()=>n))}function CL(r,...e){var t,n,o;r=bi(r);let a={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||VE(e[c])||(a=e[c],c++);const h={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(VE(e[c])){const C=e[c];e[c]=(t=C.next)===null||t===void 0?void 0:t.bind(C),e[c+1]=(n=C.error)===null||n===void 0?void 0:n.bind(C),e[c+2]=(o=C.complete)===null||o===void 0?void 0:o.bind(C)}let y,g,v;if(r instanceof Mn)g=ns(r.firestore,ma),v=ep(r._key.path),y={next:C=>{e[c]&&e[c](AL(g,r,C))},error:e[c+1],complete:e[c+2]};else{const C=ns(r,to);g=ns(C.firestore,ma),v=C._query;const S=new HC(g);y={next:w=>{e[c]&&e[c](new yL(g,S,C,w))},error:e[c+1],complete:e[c+2]},dL(r._query)}return(function(S,w,P,q){const $=new JU(q),re=new bU(w,$,P);return S.asyncQueue.enqueueAndForget((async()=>xU(await xE(S),re))),()=>{$.Za(),S.asyncQueue.enqueueAndForget((async()=>wU(await xE(S),re)))}})(PC(g),v,h,y)}function Mp(r,e){return(function(n,o){const a=new Qs;return n.asyncQueue.enqueueAndForget((async()=>FU(await WU(n),o,a))),a.promise})(PC(r),e)}function AL(r,e,t){const n=t.docs.get(e._key),o=new HC(r);return new GC(r,o,e._key,n,new Nl(t.hasPendingWrites,t.fromCache),e.converter)}function SL(r){return new Ep("increment",r)}(function(e,t=!0){(function(o){_a=o})(IV),of(new i2("firestore",((n,{instanceIdentifier:o,options:a})=>{const c=n.getProvider("app").getImmediate(),h=new ma(new f2(n.getProvider("auth-internal")),new p2(n.getProvider("app-check-internal")),(function(g,v){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new me(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Hl(g.options.projectId,v)})(c,o),c);return a=Object.assign({useFetchStreams:t},a),h._setSettings(a),h}),"PUBLIC").setMultipleInstances(!0)),Pl(YT,"4.7.4",e),Pl(YT,"4.7.4","esm2017")})();const Qc={apiKey:"AIzaSyA8IjOIdKH76Klu5XDxYjF6EnZyY_TaEXQ",authDomain:"fund-camh.firebaseapp.com",projectId:"fund-camh",storageBucket:"fund-camh.firebasestorage.app",messagingSenderId:"24730708044",appId:"1:24730708044:web:9017d67bc7d7d31a7eace9",measurementId:"G-6QF2Q9EX7D"},Si=Qc.projectId!==""&&Qc.projectId!=="PASTE_YOUR_PROJECT_ID_HERE"&&!Qc.apiKey.includes("PASTE_YOUR");let Ai=null;try{if(Si){const r=MV().length===0?_0(Qc):v0();Ai=tL(r),console.log(" Firebase Connected: Community Feed is now Global.")}else console.warn(" Firebase configuration missing. App will function in local mode.")}catch(r){console.error(" Firebase Initialization Error:",r),Ai=null}const kc="posts",Oc={subscribeToPosts(r){if(!Si||!Ai)return console.warn("API: Firestore not available for subscription."),()=>{};try{const e=DE(Ai,kc),t=hL(e,mL("timestamp","desc"));return CL(t,n=>{const o=[];n.forEach(a=>{const c=a.data();o.push({id:a.id,author:c.author,content:c.content,category:c.category,timestamp:c.timestamp,aiReflection:c.aiReflection,helpfulCount:c.helpfulCount||0})}),r(o)},n=>{console.error("Firestore Subscription Error:",n)})}catch(e){return console.error("Failed to setup subscription:",e),()=>{}}},async createPost(r){if(!Si||!Ai)throw new Error("Firebase not configured or initialized");const e={...r,timestamp:Date.now(),helpfulCount:0};try{const t=DE(Ai,kc);return(await EL(t,e)).id}catch(t){throw console.error("Firestore Error [createPost]:",t),t}},async deletePost(r){if(!(!Si||!Ai))try{const e=Om(Ai,kc,r);await TL(e)}catch(e){throw console.error("Firestore Error [deletePost]:",e),e}},async toggleHelpful(r){if(!(!Si||!Ai))try{const e=Om(Ai,kc,r);await vL(e,{helpfulCount:SL(1)})}catch(e){throw console.error("Firestore Error [toggleHelpful]:",e),e}}},RL=()=>{const[r,e]=cn.useState([]),[t,n]=cn.useState(!1),[o,a]=cn.useState(!1),[c,h]=cn.useState(""),[y,g]=cn.useState(!1),[v,C]=cn.useState(!1),S="https://give.camh.ca/site/Donation2?df_id=2463&2463.donation=form1",w="CAMH-ADMIN-2025";cn.useEffect(()=>{if(Si){const ne=Oc.subscribeToPosts(ie=>{e(ie),C(!0)});return()=>ne()}else{const ne=localStorage.getItem("camh_local_posts");ne&&e(JSON.parse(ne)),C(!1)}},[]);const P=async(ne,ie,ue)=>{if(!Si){const fe=[{id:Math.random().toString(36).substr(2,9),author:"Community Member (Local)",content:ne,category:ie,timestamp:Date.now(),aiReflection:ue,helpfulCount:0},...r];e(fe),localStorage.setItem("camh_local_posts",JSON.stringify(fe));return}try{await Oc.createPost({author:"Community Member",content:ne,category:ie,aiReflection:ue})}catch(_e){console.error("Failed to sync post:",_e)}},q=async ne=>{if(!Si){const ie=r.filter(ue=>ue.id!==ne);e(ie),localStorage.setItem("camh_local_posts",JSON.stringify(ie));return}await Oc.deletePost(ne)},$=async ne=>{if(!Si){const ie=r.map(ue=>ue.id===ne?{...ue,helpfulCount:(ue.helpfulCount||0)+1}:ue);e(ie),localStorage.setItem("camh_local_posts",JSON.stringify(ie));return}await Oc.toggleHelpful(ne)},re=ne=>{ne.preventDefault(),c===w?(n(!0),a(!1),h(""),g(!1)):(g(!0),setTimeout(()=>g(!1),2e3))};return O.jsx(d1,{children:O.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col font-sans selection:bg-indigo-100 selection:text-indigo-900 overflow-x-hidden",children:[O.jsx(DS,{isLive:v&&Si}),o&&O.jsx("div",{className:"fixed inset-0 z-[100] bg-slate-900/60 backdrop-blur-xl flex items-center justify-center p-4 animate-fade-in",children:O.jsxs("div",{className:"bg-white rounded-[2.5rem] p-10 max-w-sm w-full shadow-2xl border border-slate-100",children:[O.jsxs("div",{className:"text-center mb-8",children:[O.jsx("div",{className:"w-16 h-16 bg-red-50 text-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:O.jsx("i",{className:"fa-solid fa-shield-halved text-2xl"})}),O.jsx("h3",{className:"text-2xl font-black text-slate-900",children:"Admin Access"}),O.jsx("p",{className:"text-slate-500 text-sm mt-2",children:"Manage the community feed."})]}),O.jsxs("form",{onSubmit:re,className:"space-y-4",children:[O.jsx("input",{type:"password",autoFocus:!0,value:c,onChange:ne=>h(ne.target.value),placeholder:"Passcode",className:`w-full p-5 bg-slate-50 border rounded-2xl outline-none transition-all text-center font-mono text-lg ${y?"border-red-500 animate-shake":"border-slate-200 focus:ring-2 focus:ring-indigo-500"}`}),O.jsxs("div",{className:"flex gap-3",children:[O.jsx("button",{type:"button",onClick:()=>a(!1),className:"flex-1 py-4 font-bold text-slate-400",children:"Cancel"}),O.jsx("button",{type:"submit",className:"flex-[2] bg-slate-900 text-white py-4 rounded-2xl font-bold shadow-xl active:scale-95",children:"Verify"})]})]})]})}),O.jsx("main",{className:"flex-grow max-w-4xl mx-auto w-full px-6 py-12 md:py-20",children:O.jsxs("section",{className:"text-center mb-16 animate-fade-in",children:[O.jsx("div",{className:"mb-8",children:O.jsx("span",{className:"inline-block px-5 py-2 bg-indigo-50 text-indigo-600 rounded-full text-[10px] font-black uppercase tracking-[0.3em] mb-4",children:"Community Awareness Project"})}),O.jsxs("h1",{className:"text-5xl sm:text-7xl md:text-[100px] font-[950] text-slate-900 leading-[0.85] tracking-tighter mb-8",children:["Don't Fund ",O.jsx("span",{className:"text-indigo-600",children:"Me."}),O.jsx("br",{}),"Go Fund ",O.jsx("span",{className:"text-indigo-600",children:"CAMH."})]}),O.jsxs("p",{className:"text-lg md:text-xl text-slate-500 font-medium leading-tight max-w-2xl mx-auto mb-10",children:["100% of your support should go directly to the experts at the ",O.jsx("strong",{className:"text-slate-900 font-black",children:"Centre for Addiction and Mental Health."})]}),O.jsx("div",{className:"flex justify-center mb-20",children:O.jsxs("a",{href:S,target:"_blank",rel:"noopener noreferrer",className:"w-full sm:w-auto bg-indigo-600 text-white px-14 py-7 rounded-[2.5rem] font-black text-2xl hover:bg-indigo-700 transition-all shadow-[0_25px_50px_rgba(79,70,229,0.3)] hover:scale-[1.02] active:scale-95 flex items-center justify-center gap-4 group",children:[O.jsx("i",{className:"fa-solid fa-heart-pulse group-hover:animate-ping"}),"Give Directly to CAMH"]})}),O.jsxs("div",{className:"text-left space-y-10",children:[O.jsxs("div",{className:"flex items-center gap-4",children:[O.jsx("h2",{className:"text-2xl font-black text-slate-900 tracking-tight whitespace-nowrap",children:"Community Feed"}),O.jsx("div",{className:"h-px w-full bg-slate-200"})]}),O.jsx("div",{className:"bg-white p-6 md:p-10 rounded-[3rem] border border-slate-200 shadow-sm transition-all hover:shadow-md",children:O.jsx(c1,{onAddPost:P})}),O.jsxs("div",{className:"flex items-center justify-between px-2",children:[O.jsx("p",{className:"text-slate-400 text-[10px] font-black uppercase tracking-[0.3em]",children:"Voices of Support"}),O.jsxs("button",{onClick:()=>t?n(!1):a(!0),className:`text-[9px] font-black uppercase tracking-widest px-4 py-2 rounded-full transition-all border ${t?"bg-red-600 text-white border-red-700 shadow-lg":"bg-white text-slate-400 border-slate-200 hover:border-slate-300"}`,children:[O.jsx("i",{className:`fa-solid ${t?"fa-unlock":"fa-lock"} mr-1.5`}),t?"Exit Admin":"Admin"]})]}),O.jsx(f1,{posts:r,onDeletePost:q,onToggleHelpful:$,moderatorMode:t})]})]})}),O.jsx("footer",{className:"py-16 px-6 bg-white border-t border-slate-200",children:O.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[O.jsx("p",{className:"text-[9px] font-black uppercase tracking-[0.5em] text-indigo-400 mb-6",children:"Transparency First"}),O.jsx("p",{className:"text-slate-400 text-xs font-medium leading-relaxed max-w-lg mx-auto",children:"This project is independent. We do not handle money. All donation links lead to the verified CAMH portal."}),O.jsx("div",{className:"mt-8 text-slate-200",children:O.jsx("i",{className:"fa-solid fa-handshake-angle text-3xl"})})]})}),O.jsx("style",{children:`
        @keyframes fade-in {
          from { opacity: 0; transform: translateY(15px); }
          to { opacity: 1; transform: translateY(0); }
        }
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-4px); }
          75% { transform: translateX(4px); }
        }
        .animate-fade-in { 
          animation: fade-in 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards; 
        }
        .animate-shake { 
          animation: shake 0.2s cubic-bezier(.36,.07,.19,.97) both; 
        }
      `})]})})},YC=document.getElementById("root");if(!YC)throw new Error("Could not find root element to mount to");const xL=bS.createRoot(YC);xL.render(O.jsx(CS.StrictMode,{children:O.jsx(RL,{})}));
